

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>statsmodels.tsa.tests.test_arima &mdash; Statsmodels API v1</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Statsmodels API v1" href="../../../../index.html"/>
        <link rel="up" title="statsmodels" href="../../../statsmodels.html"/> 

  
  <script src="../../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../../index.html" class="icon icon-home"> Statsmodels API
          

          
          </a>

          
            
            
              <div class="version">
                1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Table of Contents</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../main_api.html">1. Main API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../doc_basic/index.html">2. Basic Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../main.html">3. Main modules of interest</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../submain.html">4. Other modules of interest</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../sandbox.html">5. statsmodel.sandbox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../sandbox2.html">6. statsmodel.sandbox2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../doc/index.html">7. From official doc</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">Statsmodels API</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          













<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../../index.html">Module code</a> &raquo;</li>
        
          <li><a href="../../../statsmodels.html">statsmodels</a> &raquo;</li>
        
      <li>statsmodels.tsa.tests.test_arima</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for statsmodels.tsa.tests.test_arima</h1><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">statsmodels.compat.python</span> <span class="k">import</span> <span class="n">lrange</span><span class="p">,</span> <span class="n">BytesIO</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">nose.tools</span> <span class="k">import</span> <span class="n">nottest</span>
<span class="kn">from</span> <span class="nn">numpy.testing</span> <span class="k">import</span> <span class="p">(</span><span class="n">assert_almost_equal</span><span class="p">,</span> <span class="n">assert_</span><span class="p">,</span>
                           <span class="n">assert_raises</span><span class="p">,</span> <span class="n">dec</span><span class="p">,</span> <span class="n">TestCase</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">statsmodels.tools.testing</span> <span class="k">import</span> <span class="n">assert_equal</span>
<span class="kn">import</span> <span class="nn">statsmodels.sandbox.tsa.fftarma</span> <span class="k">as</span> <span class="nn">fa</span>
<span class="kn">from</span> <span class="nn">statsmodels.tsa.arma_mle</span> <span class="k">import</span> <span class="n">Arma</span>
<span class="kn">from</span> <span class="nn">statsmodels.tsa.arima_model</span> <span class="k">import</span> <span class="n">ARMA</span><span class="p">,</span> <span class="n">ARIMA</span>
<span class="kn">from</span> <span class="nn">statsmodels.regression.linear_model</span> <span class="k">import</span> <span class="n">OLS</span>
<span class="kn">from</span> <span class="nn">statsmodels.tsa.base.datetools</span> <span class="k">import</span> <span class="n">dates_from_range</span>
<span class="kn">from</span> <span class="nn">.results</span> <span class="k">import</span> <span class="n">results_arma</span><span class="p">,</span> <span class="n">results_arima</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">statsmodels.tsa.arima_process</span> <span class="k">import</span> <span class="n">arma_generate_sample</span>
<span class="kn">from</span> <span class="nn">statsmodels.datasets.macrodata</span> <span class="k">import</span> <span class="n">load</span> <span class="k">as</span> <span class="n">load_macrodata</span>
<span class="kn">from</span> <span class="nn">statsmodels.datasets.macrodata</span> <span class="k">import</span> <span class="n">load_pandas</span> <span class="k">as</span> <span class="n">load_macrodata_pandas</span>
<span class="kn">import</span> <span class="nn">pandas</span>

<span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
    <span class="n">have_matplotlib</span> <span class="o">=</span> <span class="kc">True</span>
<span class="k">except</span><span class="p">:</span>
    <span class="n">have_matplotlib</span> <span class="o">=</span> <span class="kc">False</span>

<span class="n">DECIMAL_4</span> <span class="o">=</span> <span class="mi">4</span>
<span class="n">DECIMAL_3</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">DECIMAL_2</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">DECIMAL_1</span> <span class="o">=</span> <span class="mi">1</span>

<span class="n">current_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">__file__</span><span class="p">))</span>
<span class="n">y_arma</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">genfromtxt</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="n">current_path</span> <span class="o">+</span> <span class="s1">&#39;/results/y_arma_data.csv&#39;</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">),</span>
        <span class="n">delimiter</span><span class="o">=</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="n">skip_header</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span>

<span class="n">cpi_dates</span> <span class="o">=</span> <span class="n">dates_from_range</span><span class="p">(</span><span class="s1">&#39;1959Q1&#39;</span><span class="p">,</span> <span class="s1">&#39;2009Q3&#39;</span><span class="p">)</span>
<span class="n">cpi_predict_dates</span> <span class="o">=</span> <span class="n">dates_from_range</span><span class="p">(</span><span class="s1">&#39;2009Q3&#39;</span><span class="p">,</span> <span class="s1">&#39;2015Q4&#39;</span><span class="p">)</span>
<span class="n">sun_dates</span> <span class="o">=</span> <span class="n">dates_from_range</span><span class="p">(</span><span class="s1">&#39;1700&#39;</span><span class="p">,</span> <span class="s1">&#39;2008&#39;</span><span class="p">)</span>
<span class="n">sun_predict_dates</span> <span class="o">=</span> <span class="n">dates_from_range</span><span class="p">(</span><span class="s1">&#39;2008&#39;</span><span class="p">,</span> <span class="s1">&#39;2033&#39;</span><span class="p">)</span>

<span class="kn">from</span> <span class="nn">pandas</span> <span class="k">import</span> <span class="n">DatetimeIndex</span>  <span class="c1"># pylint: disable-msg=E0611</span>
<span class="n">cpi_dates</span> <span class="o">=</span> <span class="n">DatetimeIndex</span><span class="p">(</span><span class="n">cpi_dates</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;infer&#39;</span><span class="p">)</span>
<span class="n">sun_dates</span> <span class="o">=</span> <span class="n">DatetimeIndex</span><span class="p">(</span><span class="n">sun_dates</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;infer&#39;</span><span class="p">)</span>
<span class="n">cpi_predict_dates</span> <span class="o">=</span> <span class="n">DatetimeIndex</span><span class="p">(</span><span class="n">cpi_predict_dates</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;infer&#39;</span><span class="p">)</span>
<span class="n">sun_predict_dates</span> <span class="o">=</span> <span class="n">DatetimeIndex</span><span class="p">(</span><span class="n">sun_predict_dates</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;infer&#39;</span><span class="p">)</span>


<div class="viewcode-block" id="test_compare_arma"><a class="viewcode-back" href="../../../../generated/statsmodels.tsa.tests.test_arima.test_compare_arma.html#statsmodels.tsa.tests.test_arima.test_compare_arma">[docs]</a><span class="k">def</span> <span class="nf">test_compare_arma</span><span class="p">():</span>
    <span class="c1">#this is a preliminary test to compare arma_kf, arma_cond_ls and arma_cond_mle</span>
    <span class="c1">#the results returned by the fit methods are incomplete</span>
    <span class="c1">#for now without random.seed</span>

    <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">9876565</span><span class="p">)</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">fa</span><span class="o">.</span><span class="n">ArmaFft</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">],</span> <span class="p">[</span><span class="mf">1.</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">],</span> <span class="mi">40</span><span class="p">)</span><span class="o">.</span><span class="n">generate_sample</span><span class="p">(</span><span class="n">nsample</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span>
            <span class="n">burnin</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>

    <span class="c1"># this used kalman filter through descriptive</span>
    <span class="c1">#d = ARMA(x)</span>
    <span class="c1">#d.fit((1,1), trend=&#39;nc&#39;)</span>
    <span class="c1">#dres = d.res</span>

    <span class="n">modkf</span> <span class="o">=</span> <span class="n">ARMA</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
    <span class="c1">##rkf = mkf.fit((1,1))</span>
    <span class="c1">##rkf.params</span>
    <span class="n">reskf</span> <span class="o">=</span> <span class="n">modkf</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">trend</span><span class="o">=</span><span class="s1">&#39;nc&#39;</span><span class="p">,</span> <span class="n">disp</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">dres</span> <span class="o">=</span> <span class="n">reskf</span>

    <span class="n">modc</span> <span class="o">=</span> <span class="n">Arma</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">resls</span> <span class="o">=</span> <span class="n">modc</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">order</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
    <span class="n">rescm</span> <span class="o">=</span> <span class="n">modc</span><span class="o">.</span><span class="n">fit_mle</span><span class="p">(</span><span class="n">order</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">start_params</span><span class="o">=</span><span class="p">[</span><span class="mf">0.4</span><span class="p">,</span><span class="mf">0.4</span><span class="p">,</span> <span class="mf">1.</span><span class="p">],</span> <span class="n">disp</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

    <span class="c1">#decimal 1 corresponds to threshold of 5% difference</span>
    <span class="c1">#still different sign  corrcted</span>
    <span class="c1">#assert_almost_equal(np.abs(resls[0] / d.params), np.ones(d.params.shape), decimal=1)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">resls</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="n">dres</span><span class="o">.</span><span class="n">params</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="n">dres</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">shape</span><span class="p">),</span>
        <span class="n">decimal</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="c1">#rescm also contains variance estimate as last element of params</span>

    <span class="c1">#assert_almost_equal(np.abs(rescm.params[:-1] / d.params), np.ones(d.params.shape), decimal=1)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">rescm</span><span class="o">.</span><span class="n">params</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="n">dres</span><span class="o">.</span><span class="n">params</span><span class="p">,</span>
                        <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="n">dres</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">shape</span><span class="p">),</span> <span class="n">decimal</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span></div>
    <span class="c1">#return resls[0], d.params, rescm.params</span>


<div class="viewcode-block" id="CheckArmaResultsMixin"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.CheckArmaResultsMixin.html#statsmodels.tsa.tests.test_arima.CheckArmaResultsMixin">[docs]</a><span class="k">class</span> <span class="nc">CheckArmaResultsMixin</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    res2 are the results from gretl.  They are in results/results_arma.</span>
<span class="sd">    res1 are from statsmodels</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">decimal_params</span> <span class="o">=</span> <span class="n">DECIMAL_4</span>
<div class="viewcode-block" id="CheckArmaResultsMixin.test_params"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.CheckArmaResultsMixin.test_params.html#statsmodels.tsa.tests.test_arima.CheckArmaResultsMixin.test_params">[docs]</a>    <span class="k">def</span> <span class="nf">test_params</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">assert_almost_equal</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">params</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">res2</span><span class="o">.</span><span class="n">params</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">decimal_params</span><span class="p">)</span></div>

    <span class="n">decimal_aic</span> <span class="o">=</span> <span class="n">DECIMAL_4</span>
<div class="viewcode-block" id="CheckArmaResultsMixin.test_aic"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.CheckArmaResultsMixin.test_aic.html#statsmodels.tsa.tests.test_arima.CheckArmaResultsMixin.test_aic">[docs]</a>    <span class="k">def</span> <span class="nf">test_aic</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">assert_almost_equal</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">aic</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">res2</span><span class="o">.</span><span class="n">aic</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">decimal_aic</span><span class="p">)</span></div>

    <span class="n">decimal_bic</span> <span class="o">=</span> <span class="n">DECIMAL_4</span>
<div class="viewcode-block" id="CheckArmaResultsMixin.test_bic"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.CheckArmaResultsMixin.test_bic.html#statsmodels.tsa.tests.test_arima.CheckArmaResultsMixin.test_bic">[docs]</a>    <span class="k">def</span> <span class="nf">test_bic</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">assert_almost_equal</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">bic</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">res2</span><span class="o">.</span><span class="n">bic</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">decimal_bic</span><span class="p">)</span></div>

    <span class="n">decimal_arroots</span> <span class="o">=</span> <span class="n">DECIMAL_4</span>
<div class="viewcode-block" id="CheckArmaResultsMixin.test_arroots"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.CheckArmaResultsMixin.test_arroots.html#statsmodels.tsa.tests.test_arima.CheckArmaResultsMixin.test_arroots">[docs]</a>    <span class="k">def</span> <span class="nf">test_arroots</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">assert_almost_equal</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">arroots</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">res2</span><span class="o">.</span><span class="n">arroots</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">decimal_arroots</span><span class="p">)</span></div>

    <span class="n">decimal_maroots</span> <span class="o">=</span> <span class="n">DECIMAL_4</span>
<div class="viewcode-block" id="CheckArmaResultsMixin.test_maroots"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.CheckArmaResultsMixin.test_maroots.html#statsmodels.tsa.tests.test_arima.CheckArmaResultsMixin.test_maroots">[docs]</a>    <span class="k">def</span> <span class="nf">test_maroots</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">assert_almost_equal</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">maroots</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">res2</span><span class="o">.</span><span class="n">maroots</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">decimal_maroots</span><span class="p">)</span></div>

    <span class="n">decimal_bse</span> <span class="o">=</span> <span class="n">DECIMAL_2</span>
<div class="viewcode-block" id="CheckArmaResultsMixin.test_bse"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.CheckArmaResultsMixin.test_bse.html#statsmodels.tsa.tests.test_arima.CheckArmaResultsMixin.test_bse">[docs]</a>    <span class="k">def</span> <span class="nf">test_bse</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">assert_almost_equal</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">bse</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">res2</span><span class="o">.</span><span class="n">bse</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">decimal_bse</span><span class="p">)</span></div>

    <span class="n">decimal_cov_params</span> <span class="o">=</span> <span class="n">DECIMAL_4</span>
<div class="viewcode-block" id="CheckArmaResultsMixin.test_covparams"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.CheckArmaResultsMixin.test_covparams.html#statsmodels.tsa.tests.test_arima.CheckArmaResultsMixin.test_covparams">[docs]</a>    <span class="k">def</span> <span class="nf">test_covparams</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">assert_almost_equal</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">cov_params</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">res2</span><span class="o">.</span><span class="n">cov_params</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">decimal_cov_params</span><span class="p">)</span></div>

    <span class="n">decimal_hqic</span> <span class="o">=</span> <span class="n">DECIMAL_4</span>
<div class="viewcode-block" id="CheckArmaResultsMixin.test_hqic"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.CheckArmaResultsMixin.test_hqic.html#statsmodels.tsa.tests.test_arima.CheckArmaResultsMixin.test_hqic">[docs]</a>    <span class="k">def</span> <span class="nf">test_hqic</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">assert_almost_equal</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">hqic</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">res2</span><span class="o">.</span><span class="n">hqic</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">decimal_hqic</span><span class="p">)</span></div>

    <span class="n">decimal_llf</span> <span class="o">=</span> <span class="n">DECIMAL_4</span>
<div class="viewcode-block" id="CheckArmaResultsMixin.test_llf"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.CheckArmaResultsMixin.test_llf.html#statsmodels.tsa.tests.test_arima.CheckArmaResultsMixin.test_llf">[docs]</a>    <span class="k">def</span> <span class="nf">test_llf</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">assert_almost_equal</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">llf</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">res2</span><span class="o">.</span><span class="n">llf</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">decimal_llf</span><span class="p">)</span></div>

    <span class="n">decimal_resid</span> <span class="o">=</span> <span class="n">DECIMAL_4</span>
<div class="viewcode-block" id="CheckArmaResultsMixin.test_resid"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.CheckArmaResultsMixin.test_resid.html#statsmodels.tsa.tests.test_arima.CheckArmaResultsMixin.test_resid">[docs]</a>    <span class="k">def</span> <span class="nf">test_resid</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">assert_almost_equal</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">resid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">res2</span><span class="o">.</span><span class="n">resid</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">decimal_resid</span><span class="p">)</span></div>

    <span class="n">decimal_fittedvalues</span> <span class="o">=</span> <span class="n">DECIMAL_4</span>
<div class="viewcode-block" id="CheckArmaResultsMixin.test_fittedvalues"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.CheckArmaResultsMixin.test_fittedvalues.html#statsmodels.tsa.tests.test_arima.CheckArmaResultsMixin.test_fittedvalues">[docs]</a>    <span class="k">def</span> <span class="nf">test_fittedvalues</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">assert_almost_equal</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">fittedvalues</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">res2</span><span class="o">.</span><span class="n">fittedvalues</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">decimal_fittedvalues</span><span class="p">)</span></div>

    <span class="n">decimal_pvalues</span> <span class="o">=</span> <span class="n">DECIMAL_2</span>
<div class="viewcode-block" id="CheckArmaResultsMixin.test_pvalues"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.CheckArmaResultsMixin.test_pvalues.html#statsmodels.tsa.tests.test_arima.CheckArmaResultsMixin.test_pvalues">[docs]</a>    <span class="k">def</span> <span class="nf">test_pvalues</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">assert_almost_equal</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">pvalues</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">res2</span><span class="o">.</span><span class="n">pvalues</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">decimal_pvalues</span><span class="p">)</span></div>

    <span class="n">decimal_t</span> <span class="o">=</span> <span class="n">DECIMAL_2</span> <span class="c1"># only 2 decimal places in gretl output</span>
<div class="viewcode-block" id="CheckArmaResultsMixin.test_tvalues"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.CheckArmaResultsMixin.test_tvalues.html#statsmodels.tsa.tests.test_arima.CheckArmaResultsMixin.test_tvalues">[docs]</a>    <span class="k">def</span> <span class="nf">test_tvalues</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">assert_almost_equal</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">tvalues</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">res2</span><span class="o">.</span><span class="n">tvalues</span><span class="p">,</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">decimal_t</span><span class="p">)</span></div>

    <span class="n">decimal_sigma2</span> <span class="o">=</span> <span class="n">DECIMAL_4</span>
<div class="viewcode-block" id="CheckArmaResultsMixin.test_sigma2"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.CheckArmaResultsMixin.test_sigma2.html#statsmodels.tsa.tests.test_arima.CheckArmaResultsMixin.test_sigma2">[docs]</a>    <span class="k">def</span> <span class="nf">test_sigma2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">assert_almost_equal</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">sigma2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">res2</span><span class="o">.</span><span class="n">sigma2</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">decimal_sigma2</span><span class="p">)</span></div>

<div class="viewcode-block" id="CheckArmaResultsMixin.test_summary"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.CheckArmaResultsMixin.test_summary.html#statsmodels.tsa.tests.test_arima.CheckArmaResultsMixin.test_summary">[docs]</a>    <span class="k">def</span> <span class="nf">test_summary</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># smoke tests</span>
        <span class="n">table</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span></div></div>


<div class="viewcode-block" id="CheckForecastMixin"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.CheckForecastMixin.html#statsmodels.tsa.tests.test_arima.CheckForecastMixin">[docs]</a><span class="k">class</span> <span class="nc">CheckForecastMixin</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="n">decimal_forecast</span> <span class="o">=</span> <span class="n">DECIMAL_4</span>
<div class="viewcode-block" id="CheckForecastMixin.test_forecast"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.CheckForecastMixin.test_forecast.html#statsmodels.tsa.tests.test_arima.CheckForecastMixin.test_forecast">[docs]</a>    <span class="k">def</span> <span class="nf">test_forecast</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">assert_almost_equal</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">forecast_res</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">res2</span><span class="o">.</span><span class="n">forecast</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">decimal_forecast</span><span class="p">)</span></div>

    <span class="n">decimal_forecasterr</span> <span class="o">=</span> <span class="n">DECIMAL_4</span>
<div class="viewcode-block" id="CheckForecastMixin.test_forecasterr"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.CheckForecastMixin.test_forecasterr.html#statsmodels.tsa.tests.test_arima.CheckForecastMixin.test_forecasterr">[docs]</a>    <span class="k">def</span> <span class="nf">test_forecasterr</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">assert_almost_equal</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">forecast_err</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">res2</span><span class="o">.</span><span class="n">forecasterr</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">decimal_forecasterr</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="CheckDynamicForecastMixin"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.CheckDynamicForecastMixin.html#statsmodels.tsa.tests.test_arima.CheckDynamicForecastMixin">[docs]</a><span class="k">class</span> <span class="nc">CheckDynamicForecastMixin</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="n">decimal_forecast_dyn</span> <span class="o">=</span> <span class="mi">4</span>
<div class="viewcode-block" id="CheckDynamicForecastMixin.test_dynamic_forecast"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.CheckDynamicForecastMixin.test_dynamic_forecast.html#statsmodels.tsa.tests.test_arima.CheckDynamicForecastMixin.test_dynamic_forecast">[docs]</a>    <span class="k">def</span> <span class="nf">test_dynamic_forecast</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">assert_almost_equal</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">forecast_res_dyn</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">res2</span><span class="o">.</span><span class="n">forecast_dyn</span><span class="p">,</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">decimal_forecast_dyn</span><span class="p">)</span></div></div>

    <span class="c1">#def test_forecasterr(self):</span>
    <span class="c1">#    assert_almost_equal(self.res1.forecast_err_dyn,</span>
    <span class="c1">#                        self.res2.forecasterr_dyn,</span>
    <span class="c1">#                        DECIMAL_4)</span>


<div class="viewcode-block" id="CheckArimaResultsMixin"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.CheckArimaResultsMixin.html#statsmodels.tsa.tests.test_arima.CheckArimaResultsMixin">[docs]</a><span class="k">class</span> <span class="nc">CheckArimaResultsMixin</span><span class="p">(</span><span class="n">CheckArmaResultsMixin</span><span class="p">):</span>
<div class="viewcode-block" id="CheckArimaResultsMixin.test_order"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.CheckArimaResultsMixin.test_order.html#statsmodels.tsa.tests.test_arima.CheckArimaResultsMixin.test_order">[docs]</a>    <span class="k">def</span> <span class="nf">test_order</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">k_diff</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">res2</span><span class="o">.</span><span class="n">k_diff</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">k_ar</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">res2</span><span class="o">.</span><span class="n">k_ar</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">k_ma</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">res2</span><span class="o">.</span><span class="n">k_ma</span></div>

    <span class="n">decimal_predict_levels</span> <span class="o">=</span> <span class="n">DECIMAL_4</span>
<div class="viewcode-block" id="CheckArimaResultsMixin.test_predict_levels"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.CheckArimaResultsMixin.test_predict_levels.html#statsmodels.tsa.tests.test_arima.CheckArimaResultsMixin.test_predict_levels">[docs]</a>    <span class="k">def</span> <span class="nf">test_predict_levels</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">assert_almost_equal</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">typ</span><span class="o">=</span><span class="s1">&#39;levels&#39;</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">res2</span><span class="o">.</span><span class="n">linear</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">decimal_predict_levels</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="Test_Y_ARMA11_NoConst"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_Y_ARMA11_NoConst.html#statsmodels.tsa.tests.test_arima.Test_Y_ARMA11_NoConst">[docs]</a><span class="k">class</span> <span class="nc">Test_Y_ARMA11_NoConst</span><span class="p">(</span><span class="n">CheckArmaResultsMixin</span><span class="p">,</span> <span class="n">CheckForecastMixin</span><span class="p">):</span>
    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="Test_Y_ARMA11_NoConst.setupClass"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_Y_ARMA11_NoConst.setupClass.html#statsmodels.tsa.tests.test_arima.Test_Y_ARMA11_NoConst.setupClass">[docs]</a>    <span class="k">def</span> <span class="nf">setupClass</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
        <span class="n">endog</span> <span class="o">=</span> <span class="n">y_arma</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res1</span> <span class="o">=</span> <span class="n">ARMA</span><span class="p">(</span><span class="n">endog</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">trend</span><span class="o">=</span><span class="s1">&#39;nc&#39;</span><span class="p">,</span> <span class="n">disp</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
        <span class="p">(</span><span class="n">cls</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">forecast_res</span><span class="p">,</span> <span class="n">cls</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">forecast_err</span><span class="p">,</span>
                <span class="n">confint</span><span class="p">)</span> <span class="o">=</span> <span class="n">cls</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">forecast</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res2</span> <span class="o">=</span> <span class="n">results_arma</span><span class="o">.</span><span class="n">Y_arma11</span><span class="p">()</span></div>

<div class="viewcode-block" id="Test_Y_ARMA11_NoConst.test_pickle"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_Y_ARMA11_NoConst.test_pickle.html#statsmodels.tsa.tests.test_arima.Test_Y_ARMA11_NoConst.test_pickle">[docs]</a>    <span class="k">def</span> <span class="nf">test_pickle</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">fh</span> <span class="o">=</span> <span class="n">BytesIO</span><span class="p">()</span>
        <span class="c1">#test wrapped results load save pickle</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">fh</span><span class="p">)</span>
        <span class="n">fh</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">res_unpickled</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">__class__</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">fh</span><span class="p">)</span>
        <span class="n">assert_</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">res_unpickled</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">res1</span><span class="p">))</span></div></div>


<div class="viewcode-block" id="Test_Y_ARMA14_NoConst"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_Y_ARMA14_NoConst.html#statsmodels.tsa.tests.test_arima.Test_Y_ARMA14_NoConst">[docs]</a><span class="k">class</span> <span class="nc">Test_Y_ARMA14_NoConst</span><span class="p">(</span><span class="n">CheckArmaResultsMixin</span><span class="p">):</span>
    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="Test_Y_ARMA14_NoConst.setupClass"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_Y_ARMA14_NoConst.setupClass.html#statsmodels.tsa.tests.test_arima.Test_Y_ARMA14_NoConst.setupClass">[docs]</a>    <span class="k">def</span> <span class="nf">setupClass</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
        <span class="n">endog</span> <span class="o">=</span> <span class="n">y_arma</span><span class="p">[:,</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res1</span> <span class="o">=</span> <span class="n">ARMA</span><span class="p">(</span><span class="n">endog</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">trend</span><span class="o">=</span><span class="s1">&#39;nc&#39;</span><span class="p">,</span> <span class="n">disp</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res2</span> <span class="o">=</span> <span class="n">results_arma</span><span class="o">.</span><span class="n">Y_arma14</span><span class="p">()</span></div></div>


<span class="nd">@dec</span><span class="o">.</span><span class="n">slow</span>
<div class="viewcode-block" id="Test_Y_ARMA41_NoConst"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_Y_ARMA41_NoConst.html#statsmodels.tsa.tests.test_arima.Test_Y_ARMA41_NoConst">[docs]</a><span class="k">class</span> <span class="nc">Test_Y_ARMA41_NoConst</span><span class="p">(</span><span class="n">CheckArmaResultsMixin</span><span class="p">,</span> <span class="n">CheckForecastMixin</span><span class="p">):</span>
    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="Test_Y_ARMA41_NoConst.setupClass"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_Y_ARMA41_NoConst.setupClass.html#statsmodels.tsa.tests.test_arima.Test_Y_ARMA41_NoConst.setupClass">[docs]</a>    <span class="k">def</span> <span class="nf">setupClass</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
        <span class="n">endog</span> <span class="o">=</span> <span class="n">y_arma</span><span class="p">[:,</span><span class="mi">2</span><span class="p">]</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res1</span> <span class="o">=</span> <span class="n">ARMA</span><span class="p">(</span><span class="n">endog</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">trend</span><span class="o">=</span><span class="s1">&#39;nc&#39;</span><span class="p">,</span> <span class="n">disp</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
        <span class="p">(</span><span class="n">cls</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">forecast_res</span><span class="p">,</span> <span class="n">cls</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">forecast_err</span><span class="p">,</span>
                <span class="n">confint</span><span class="p">)</span> <span class="o">=</span> <span class="n">cls</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">forecast</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res2</span> <span class="o">=</span> <span class="n">results_arma</span><span class="o">.</span><span class="n">Y_arma41</span><span class="p">()</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_maroots</span> <span class="o">=</span> <span class="n">DECIMAL_3</span></div></div>


<div class="viewcode-block" id="Test_Y_ARMA22_NoConst"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_Y_ARMA22_NoConst.html#statsmodels.tsa.tests.test_arima.Test_Y_ARMA22_NoConst">[docs]</a><span class="k">class</span> <span class="nc">Test_Y_ARMA22_NoConst</span><span class="p">(</span><span class="n">CheckArmaResultsMixin</span><span class="p">):</span>
    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="Test_Y_ARMA22_NoConst.setupClass"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_Y_ARMA22_NoConst.setupClass.html#statsmodels.tsa.tests.test_arima.Test_Y_ARMA22_NoConst.setupClass">[docs]</a>    <span class="k">def</span> <span class="nf">setupClass</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
        <span class="n">endog</span> <span class="o">=</span> <span class="n">y_arma</span><span class="p">[:,</span><span class="mi">3</span><span class="p">]</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res1</span> <span class="o">=</span> <span class="n">ARMA</span><span class="p">(</span><span class="n">endog</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">trend</span><span class="o">=</span><span class="s1">&#39;nc&#39;</span><span class="p">,</span> <span class="n">disp</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res2</span> <span class="o">=</span> <span class="n">results_arma</span><span class="o">.</span><span class="n">Y_arma22</span><span class="p">()</span></div></div>


<div class="viewcode-block" id="Test_Y_ARMA50_NoConst"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_Y_ARMA50_NoConst.html#statsmodels.tsa.tests.test_arima.Test_Y_ARMA50_NoConst">[docs]</a><span class="k">class</span> <span class="nc">Test_Y_ARMA50_NoConst</span><span class="p">(</span><span class="n">CheckArmaResultsMixin</span><span class="p">,</span> <span class="n">CheckForecastMixin</span><span class="p">):</span>
    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="Test_Y_ARMA50_NoConst.setupClass"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_Y_ARMA50_NoConst.setupClass.html#statsmodels.tsa.tests.test_arima.Test_Y_ARMA50_NoConst.setupClass">[docs]</a>    <span class="k">def</span> <span class="nf">setupClass</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
        <span class="n">endog</span> <span class="o">=</span> <span class="n">y_arma</span><span class="p">[:,</span><span class="mi">4</span><span class="p">]</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res1</span> <span class="o">=</span> <span class="n">ARMA</span><span class="p">(</span><span class="n">endog</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">trend</span><span class="o">=</span><span class="s1">&#39;nc&#39;</span><span class="p">,</span> <span class="n">disp</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
        <span class="p">(</span><span class="n">cls</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">forecast_res</span><span class="p">,</span> <span class="n">cls</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">forecast_err</span><span class="p">,</span>
                <span class="n">confint</span><span class="p">)</span> <span class="o">=</span> <span class="n">cls</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">forecast</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res2</span> <span class="o">=</span> <span class="n">results_arma</span><span class="o">.</span><span class="n">Y_arma50</span><span class="p">()</span></div></div>


<div class="viewcode-block" id="Test_Y_ARMA02_NoConst"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_Y_ARMA02_NoConst.html#statsmodels.tsa.tests.test_arima.Test_Y_ARMA02_NoConst">[docs]</a><span class="k">class</span> <span class="nc">Test_Y_ARMA02_NoConst</span><span class="p">(</span><span class="n">CheckArmaResultsMixin</span><span class="p">):</span>
    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="Test_Y_ARMA02_NoConst.setupClass"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_Y_ARMA02_NoConst.setupClass.html#statsmodels.tsa.tests.test_arima.Test_Y_ARMA02_NoConst.setupClass">[docs]</a>    <span class="k">def</span> <span class="nf">setupClass</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
        <span class="n">endog</span> <span class="o">=</span> <span class="n">y_arma</span><span class="p">[:,</span><span class="mi">5</span><span class="p">]</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res1</span> <span class="o">=</span> <span class="n">ARMA</span><span class="p">(</span><span class="n">endog</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">trend</span><span class="o">=</span><span class="s1">&#39;nc&#39;</span><span class="p">,</span> <span class="n">disp</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res2</span> <span class="o">=</span> <span class="n">results_arma</span><span class="o">.</span><span class="n">Y_arma02</span><span class="p">()</span></div></div>


<div class="viewcode-block" id="Test_Y_ARMA11_Const"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_Y_ARMA11_Const.html#statsmodels.tsa.tests.test_arima.Test_Y_ARMA11_Const">[docs]</a><span class="k">class</span> <span class="nc">Test_Y_ARMA11_Const</span><span class="p">(</span><span class="n">CheckArmaResultsMixin</span><span class="p">,</span> <span class="n">CheckForecastMixin</span><span class="p">):</span>
    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="Test_Y_ARMA11_Const.setupClass"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_Y_ARMA11_Const.setupClass.html#statsmodels.tsa.tests.test_arima.Test_Y_ARMA11_Const.setupClass">[docs]</a>    <span class="k">def</span> <span class="nf">setupClass</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
        <span class="n">endog</span> <span class="o">=</span> <span class="n">y_arma</span><span class="p">[:,</span><span class="mi">6</span><span class="p">]</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res1</span> <span class="o">=</span> <span class="n">ARMA</span><span class="p">(</span><span class="n">endog</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">trend</span><span class="o">=</span><span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="n">disp</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
        <span class="p">(</span><span class="n">cls</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">forecast_res</span><span class="p">,</span> <span class="n">cls</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">forecast_err</span><span class="p">,</span>
                <span class="n">confint</span><span class="p">)</span> <span class="o">=</span> <span class="n">cls</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">forecast</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res2</span> <span class="o">=</span> <span class="n">results_arma</span><span class="o">.</span><span class="n">Y_arma11c</span><span class="p">()</span></div></div>


<div class="viewcode-block" id="Test_Y_ARMA14_Const"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_Y_ARMA14_Const.html#statsmodels.tsa.tests.test_arima.Test_Y_ARMA14_Const">[docs]</a><span class="k">class</span> <span class="nc">Test_Y_ARMA14_Const</span><span class="p">(</span><span class="n">CheckArmaResultsMixin</span><span class="p">):</span>
    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="Test_Y_ARMA14_Const.setupClass"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_Y_ARMA14_Const.setupClass.html#statsmodels.tsa.tests.test_arima.Test_Y_ARMA14_Const.setupClass">[docs]</a>    <span class="k">def</span> <span class="nf">setupClass</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
        <span class="n">endog</span> <span class="o">=</span> <span class="n">y_arma</span><span class="p">[:,</span><span class="mi">7</span><span class="p">]</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res1</span> <span class="o">=</span> <span class="n">ARMA</span><span class="p">(</span><span class="n">endog</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">trend</span><span class="o">=</span><span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="n">disp</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res2</span> <span class="o">=</span> <span class="n">results_arma</span><span class="o">.</span><span class="n">Y_arma14c</span><span class="p">()</span></div></div>


<div class="viewcode-block" id="Test_Y_ARMA41_Const"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_Y_ARMA41_Const.html#statsmodels.tsa.tests.test_arima.Test_Y_ARMA41_Const">[docs]</a><span class="k">class</span> <span class="nc">Test_Y_ARMA41_Const</span><span class="p">(</span><span class="n">CheckArmaResultsMixin</span><span class="p">,</span> <span class="n">CheckForecastMixin</span><span class="p">):</span>
    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="Test_Y_ARMA41_Const.setupClass"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_Y_ARMA41_Const.setupClass.html#statsmodels.tsa.tests.test_arima.Test_Y_ARMA41_Const.setupClass">[docs]</a>    <span class="k">def</span> <span class="nf">setupClass</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
        <span class="n">endog</span> <span class="o">=</span> <span class="n">y_arma</span><span class="p">[:,</span><span class="mi">8</span><span class="p">]</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res2</span> <span class="o">=</span> <span class="n">results_arma</span><span class="o">.</span><span class="n">Y_arma41c</span><span class="p">()</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res1</span> <span class="o">=</span> <span class="n">ARMA</span><span class="p">(</span><span class="n">endog</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">trend</span><span class="o">=</span><span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="n">disp</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span>
                                                <span class="n">start_params</span><span class="o">=</span><span class="n">cls</span><span class="o">.</span><span class="n">res2</span><span class="o">.</span><span class="n">params</span><span class="p">)</span>
        <span class="p">(</span><span class="n">cls</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">forecast_res</span><span class="p">,</span> <span class="n">cls</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">forecast_err</span><span class="p">,</span>
                <span class="n">confint</span><span class="p">)</span> <span class="o">=</span> <span class="n">cls</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">forecast</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_cov_params</span> <span class="o">=</span> <span class="n">DECIMAL_3</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_fittedvalues</span> <span class="o">=</span> <span class="n">DECIMAL_3</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_resid</span> <span class="o">=</span> <span class="n">DECIMAL_3</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_params</span> <span class="o">=</span> <span class="n">DECIMAL_3</span></div></div>


<div class="viewcode-block" id="Test_Y_ARMA22_Const"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_Y_ARMA22_Const.html#statsmodels.tsa.tests.test_arima.Test_Y_ARMA22_Const">[docs]</a><span class="k">class</span> <span class="nc">Test_Y_ARMA22_Const</span><span class="p">(</span><span class="n">CheckArmaResultsMixin</span><span class="p">):</span>
    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="Test_Y_ARMA22_Const.setupClass"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_Y_ARMA22_Const.setupClass.html#statsmodels.tsa.tests.test_arima.Test_Y_ARMA22_Const.setupClass">[docs]</a>    <span class="k">def</span> <span class="nf">setupClass</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
        <span class="n">endog</span> <span class="o">=</span> <span class="n">y_arma</span><span class="p">[:,</span><span class="mi">9</span><span class="p">]</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res1</span> <span class="o">=</span> <span class="n">ARMA</span><span class="p">(</span><span class="n">endog</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">trend</span><span class="o">=</span><span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="n">disp</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res2</span> <span class="o">=</span> <span class="n">results_arma</span><span class="o">.</span><span class="n">Y_arma22c</span><span class="p">()</span></div></div>


<div class="viewcode-block" id="Test_Y_ARMA50_Const"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_Y_ARMA50_Const.html#statsmodels.tsa.tests.test_arima.Test_Y_ARMA50_Const">[docs]</a><span class="k">class</span> <span class="nc">Test_Y_ARMA50_Const</span><span class="p">(</span><span class="n">CheckArmaResultsMixin</span><span class="p">,</span> <span class="n">CheckForecastMixin</span><span class="p">):</span>
    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="Test_Y_ARMA50_Const.setupClass"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_Y_ARMA50_Const.setupClass.html#statsmodels.tsa.tests.test_arima.Test_Y_ARMA50_Const.setupClass">[docs]</a>    <span class="k">def</span> <span class="nf">setupClass</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
        <span class="n">endog</span> <span class="o">=</span> <span class="n">y_arma</span><span class="p">[:,</span><span class="mi">10</span><span class="p">]</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res1</span> <span class="o">=</span> <span class="n">ARMA</span><span class="p">(</span><span class="n">endog</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">trend</span><span class="o">=</span><span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="n">disp</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
        <span class="p">(</span><span class="n">cls</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">forecast_res</span><span class="p">,</span> <span class="n">cls</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">forecast_err</span><span class="p">,</span>
                <span class="n">confint</span><span class="p">)</span> <span class="o">=</span> <span class="n">cls</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">forecast</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res2</span> <span class="o">=</span> <span class="n">results_arma</span><span class="o">.</span><span class="n">Y_arma50c</span><span class="p">()</span></div></div>


<div class="viewcode-block" id="Test_Y_ARMA02_Const"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_Y_ARMA02_Const.html#statsmodels.tsa.tests.test_arima.Test_Y_ARMA02_Const">[docs]</a><span class="k">class</span> <span class="nc">Test_Y_ARMA02_Const</span><span class="p">(</span><span class="n">CheckArmaResultsMixin</span><span class="p">):</span>
    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="Test_Y_ARMA02_Const.setupClass"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_Y_ARMA02_Const.setupClass.html#statsmodels.tsa.tests.test_arima.Test_Y_ARMA02_Const.setupClass">[docs]</a>    <span class="k">def</span> <span class="nf">setupClass</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
        <span class="n">endog</span> <span class="o">=</span> <span class="n">y_arma</span><span class="p">[:,</span><span class="mi">11</span><span class="p">]</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res1</span> <span class="o">=</span> <span class="n">ARMA</span><span class="p">(</span><span class="n">endog</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">trend</span><span class="o">=</span><span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="n">disp</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res2</span> <span class="o">=</span> <span class="n">results_arma</span><span class="o">.</span><span class="n">Y_arma02c</span><span class="p">()</span></div></div>


<span class="c1"># cov_params and tvalues are off still but not as much vs. R</span>
<div class="viewcode-block" id="Test_Y_ARMA11_NoConst_CSS"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_Y_ARMA11_NoConst_CSS.html#statsmodels.tsa.tests.test_arima.Test_Y_ARMA11_NoConst_CSS">[docs]</a><span class="k">class</span> <span class="nc">Test_Y_ARMA11_NoConst_CSS</span><span class="p">(</span><span class="n">CheckArmaResultsMixin</span><span class="p">):</span>
    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="Test_Y_ARMA11_NoConst_CSS.setupClass"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_Y_ARMA11_NoConst_CSS.setupClass.html#statsmodels.tsa.tests.test_arima.Test_Y_ARMA11_NoConst_CSS.setupClass">[docs]</a>    <span class="k">def</span> <span class="nf">setupClass</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
        <span class="n">endog</span> <span class="o">=</span> <span class="n">y_arma</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res1</span> <span class="o">=</span> <span class="n">ARMA</span><span class="p">(</span><span class="n">endog</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s2">&quot;css&quot;</span><span class="p">,</span> <span class="n">trend</span><span class="o">=</span><span class="s1">&#39;nc&#39;</span><span class="p">,</span>
                            <span class="n">disp</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res2</span> <span class="o">=</span> <span class="n">results_arma</span><span class="o">.</span><span class="n">Y_arma11</span><span class="p">(</span><span class="s2">&quot;css&quot;</span><span class="p">)</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_t</span> <span class="o">=</span> <span class="n">DECIMAL_1</span></div></div>


<span class="c1"># better vs. R</span>
<div class="viewcode-block" id="Test_Y_ARMA14_NoConst_CSS"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_Y_ARMA14_NoConst_CSS.html#statsmodels.tsa.tests.test_arima.Test_Y_ARMA14_NoConst_CSS">[docs]</a><span class="k">class</span> <span class="nc">Test_Y_ARMA14_NoConst_CSS</span><span class="p">(</span><span class="n">CheckArmaResultsMixin</span><span class="p">):</span>
    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="Test_Y_ARMA14_NoConst_CSS.setupClass"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_Y_ARMA14_NoConst_CSS.setupClass.html#statsmodels.tsa.tests.test_arima.Test_Y_ARMA14_NoConst_CSS.setupClass">[docs]</a>    <span class="k">def</span> <span class="nf">setupClass</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
        <span class="n">endog</span> <span class="o">=</span> <span class="n">y_arma</span><span class="p">[:,</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res1</span> <span class="o">=</span> <span class="n">ARMA</span><span class="p">(</span><span class="n">endog</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s2">&quot;css&quot;</span><span class="p">,</span> <span class="n">trend</span><span class="o">=</span><span class="s1">&#39;nc&#39;</span><span class="p">,</span>
                            <span class="n">disp</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res2</span> <span class="o">=</span> <span class="n">results_arma</span><span class="o">.</span><span class="n">Y_arma14</span><span class="p">(</span><span class="s2">&quot;css&quot;</span><span class="p">)</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_fittedvalues</span> <span class="o">=</span> <span class="n">DECIMAL_3</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_resid</span> <span class="o">=</span> <span class="n">DECIMAL_3</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_t</span> <span class="o">=</span> <span class="n">DECIMAL_1</span></div></div>


<span class="c1"># bse, etc. better vs. R</span>
<span class="c1"># maroot is off because maparams is off a bit (adjust tolerance?)</span>
<div class="viewcode-block" id="Test_Y_ARMA41_NoConst_CSS"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_Y_ARMA41_NoConst_CSS.html#statsmodels.tsa.tests.test_arima.Test_Y_ARMA41_NoConst_CSS">[docs]</a><span class="k">class</span> <span class="nc">Test_Y_ARMA41_NoConst_CSS</span><span class="p">(</span><span class="n">CheckArmaResultsMixin</span><span class="p">):</span>
    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="Test_Y_ARMA41_NoConst_CSS.setupClass"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_Y_ARMA41_NoConst_CSS.setupClass.html#statsmodels.tsa.tests.test_arima.Test_Y_ARMA41_NoConst_CSS.setupClass">[docs]</a>    <span class="k">def</span> <span class="nf">setupClass</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
        <span class="n">endog</span> <span class="o">=</span> <span class="n">y_arma</span><span class="p">[:,</span><span class="mi">2</span><span class="p">]</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res1</span> <span class="o">=</span> <span class="n">ARMA</span><span class="p">(</span><span class="n">endog</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s2">&quot;css&quot;</span><span class="p">,</span> <span class="n">trend</span><span class="o">=</span><span class="s1">&#39;nc&#39;</span><span class="p">,</span>
                        <span class="n">disp</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res2</span> <span class="o">=</span> <span class="n">results_arma</span><span class="o">.</span><span class="n">Y_arma41</span><span class="p">(</span><span class="s2">&quot;css&quot;</span><span class="p">)</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_t</span> <span class="o">=</span> <span class="n">DECIMAL_1</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_pvalues</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_cov_params</span> <span class="o">=</span> <span class="n">DECIMAL_3</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_maroots</span> <span class="o">=</span> <span class="n">DECIMAL_1</span></div></div>


<span class="c1">#same notes as above</span>
<div class="viewcode-block" id="Test_Y_ARMA22_NoConst_CSS"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_Y_ARMA22_NoConst_CSS.html#statsmodels.tsa.tests.test_arima.Test_Y_ARMA22_NoConst_CSS">[docs]</a><span class="k">class</span> <span class="nc">Test_Y_ARMA22_NoConst_CSS</span><span class="p">(</span><span class="n">CheckArmaResultsMixin</span><span class="p">):</span>
    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="Test_Y_ARMA22_NoConst_CSS.setupClass"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_Y_ARMA22_NoConst_CSS.setupClass.html#statsmodels.tsa.tests.test_arima.Test_Y_ARMA22_NoConst_CSS.setupClass">[docs]</a>    <span class="k">def</span> <span class="nf">setupClass</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
        <span class="n">endog</span> <span class="o">=</span> <span class="n">y_arma</span><span class="p">[:,</span><span class="mi">3</span><span class="p">]</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res1</span> <span class="o">=</span> <span class="n">ARMA</span><span class="p">(</span><span class="n">endog</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s2">&quot;css&quot;</span><span class="p">,</span> <span class="n">trend</span><span class="o">=</span><span class="s1">&#39;nc&#39;</span><span class="p">,</span>
                            <span class="n">disp</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res2</span> <span class="o">=</span> <span class="n">results_arma</span><span class="o">.</span><span class="n">Y_arma22</span><span class="p">(</span><span class="s2">&quot;css&quot;</span><span class="p">)</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_t</span> <span class="o">=</span> <span class="n">DECIMAL_1</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_resid</span> <span class="o">=</span> <span class="n">DECIMAL_3</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_pvalues</span> <span class="o">=</span> <span class="n">DECIMAL_1</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_fittedvalues</span> <span class="o">=</span> <span class="n">DECIMAL_3</span></div></div>


<span class="c1">#NOTE: gretl just uses least squares for AR CSS</span>
<span class="c1"># so BIC, etc. is</span>
<span class="c1"># -2*res1.llf + np.log(nobs)*(res1.q+res1.p+res1.k)</span>
<span class="c1"># with no adjustment for p and no extra sigma estimate</span>
<span class="c1">#NOTE: so our tests use x-12 arima results which agree with us and are</span>
<span class="c1"># consistent with the rest of the models</span>
<div class="viewcode-block" id="Test_Y_ARMA50_NoConst_CSS"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_Y_ARMA50_NoConst_CSS.html#statsmodels.tsa.tests.test_arima.Test_Y_ARMA50_NoConst_CSS">[docs]</a><span class="k">class</span> <span class="nc">Test_Y_ARMA50_NoConst_CSS</span><span class="p">(</span><span class="n">CheckArmaResultsMixin</span><span class="p">):</span>
    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="Test_Y_ARMA50_NoConst_CSS.setupClass"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_Y_ARMA50_NoConst_CSS.setupClass.html#statsmodels.tsa.tests.test_arima.Test_Y_ARMA50_NoConst_CSS.setupClass">[docs]</a>    <span class="k">def</span> <span class="nf">setupClass</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
        <span class="n">endog</span> <span class="o">=</span> <span class="n">y_arma</span><span class="p">[:,</span><span class="mi">4</span><span class="p">]</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res1</span> <span class="o">=</span> <span class="n">ARMA</span><span class="p">(</span><span class="n">endog</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s2">&quot;css&quot;</span><span class="p">,</span> <span class="n">trend</span><span class="o">=</span><span class="s1">&#39;nc&#39;</span><span class="p">,</span>
                            <span class="n">disp</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res2</span> <span class="o">=</span> <span class="n">results_arma</span><span class="o">.</span><span class="n">Y_arma50</span><span class="p">(</span><span class="s2">&quot;css&quot;</span><span class="p">)</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_t</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_llf</span> <span class="o">=</span> <span class="n">DECIMAL_1</span> <span class="c1"># looks like rounding error?</span></div></div>


<div class="viewcode-block" id="Test_Y_ARMA02_NoConst_CSS"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_Y_ARMA02_NoConst_CSS.html#statsmodels.tsa.tests.test_arima.Test_Y_ARMA02_NoConst_CSS">[docs]</a><span class="k">class</span> <span class="nc">Test_Y_ARMA02_NoConst_CSS</span><span class="p">(</span><span class="n">CheckArmaResultsMixin</span><span class="p">):</span>
    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="Test_Y_ARMA02_NoConst_CSS.setupClass"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_Y_ARMA02_NoConst_CSS.setupClass.html#statsmodels.tsa.tests.test_arima.Test_Y_ARMA02_NoConst_CSS.setupClass">[docs]</a>    <span class="k">def</span> <span class="nf">setupClass</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
        <span class="n">endog</span> <span class="o">=</span> <span class="n">y_arma</span><span class="p">[:,</span><span class="mi">5</span><span class="p">]</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res1</span> <span class="o">=</span> <span class="n">ARMA</span><span class="p">(</span><span class="n">endog</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s2">&quot;css&quot;</span><span class="p">,</span> <span class="n">trend</span><span class="o">=</span><span class="s1">&#39;nc&#39;</span><span class="p">,</span>
                            <span class="n">disp</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res2</span> <span class="o">=</span> <span class="n">results_arma</span><span class="o">.</span><span class="n">Y_arma02</span><span class="p">(</span><span class="s2">&quot;css&quot;</span><span class="p">)</span></div></div>


<span class="c1">#NOTE: our results are close to --x-12-arima option and R</span>
<div class="viewcode-block" id="Test_Y_ARMA11_Const_CSS"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_Y_ARMA11_Const_CSS.html#statsmodels.tsa.tests.test_arima.Test_Y_ARMA11_Const_CSS">[docs]</a><span class="k">class</span> <span class="nc">Test_Y_ARMA11_Const_CSS</span><span class="p">(</span><span class="n">CheckArmaResultsMixin</span><span class="p">):</span>
    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="Test_Y_ARMA11_Const_CSS.setupClass"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_Y_ARMA11_Const_CSS.setupClass.html#statsmodels.tsa.tests.test_arima.Test_Y_ARMA11_Const_CSS.setupClass">[docs]</a>    <span class="k">def</span> <span class="nf">setupClass</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
        <span class="n">endog</span> <span class="o">=</span> <span class="n">y_arma</span><span class="p">[:,</span><span class="mi">6</span><span class="p">]</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res1</span> <span class="o">=</span> <span class="n">ARMA</span><span class="p">(</span><span class="n">endog</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">trend</span><span class="o">=</span><span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;css&quot;</span><span class="p">,</span>
                        <span class="n">disp</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res2</span> <span class="o">=</span> <span class="n">results_arma</span><span class="o">.</span><span class="n">Y_arma11c</span><span class="p">(</span><span class="s2">&quot;css&quot;</span><span class="p">)</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_params</span> <span class="o">=</span> <span class="n">DECIMAL_3</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_cov_params</span> <span class="o">=</span> <span class="n">DECIMAL_3</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_t</span> <span class="o">=</span> <span class="n">DECIMAL_1</span></div></div>


<div class="viewcode-block" id="Test_Y_ARMA14_Const_CSS"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_Y_ARMA14_Const_CSS.html#statsmodels.tsa.tests.test_arima.Test_Y_ARMA14_Const_CSS">[docs]</a><span class="k">class</span> <span class="nc">Test_Y_ARMA14_Const_CSS</span><span class="p">(</span><span class="n">CheckArmaResultsMixin</span><span class="p">):</span>
    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="Test_Y_ARMA14_Const_CSS.setupClass"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_Y_ARMA14_Const_CSS.setupClass.html#statsmodels.tsa.tests.test_arima.Test_Y_ARMA14_Const_CSS.setupClass">[docs]</a>    <span class="k">def</span> <span class="nf">setupClass</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
        <span class="n">endog</span> <span class="o">=</span> <span class="n">y_arma</span><span class="p">[:,</span><span class="mi">7</span><span class="p">]</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res1</span> <span class="o">=</span> <span class="n">ARMA</span><span class="p">(</span><span class="n">endog</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">trend</span><span class="o">=</span><span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;css&quot;</span><span class="p">,</span>
                        <span class="n">disp</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res2</span> <span class="o">=</span> <span class="n">results_arma</span><span class="o">.</span><span class="n">Y_arma14c</span><span class="p">(</span><span class="s2">&quot;css&quot;</span><span class="p">)</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_t</span> <span class="o">=</span> <span class="n">DECIMAL_1</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_pvalues</span> <span class="o">=</span> <span class="n">DECIMAL_1</span></div></div>


<div class="viewcode-block" id="Test_Y_ARMA41_Const_CSS"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_Y_ARMA41_Const_CSS.html#statsmodels.tsa.tests.test_arima.Test_Y_ARMA41_Const_CSS">[docs]</a><span class="k">class</span> <span class="nc">Test_Y_ARMA41_Const_CSS</span><span class="p">(</span><span class="n">CheckArmaResultsMixin</span><span class="p">):</span>
    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="Test_Y_ARMA41_Const_CSS.setupClass"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_Y_ARMA41_Const_CSS.setupClass.html#statsmodels.tsa.tests.test_arima.Test_Y_ARMA41_Const_CSS.setupClass">[docs]</a>    <span class="k">def</span> <span class="nf">setupClass</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
        <span class="n">endog</span> <span class="o">=</span> <span class="n">y_arma</span><span class="p">[:,</span><span class="mi">8</span><span class="p">]</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res1</span> <span class="o">=</span> <span class="n">ARMA</span><span class="p">(</span><span class="n">endog</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">trend</span><span class="o">=</span><span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;css&quot;</span><span class="p">,</span>
                        <span class="n">disp</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res2</span> <span class="o">=</span> <span class="n">results_arma</span><span class="o">.</span><span class="n">Y_arma41c</span><span class="p">(</span><span class="s2">&quot;css&quot;</span><span class="p">)</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_t</span> <span class="o">=</span> <span class="n">DECIMAL_1</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_cov_params</span> <span class="o">=</span> <span class="n">DECIMAL_1</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_maroots</span> <span class="o">=</span> <span class="n">DECIMAL_3</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_bse</span> <span class="o">=</span> <span class="n">DECIMAL_1</span></div></div>


<div class="viewcode-block" id="Test_Y_ARMA22_Const_CSS"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_Y_ARMA22_Const_CSS.html#statsmodels.tsa.tests.test_arima.Test_Y_ARMA22_Const_CSS">[docs]</a><span class="k">class</span> <span class="nc">Test_Y_ARMA22_Const_CSS</span><span class="p">(</span><span class="n">CheckArmaResultsMixin</span><span class="p">):</span>
    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="Test_Y_ARMA22_Const_CSS.setupClass"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_Y_ARMA22_Const_CSS.setupClass.html#statsmodels.tsa.tests.test_arima.Test_Y_ARMA22_Const_CSS.setupClass">[docs]</a>    <span class="k">def</span> <span class="nf">setupClass</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
        <span class="n">endog</span> <span class="o">=</span> <span class="n">y_arma</span><span class="p">[:,</span><span class="mi">9</span><span class="p">]</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res1</span> <span class="o">=</span> <span class="n">ARMA</span><span class="p">(</span><span class="n">endog</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">trend</span><span class="o">=</span><span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;css&quot;</span><span class="p">,</span>
                        <span class="n">disp</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res2</span> <span class="o">=</span> <span class="n">results_arma</span><span class="o">.</span><span class="n">Y_arma22c</span><span class="p">(</span><span class="s2">&quot;css&quot;</span><span class="p">)</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_t</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_pvalues</span> <span class="o">=</span> <span class="n">DECIMAL_1</span></div></div>


<div class="viewcode-block" id="Test_Y_ARMA50_Const_CSS"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_Y_ARMA50_Const_CSS.html#statsmodels.tsa.tests.test_arima.Test_Y_ARMA50_Const_CSS">[docs]</a><span class="k">class</span> <span class="nc">Test_Y_ARMA50_Const_CSS</span><span class="p">(</span><span class="n">CheckArmaResultsMixin</span><span class="p">):</span>
    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="Test_Y_ARMA50_Const_CSS.setupClass"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_Y_ARMA50_Const_CSS.setupClass.html#statsmodels.tsa.tests.test_arima.Test_Y_ARMA50_Const_CSS.setupClass">[docs]</a>    <span class="k">def</span> <span class="nf">setupClass</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
        <span class="n">endog</span> <span class="o">=</span> <span class="n">y_arma</span><span class="p">[:,</span><span class="mi">10</span><span class="p">]</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res1</span> <span class="o">=</span> <span class="n">ARMA</span><span class="p">(</span><span class="n">endog</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">trend</span><span class="o">=</span><span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;css&quot;</span><span class="p">,</span>
                        <span class="n">disp</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res2</span> <span class="o">=</span> <span class="n">results_arma</span><span class="o">.</span><span class="n">Y_arma50c</span><span class="p">(</span><span class="s2">&quot;css&quot;</span><span class="p">)</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_t</span> <span class="o">=</span> <span class="n">DECIMAL_1</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_params</span> <span class="o">=</span> <span class="n">DECIMAL_3</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_cov_params</span> <span class="o">=</span> <span class="n">DECIMAL_2</span></div></div>


<div class="viewcode-block" id="Test_Y_ARMA02_Const_CSS"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_Y_ARMA02_Const_CSS.html#statsmodels.tsa.tests.test_arima.Test_Y_ARMA02_Const_CSS">[docs]</a><span class="k">class</span> <span class="nc">Test_Y_ARMA02_Const_CSS</span><span class="p">(</span><span class="n">CheckArmaResultsMixin</span><span class="p">):</span>
    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="Test_Y_ARMA02_Const_CSS.setupClass"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_Y_ARMA02_Const_CSS.setupClass.html#statsmodels.tsa.tests.test_arima.Test_Y_ARMA02_Const_CSS.setupClass">[docs]</a>    <span class="k">def</span> <span class="nf">setupClass</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
        <span class="n">endog</span> <span class="o">=</span> <span class="n">y_arma</span><span class="p">[:,</span><span class="mi">11</span><span class="p">]</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res1</span> <span class="o">=</span> <span class="n">ARMA</span><span class="p">(</span><span class="n">endog</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">trend</span><span class="o">=</span><span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;css&quot;</span><span class="p">,</span>
                        <span class="n">disp</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res2</span> <span class="o">=</span> <span class="n">results_arma</span><span class="o">.</span><span class="n">Y_arma02c</span><span class="p">(</span><span class="s2">&quot;css&quot;</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="test_reset_trend"><a class="viewcode-back" href="../../../../generated/statsmodels.tsa.tests.test_arima.test_reset_trend.html#statsmodels.tsa.tests.test_arima.test_reset_trend">[docs]</a><span class="k">def</span> <span class="nf">test_reset_trend</span><span class="p">():</span>
    <span class="n">endog</span> <span class="o">=</span> <span class="n">y_arma</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">mod</span> <span class="o">=</span> <span class="n">ARMA</span><span class="p">(</span><span class="n">endog</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
    <span class="n">res1</span> <span class="o">=</span> <span class="n">mod</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">trend</span><span class="o">=</span><span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="n">disp</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">res2</span> <span class="o">=</span> <span class="n">mod</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">trend</span><span class="o">=</span><span class="s2">&quot;nc&quot;</span><span class="p">,</span> <span class="n">disp</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">assert_equal</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">res1</span><span class="o">.</span><span class="n">params</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">res2</span><span class="o">.</span><span class="n">params</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span></div>


<span class="nd">@dec</span><span class="o">.</span><span class="n">slow</span>
<div class="viewcode-block" id="test_start_params_bug"><a class="viewcode-back" href="../../../../generated/statsmodels.tsa.tests.test_arima.test_start_params_bug.html#statsmodels.tsa.tests.test_arima.test_start_params_bug">[docs]</a><span class="k">def</span> <span class="nf">test_start_params_bug</span><span class="p">():</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">1368.</span><span class="p">,</span> <span class="mi">1187</span><span class="p">,</span> <span class="mi">1090</span><span class="p">,</span> <span class="mi">1439</span><span class="p">,</span> <span class="mi">2362</span><span class="p">,</span> <span class="mi">2783</span><span class="p">,</span> <span class="mi">2869</span><span class="p">,</span> <span class="mi">2512</span><span class="p">,</span> <span class="mi">1804</span><span class="p">,</span>
    <span class="mi">1544</span><span class="p">,</span> <span class="mi">1028</span><span class="p">,</span> <span class="mi">869</span><span class="p">,</span> <span class="mi">1737</span><span class="p">,</span> <span class="mi">2055</span><span class="p">,</span> <span class="mi">1947</span><span class="p">,</span> <span class="mi">1618</span><span class="p">,</span> <span class="mi">1196</span><span class="p">,</span> <span class="mi">867</span><span class="p">,</span> <span class="mi">997</span><span class="p">,</span> <span class="mi">1862</span><span class="p">,</span> <span class="mi">2525</span><span class="p">,</span>
    <span class="mi">3250</span><span class="p">,</span> <span class="mi">4023</span><span class="p">,</span> <span class="mi">4018</span><span class="p">,</span> <span class="mi">3585</span><span class="p">,</span> <span class="mi">3004</span><span class="p">,</span> <span class="mi">2500</span><span class="p">,</span> <span class="mi">2441</span><span class="p">,</span> <span class="mi">2749</span><span class="p">,</span> <span class="mi">2466</span><span class="p">,</span> <span class="mi">2157</span><span class="p">,</span> <span class="mi">1847</span><span class="p">,</span> <span class="mi">1463</span><span class="p">,</span>
    <span class="mi">1146</span><span class="p">,</span> <span class="mi">851</span><span class="p">,</span> <span class="mi">993</span><span class="p">,</span> <span class="mi">1448</span><span class="p">,</span> <span class="mi">1719</span><span class="p">,</span> <span class="mi">1709</span><span class="p">,</span> <span class="mi">1455</span><span class="p">,</span> <span class="mi">1950</span><span class="p">,</span> <span class="mi">1763</span><span class="p">,</span> <span class="mi">2075</span><span class="p">,</span> <span class="mi">2343</span><span class="p">,</span> <span class="mi">3570</span><span class="p">,</span>
    <span class="mi">4690</span><span class="p">,</span> <span class="mi">3700</span><span class="p">,</span> <span class="mi">2339</span><span class="p">,</span> <span class="mi">1679</span><span class="p">,</span> <span class="mi">1466</span><span class="p">,</span> <span class="mi">998</span><span class="p">,</span> <span class="mi">853</span><span class="p">,</span> <span class="mi">835</span><span class="p">,</span> <span class="mi">922</span><span class="p">,</span> <span class="mi">851</span><span class="p">,</span> <span class="mi">1125</span><span class="p">,</span> <span class="mi">1299</span><span class="p">,</span> <span class="mi">1105</span><span class="p">,</span>
    <span class="mi">860</span><span class="p">,</span> <span class="mi">701</span><span class="p">,</span> <span class="mi">689</span><span class="p">,</span> <span class="mi">774</span><span class="p">,</span> <span class="mi">582</span><span class="p">,</span> <span class="mi">419</span><span class="p">,</span> <span class="mi">846</span><span class="p">,</span> <span class="mi">1132</span><span class="p">,</span> <span class="mi">902</span><span class="p">,</span> <span class="mi">1058</span><span class="p">,</span> <span class="mi">1341</span><span class="p">,</span> <span class="mi">1551</span><span class="p">,</span> <span class="mi">1167</span><span class="p">,</span>
    <span class="mi">975</span><span class="p">,</span> <span class="mi">786</span><span class="p">,</span> <span class="mi">759</span><span class="p">,</span> <span class="mi">751</span><span class="p">,</span> <span class="mi">649</span><span class="p">,</span> <span class="mi">876</span><span class="p">,</span> <span class="mi">720</span><span class="p">,</span> <span class="mi">498</span><span class="p">,</span> <span class="mi">553</span><span class="p">,</span> <span class="mi">459</span><span class="p">,</span> <span class="mi">543</span><span class="p">,</span> <span class="mi">447</span><span class="p">,</span> <span class="mi">415</span><span class="p">,</span> <span class="mi">377</span><span class="p">,</span>
    <span class="mi">373</span><span class="p">,</span> <span class="mi">324</span><span class="p">,</span> <span class="mi">320</span><span class="p">,</span> <span class="mi">306</span><span class="p">,</span> <span class="mi">259</span><span class="p">,</span> <span class="mi">220</span><span class="p">,</span> <span class="mi">342</span><span class="p">,</span> <span class="mi">558</span><span class="p">,</span> <span class="mi">825</span><span class="p">,</span> <span class="mi">994</span><span class="p">,</span> <span class="mi">1267</span><span class="p">,</span> <span class="mi">1473</span><span class="p">,</span> <span class="mi">1601</span><span class="p">,</span>
    <span class="mi">1896</span><span class="p">,</span> <span class="mi">1890</span><span class="p">,</span> <span class="mi">2012</span><span class="p">,</span> <span class="mi">2198</span><span class="p">,</span> <span class="mi">2393</span><span class="p">,</span> <span class="mi">2825</span><span class="p">,</span> <span class="mi">3411</span><span class="p">,</span> <span class="mi">3406</span><span class="p">,</span> <span class="mi">2464</span><span class="p">,</span> <span class="mi">2891</span><span class="p">,</span> <span class="mi">3685</span><span class="p">,</span> <span class="mi">3638</span><span class="p">,</span>
    <span class="mi">3746</span><span class="p">,</span> <span class="mi">3373</span><span class="p">,</span> <span class="mi">3190</span><span class="p">,</span> <span class="mi">2681</span><span class="p">,</span> <span class="mi">2846</span><span class="p">,</span> <span class="mi">4129</span><span class="p">,</span> <span class="mi">5054</span><span class="p">,</span> <span class="mi">5002</span><span class="p">,</span> <span class="mi">4801</span><span class="p">,</span> <span class="mi">4934</span><span class="p">,</span> <span class="mi">4903</span><span class="p">,</span> <span class="mi">4713</span><span class="p">,</span>
    <span class="mi">4745</span><span class="p">,</span> <span class="mi">4736</span><span class="p">,</span> <span class="mi">4622</span><span class="p">,</span> <span class="mi">4642</span><span class="p">,</span> <span class="mi">4478</span><span class="p">,</span> <span class="mi">4510</span><span class="p">,</span> <span class="mi">4758</span><span class="p">,</span> <span class="mi">4457</span><span class="p">,</span> <span class="mi">4356</span><span class="p">,</span> <span class="mi">4170</span><span class="p">,</span> <span class="mi">4658</span><span class="p">,</span> <span class="mi">4546</span><span class="p">,</span>
    <span class="mi">4402</span><span class="p">,</span> <span class="mi">4183</span><span class="p">,</span> <span class="mi">3574</span><span class="p">,</span> <span class="mi">2586</span><span class="p">,</span> <span class="mi">3326</span><span class="p">,</span> <span class="mi">3948</span><span class="p">,</span> <span class="mi">3983</span><span class="p">,</span> <span class="mi">3997</span><span class="p">,</span> <span class="mi">4422</span><span class="p">,</span> <span class="mi">4496</span><span class="p">,</span> <span class="mi">4276</span><span class="p">,</span> <span class="mi">3467</span><span class="p">,</span>
    <span class="mi">2753</span><span class="p">,</span> <span class="mi">2582</span><span class="p">,</span> <span class="mi">2921</span><span class="p">,</span> <span class="mi">2768</span><span class="p">,</span> <span class="mi">2789</span><span class="p">,</span> <span class="mi">2824</span><span class="p">,</span> <span class="mi">2482</span><span class="p">,</span> <span class="mi">2773</span><span class="p">,</span> <span class="mi">3005</span><span class="p">,</span> <span class="mi">3641</span><span class="p">,</span> <span class="mi">3699</span><span class="p">,</span> <span class="mi">3774</span><span class="p">,</span>
    <span class="mi">3698</span><span class="p">,</span> <span class="mi">3628</span><span class="p">,</span> <span class="mi">3180</span><span class="p">,</span> <span class="mi">3306</span><span class="p">,</span> <span class="mi">2841</span><span class="p">,</span> <span class="mi">2014</span><span class="p">,</span> <span class="mi">1910</span><span class="p">,</span> <span class="mi">2560</span><span class="p">,</span> <span class="mi">2980</span><span class="p">,</span> <span class="mi">3012</span><span class="p">,</span> <span class="mi">3210</span><span class="p">,</span> <span class="mi">3457</span><span class="p">,</span>
    <span class="mi">3158</span><span class="p">,</span> <span class="mi">3344</span><span class="p">,</span> <span class="mi">3609</span><span class="p">,</span> <span class="mi">3327</span><span class="p">,</span> <span class="mi">2913</span><span class="p">,</span> <span class="mi">2264</span><span class="p">,</span> <span class="mi">2326</span><span class="p">,</span> <span class="mi">2596</span><span class="p">,</span> <span class="mi">2225</span><span class="p">,</span> <span class="mi">1767</span><span class="p">,</span> <span class="mi">1190</span><span class="p">,</span> <span class="mi">792</span><span class="p">,</span>
    <span class="mi">669</span><span class="p">,</span> <span class="mi">589</span><span class="p">,</span> <span class="mi">496</span><span class="p">,</span> <span class="mi">354</span><span class="p">,</span> <span class="mi">246</span><span class="p">,</span> <span class="mi">250</span><span class="p">,</span> <span class="mi">323</span><span class="p">,</span> <span class="mi">495</span><span class="p">,</span> <span class="mi">924</span><span class="p">,</span> <span class="mi">1536</span><span class="p">,</span> <span class="mi">2081</span><span class="p">,</span> <span class="mi">2660</span><span class="p">,</span> <span class="mi">2814</span><span class="p">,</span> <span class="mi">2992</span><span class="p">,</span>
    <span class="mi">3115</span><span class="p">,</span> <span class="mi">2962</span><span class="p">,</span> <span class="mi">2272</span><span class="p">,</span> <span class="mi">2151</span><span class="p">,</span> <span class="mi">1889</span><span class="p">,</span> <span class="mi">1481</span><span class="p">,</span> <span class="mi">955</span><span class="p">,</span> <span class="mi">631</span><span class="p">,</span> <span class="mi">288</span><span class="p">,</span> <span class="mi">103</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">82</span><span class="p">,</span> <span class="mi">107</span><span class="p">,</span> <span class="mi">185</span><span class="p">,</span>
    <span class="mi">618</span><span class="p">,</span> <span class="mi">1526</span><span class="p">,</span> <span class="mi">2046</span><span class="p">,</span> <span class="mi">2348</span><span class="p">,</span> <span class="mi">2584</span><span class="p">,</span> <span class="mi">2600</span><span class="p">,</span> <span class="mi">2515</span><span class="p">,</span> <span class="mi">2345</span><span class="p">,</span> <span class="mi">2351</span><span class="p">,</span> <span class="mi">2355</span><span class="p">,</span> <span class="mi">2409</span><span class="p">,</span> <span class="mi">2449</span><span class="p">,</span>
    <span class="mi">2645</span><span class="p">,</span> <span class="mi">2918</span><span class="p">,</span> <span class="mi">3187</span><span class="p">,</span> <span class="mi">2888</span><span class="p">,</span> <span class="mi">2610</span><span class="p">,</span> <span class="mi">2740</span><span class="p">,</span> <span class="mi">2526</span><span class="p">,</span> <span class="mi">2383</span><span class="p">,</span> <span class="mi">2936</span><span class="p">,</span> <span class="mi">2968</span><span class="p">,</span> <span class="mi">2635</span><span class="p">,</span> <span class="mi">2617</span><span class="p">,</span>
    <span class="mi">2790</span><span class="p">,</span> <span class="mi">3906</span><span class="p">,</span> <span class="mi">4018</span><span class="p">,</span> <span class="mi">4797</span><span class="p">,</span> <span class="mi">4919</span><span class="p">,</span> <span class="mi">4942</span><span class="p">,</span> <span class="mi">4656</span><span class="p">,</span> <span class="mi">4444</span><span class="p">,</span> <span class="mi">3898</span><span class="p">,</span> <span class="mi">3908</span><span class="p">,</span> <span class="mi">3678</span><span class="p">,</span> <span class="mi">3605</span><span class="p">,</span>
    <span class="mi">3186</span><span class="p">,</span> <span class="mi">2139</span><span class="p">,</span> <span class="mi">2002</span><span class="p">,</span> <span class="mi">1559</span><span class="p">,</span> <span class="mi">1235</span><span class="p">,</span> <span class="mi">1183</span><span class="p">,</span> <span class="mi">1096</span><span class="p">,</span> <span class="mi">673</span><span class="p">,</span> <span class="mi">389</span><span class="p">,</span> <span class="mi">223</span><span class="p">,</span> <span class="mi">352</span><span class="p">,</span> <span class="mi">308</span><span class="p">,</span> <span class="mi">365</span><span class="p">,</span>
    <span class="mi">525</span><span class="p">,</span> <span class="mi">779</span><span class="p">,</span> <span class="mi">894</span><span class="p">,</span> <span class="mi">901</span><span class="p">,</span> <span class="mi">1025</span><span class="p">,</span> <span class="mi">1047</span><span class="p">,</span> <span class="mi">981</span><span class="p">,</span> <span class="mi">902</span><span class="p">,</span> <span class="mi">759</span><span class="p">,</span> <span class="mi">569</span><span class="p">,</span> <span class="mi">519</span><span class="p">,</span> <span class="mi">408</span><span class="p">,</span> <span class="mi">263</span><span class="p">,</span> <span class="mi">156</span><span class="p">,</span>
    <span class="mi">72</span><span class="p">,</span> <span class="mi">49</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">41</span><span class="p">,</span> <span class="mi">192</span><span class="p">,</span> <span class="mi">423</span><span class="p">,</span> <span class="mi">492</span><span class="p">,</span> <span class="mi">552</span><span class="p">,</span> <span class="mi">564</span><span class="p">,</span> <span class="mi">723</span><span class="p">,</span> <span class="mi">921</span><span class="p">,</span> <span class="mi">1525</span><span class="p">,</span> <span class="mi">2768</span><span class="p">,</span> <span class="mi">3531</span><span class="p">,</span> <span class="mi">3824</span><span class="p">,</span>
    <span class="mi">3835</span><span class="p">,</span> <span class="mi">4294</span><span class="p">,</span> <span class="mi">4533</span><span class="p">,</span> <span class="mi">4173</span><span class="p">,</span> <span class="mi">4221</span><span class="p">,</span> <span class="mi">4064</span><span class="p">,</span> <span class="mi">4641</span><span class="p">,</span> <span class="mi">4685</span><span class="p">,</span> <span class="mi">4026</span><span class="p">,</span> <span class="mi">4323</span><span class="p">,</span> <span class="mi">4585</span><span class="p">,</span> <span class="mi">4836</span><span class="p">,</span>
    <span class="mi">4822</span><span class="p">,</span> <span class="mi">4631</span><span class="p">,</span> <span class="mi">4614</span><span class="p">,</span> <span class="mi">4326</span><span class="p">,</span> <span class="mi">4790</span><span class="p">,</span> <span class="mi">4736</span><span class="p">,</span> <span class="mi">4104</span><span class="p">,</span> <span class="mi">5099</span><span class="p">,</span> <span class="mi">5154</span><span class="p">,</span> <span class="mi">5121</span><span class="p">,</span> <span class="mi">5384</span><span class="p">,</span> <span class="mi">5274</span><span class="p">,</span>
    <span class="mi">5225</span><span class="p">,</span> <span class="mi">4899</span><span class="p">,</span> <span class="mi">5382</span><span class="p">,</span> <span class="mi">5295</span><span class="p">,</span> <span class="mi">5349</span><span class="p">,</span> <span class="mi">4977</span><span class="p">,</span> <span class="mi">4597</span><span class="p">,</span> <span class="mi">4069</span><span class="p">,</span> <span class="mi">3733</span><span class="p">,</span> <span class="mi">3439</span><span class="p">,</span> <span class="mi">3052</span><span class="p">,</span> <span class="mi">2626</span><span class="p">,</span>
    <span class="mi">1939</span><span class="p">,</span> <span class="mi">1064</span><span class="p">,</span> <span class="mi">713</span><span class="p">,</span> <span class="mi">916</span><span class="p">,</span> <span class="mi">832</span><span class="p">,</span> <span class="mi">658</span><span class="p">,</span> <span class="mi">817</span><span class="p">,</span> <span class="mi">921</span><span class="p">,</span> <span class="mi">772</span><span class="p">,</span> <span class="mi">764</span><span class="p">,</span> <span class="mi">824</span><span class="p">,</span> <span class="mi">967</span><span class="p">,</span> <span class="mi">1127</span><span class="p">,</span> <span class="mi">1153</span><span class="p">,</span>
    <span class="mi">824</span><span class="p">,</span> <span class="mi">912</span><span class="p">,</span> <span class="mi">957</span><span class="p">,</span> <span class="mi">990</span><span class="p">,</span> <span class="mi">1218</span><span class="p">,</span> <span class="mi">1684</span><span class="p">,</span> <span class="mi">2030</span><span class="p">,</span> <span class="mi">2119</span><span class="p">,</span> <span class="mi">2233</span><span class="p">,</span> <span class="mi">2657</span><span class="p">,</span> <span class="mi">2652</span><span class="p">,</span> <span class="mi">2682</span><span class="p">,</span> <span class="mi">2498</span><span class="p">,</span>
    <span class="mi">2429</span><span class="p">,</span> <span class="mi">2346</span><span class="p">,</span> <span class="mi">2298</span><span class="p">,</span> <span class="mi">2129</span><span class="p">,</span> <span class="mi">1829</span><span class="p">,</span> <span class="mi">1816</span><span class="p">,</span> <span class="mi">1225</span><span class="p">,</span> <span class="mi">1010</span><span class="p">,</span> <span class="mi">748</span><span class="p">,</span> <span class="mi">627</span><span class="p">,</span> <span class="mi">469</span><span class="p">,</span> <span class="mi">576</span><span class="p">,</span> <span class="mi">532</span><span class="p">,</span>
    <span class="mi">475</span><span class="p">,</span> <span class="mi">582</span><span class="p">,</span> <span class="mi">641</span><span class="p">,</span> <span class="mi">605</span><span class="p">,</span> <span class="mi">699</span><span class="p">,</span> <span class="mi">680</span><span class="p">,</span> <span class="mi">714</span><span class="p">,</span> <span class="mi">670</span><span class="p">,</span> <span class="mi">666</span><span class="p">,</span> <span class="mi">636</span><span class="p">,</span> <span class="mi">672</span><span class="p">,</span> <span class="mi">679</span><span class="p">,</span> <span class="mi">446</span><span class="p">,</span> <span class="mi">248</span><span class="p">,</span> <span class="mi">134</span><span class="p">,</span>
    <span class="mi">160</span><span class="p">,</span> <span class="mi">178</span><span class="p">,</span> <span class="mi">286</span><span class="p">,</span> <span class="mi">413</span><span class="p">,</span> <span class="mi">676</span><span class="p">,</span> <span class="mi">1025</span><span class="p">,</span> <span class="mi">1159</span><span class="p">,</span> <span class="mi">952</span><span class="p">,</span> <span class="mi">1398</span><span class="p">,</span> <span class="mi">1833</span><span class="p">,</span> <span class="mi">2045</span><span class="p">,</span> <span class="mi">2072</span><span class="p">,</span> <span class="mi">1798</span><span class="p">,</span>
    <span class="mi">1799</span><span class="p">,</span> <span class="mi">1358</span><span class="p">,</span> <span class="mi">727</span><span class="p">,</span> <span class="mi">353</span><span class="p">,</span> <span class="mi">347</span><span class="p">,</span> <span class="mi">844</span><span class="p">,</span> <span class="mi">1377</span><span class="p">,</span> <span class="mi">1829</span><span class="p">,</span> <span class="mi">2118</span><span class="p">,</span> <span class="mi">2272</span><span class="p">,</span> <span class="mi">2745</span><span class="p">,</span> <span class="mi">4263</span><span class="p">,</span> <span class="mi">4314</span><span class="p">,</span>
    <span class="mi">4530</span><span class="p">,</span> <span class="mi">4354</span><span class="p">,</span> <span class="mi">4645</span><span class="p">,</span> <span class="mi">4547</span><span class="p">,</span> <span class="mi">5391</span><span class="p">,</span> <span class="mi">4855</span><span class="p">,</span> <span class="mi">4739</span><span class="p">,</span> <span class="mi">4520</span><span class="p">,</span> <span class="mi">4573</span><span class="p">,</span> <span class="mi">4305</span><span class="p">,</span> <span class="mi">4196</span><span class="p">,</span> <span class="mi">3773</span><span class="p">,</span>
    <span class="mi">3368</span><span class="p">,</span> <span class="mi">2596</span><span class="p">,</span> <span class="mi">2596</span><span class="p">,</span> <span class="mi">2305</span><span class="p">,</span> <span class="mi">2756</span><span class="p">,</span> <span class="mi">3747</span><span class="p">,</span> <span class="mi">4078</span><span class="p">,</span> <span class="mi">3415</span><span class="p">,</span> <span class="mi">2369</span><span class="p">,</span> <span class="mi">2210</span><span class="p">,</span> <span class="mi">2316</span><span class="p">,</span> <span class="mi">2263</span><span class="p">,</span>
    <span class="mi">2672</span><span class="p">,</span> <span class="mi">3571</span><span class="p">,</span> <span class="mi">4131</span><span class="p">,</span> <span class="mi">4167</span><span class="p">,</span> <span class="mi">4077</span><span class="p">,</span> <span class="mi">3924</span><span class="p">,</span> <span class="mi">3738</span><span class="p">,</span> <span class="mi">3712</span><span class="p">,</span> <span class="mi">3510</span><span class="p">,</span> <span class="mi">3182</span><span class="p">,</span> <span class="mi">3179</span><span class="p">,</span> <span class="mi">2951</span><span class="p">,</span>
    <span class="mi">2453</span><span class="p">,</span> <span class="mi">2078</span><span class="p">,</span> <span class="mi">1999</span><span class="p">,</span> <span class="mi">2486</span><span class="p">,</span> <span class="mi">2581</span><span class="p">,</span> <span class="mi">1891</span><span class="p">,</span> <span class="mi">1997</span><span class="p">,</span> <span class="mi">1366</span><span class="p">,</span> <span class="mi">1294</span><span class="p">,</span> <span class="mi">1536</span><span class="p">,</span> <span class="mi">2794</span><span class="p">,</span> <span class="mi">3211</span><span class="p">,</span>
    <span class="mi">3242</span><span class="p">,</span> <span class="mi">3406</span><span class="p">,</span> <span class="mi">3121</span><span class="p">,</span> <span class="mi">2425</span><span class="p">,</span> <span class="mi">2016</span><span class="p">,</span> <span class="mi">1787</span><span class="p">,</span> <span class="mi">1508</span><span class="p">,</span> <span class="mi">1304</span><span class="p">,</span> <span class="mi">1060</span><span class="p">,</span> <span class="mi">1342</span><span class="p">,</span> <span class="mi">1589</span><span class="p">,</span> <span class="mi">2361</span><span class="p">,</span>
    <span class="mi">3452</span><span class="p">,</span> <span class="mi">2659</span><span class="p">,</span> <span class="mi">2857</span><span class="p">,</span> <span class="mi">3255</span><span class="p">,</span> <span class="mi">3322</span><span class="p">,</span> <span class="mi">2852</span><span class="p">,</span> <span class="mi">2964</span><span class="p">,</span> <span class="mi">3132</span><span class="p">,</span> <span class="mi">3033</span><span class="p">,</span> <span class="mi">2931</span><span class="p">,</span> <span class="mi">2636</span><span class="p">,</span> <span class="mi">2818</span><span class="p">,</span>
    <span class="mi">3310</span><span class="p">,</span> <span class="mi">3396</span><span class="p">,</span> <span class="mi">3179</span><span class="p">,</span> <span class="mi">3232</span><span class="p">,</span> <span class="mi">3543</span><span class="p">,</span> <span class="mi">3759</span><span class="p">,</span> <span class="mi">3503</span><span class="p">,</span> <span class="mi">3758</span><span class="p">,</span> <span class="mi">3658</span><span class="p">,</span> <span class="mi">3425</span><span class="p">,</span> <span class="mi">3053</span><span class="p">,</span> <span class="mi">2620</span><span class="p">,</span>
    <span class="mi">1837</span><span class="p">,</span> <span class="mi">923</span><span class="p">,</span> <span class="mi">712</span><span class="p">,</span> <span class="mi">1054</span><span class="p">,</span> <span class="mi">1376</span><span class="p">,</span> <span class="mi">1556</span><span class="p">,</span> <span class="mi">1498</span><span class="p">,</span> <span class="mi">1523</span><span class="p">,</span> <span class="mi">1088</span><span class="p">,</span> <span class="mi">728</span><span class="p">,</span> <span class="mi">890</span><span class="p">,</span> <span class="mi">1413</span><span class="p">,</span> <span class="mi">2524</span><span class="p">,</span>
    <span class="mi">3295</span><span class="p">,</span> <span class="mi">4097</span><span class="p">,</span> <span class="mi">3993</span><span class="p">,</span> <span class="mi">4116</span><span class="p">,</span> <span class="mi">3874</span><span class="p">,</span> <span class="mi">4074</span><span class="p">,</span> <span class="mi">4142</span><span class="p">,</span> <span class="mi">3975</span><span class="p">,</span> <span class="mi">3908</span><span class="p">,</span> <span class="mi">3907</span><span class="p">,</span> <span class="mi">3918</span><span class="p">,</span> <span class="mi">3755</span><span class="p">,</span>
    <span class="mi">3648</span><span class="p">,</span> <span class="mi">3778</span><span class="p">,</span> <span class="mi">4293</span><span class="p">,</span> <span class="mi">4385</span><span class="p">,</span> <span class="mi">4360</span><span class="p">,</span> <span class="mi">4352</span><span class="p">,</span> <span class="mi">4528</span><span class="p">,</span> <span class="mi">4365</span><span class="p">,</span> <span class="mi">3846</span><span class="p">,</span> <span class="mi">4098</span><span class="p">,</span> <span class="mi">3860</span><span class="p">,</span> <span class="mi">3230</span><span class="p">,</span>
    <span class="mi">2820</span><span class="p">,</span> <span class="mi">2916</span><span class="p">,</span> <span class="mi">3201</span><span class="p">,</span> <span class="mi">3721</span><span class="p">,</span> <span class="mi">3397</span><span class="p">,</span> <span class="mi">3055</span><span class="p">,</span> <span class="mi">2141</span><span class="p">,</span> <span class="mi">1623</span><span class="p">,</span> <span class="mi">1825</span><span class="p">,</span> <span class="mi">1716</span><span class="p">,</span> <span class="mi">2232</span><span class="p">,</span> <span class="mi">2939</span><span class="p">,</span>
    <span class="mi">3735</span><span class="p">,</span> <span class="mi">4838</span><span class="p">,</span> <span class="mi">4560</span><span class="p">,</span> <span class="mi">4307</span><span class="p">,</span> <span class="mi">4975</span><span class="p">,</span> <span class="mi">5173</span><span class="p">,</span> <span class="mi">4859</span><span class="p">,</span> <span class="mi">5268</span><span class="p">,</span> <span class="mi">4992</span><span class="p">,</span> <span class="mi">5100</span><span class="p">,</span> <span class="mi">5070</span><span class="p">,</span> <span class="mi">5270</span><span class="p">,</span>
    <span class="mi">4760</span><span class="p">,</span> <span class="mi">5135</span><span class="p">,</span> <span class="mi">5059</span><span class="p">,</span> <span class="mi">4682</span><span class="p">,</span> <span class="mi">4492</span><span class="p">,</span> <span class="mi">4933</span><span class="p">,</span> <span class="mi">4737</span><span class="p">,</span> <span class="mi">4611</span><span class="p">,</span> <span class="mi">4634</span><span class="p">,</span> <span class="mi">4789</span><span class="p">,</span> <span class="mi">4811</span><span class="p">,</span> <span class="mi">4379</span><span class="p">,</span>
    <span class="mi">4689</span><span class="p">,</span> <span class="mi">4284</span><span class="p">,</span> <span class="mi">4191</span><span class="p">,</span> <span class="mi">3313</span><span class="p">,</span> <span class="mi">2770</span><span class="p">,</span> <span class="mi">2543</span><span class="p">,</span> <span class="mi">3105</span><span class="p">,</span> <span class="mi">2967</span><span class="p">,</span> <span class="mi">2420</span><span class="p">,</span> <span class="mi">1996</span><span class="p">,</span> <span class="mi">2247</span><span class="p">,</span> <span class="mi">2564</span><span class="p">,</span>
    <span class="mi">2726</span><span class="p">,</span> <span class="mi">3021</span><span class="p">,</span> <span class="mi">3427</span><span class="p">,</span> <span class="mi">3509</span><span class="p">,</span> <span class="mi">3759</span><span class="p">,</span> <span class="mi">3324</span><span class="p">,</span> <span class="mi">2988</span><span class="p">,</span> <span class="mi">2849</span><span class="p">,</span> <span class="mi">2340</span><span class="p">,</span> <span class="mi">2443</span><span class="p">,</span> <span class="mi">2364</span><span class="p">,</span> <span class="mi">1252</span><span class="p">,</span>
    <span class="mi">623</span><span class="p">,</span> <span class="mi">742</span><span class="p">,</span> <span class="mi">867</span><span class="p">,</span> <span class="mi">684</span><span class="p">,</span> <span class="mi">488</span><span class="p">,</span> <span class="mi">348</span><span class="p">,</span> <span class="mi">241</span><span class="p">,</span> <span class="mi">187</span><span class="p">,</span> <span class="mi">279</span><span class="p">,</span> <span class="mi">355</span><span class="p">,</span> <span class="mi">423</span><span class="p">,</span> <span class="mi">678</span><span class="p">,</span> <span class="mi">1375</span><span class="p">,</span> <span class="mi">1497</span><span class="p">,</span>
    <span class="mi">1434</span><span class="p">,</span> <span class="mi">2116</span><span class="p">,</span> <span class="mi">2411</span><span class="p">,</span> <span class="mi">1929</span><span class="p">,</span> <span class="mi">1628</span><span class="p">,</span> <span class="mi">1635</span><span class="p">,</span> <span class="mi">1609</span><span class="p">,</span> <span class="mi">1757</span><span class="p">,</span> <span class="mi">2090</span><span class="p">,</span> <span class="mi">2085</span><span class="p">,</span> <span class="mi">1790</span><span class="p">,</span> <span class="mi">1846</span><span class="p">,</span>
    <span class="mi">2038</span><span class="p">,</span> <span class="mi">2360</span><span class="p">,</span> <span class="mi">2342</span><span class="p">,</span> <span class="mi">2401</span><span class="p">,</span> <span class="mi">2920</span><span class="p">,</span> <span class="mi">3030</span><span class="p">,</span> <span class="mi">3132</span><span class="p">,</span> <span class="mi">4385</span><span class="p">,</span> <span class="mi">5483</span><span class="p">,</span> <span class="mi">5865</span><span class="p">,</span> <span class="mi">5595</span><span class="p">,</span> <span class="mi">5485</span><span class="p">,</span>
    <span class="mi">5727</span><span class="p">,</span> <span class="mi">5553</span><span class="p">,</span> <span class="mi">5560</span><span class="p">,</span> <span class="mi">5233</span><span class="p">,</span> <span class="mi">5478</span><span class="p">,</span> <span class="mi">5159</span><span class="p">,</span> <span class="mi">5155</span><span class="p">,</span> <span class="mi">5312</span><span class="p">,</span> <span class="mi">5079</span><span class="p">,</span> <span class="mi">4510</span><span class="p">,</span> <span class="mi">4628</span><span class="p">,</span> <span class="mi">4535</span><span class="p">,</span>
    <span class="mi">3656</span><span class="p">,</span> <span class="mi">3698</span><span class="p">,</span> <span class="mi">3443</span><span class="p">,</span> <span class="mi">3146</span><span class="p">,</span> <span class="mi">2562</span><span class="p">,</span> <span class="mi">2304</span><span class="p">,</span> <span class="mi">2181</span><span class="p">,</span> <span class="mi">2293</span><span class="p">,</span> <span class="mi">1950</span><span class="p">,</span> <span class="mi">1930</span><span class="p">,</span> <span class="mi">2197</span><span class="p">,</span> <span class="mi">2796</span><span class="p">,</span>
    <span class="mi">3441</span><span class="p">,</span> <span class="mi">3649</span><span class="p">,</span> <span class="mi">3815</span><span class="p">,</span> <span class="mi">2850</span><span class="p">,</span> <span class="mi">4005</span><span class="p">,</span> <span class="mi">5305</span><span class="p">,</span> <span class="mi">5550</span><span class="p">,</span> <span class="mi">5641</span><span class="p">,</span> <span class="mi">4717</span><span class="p">,</span> <span class="mi">5131</span><span class="p">,</span> <span class="mi">2831</span><span class="p">,</span> <span class="mi">3518</span><span class="p">,</span>
    <span class="mi">3354</span><span class="p">,</span> <span class="mi">3115</span><span class="p">,</span> <span class="mi">3515</span><span class="p">,</span> <span class="mi">3552</span><span class="p">,</span> <span class="mi">3244</span><span class="p">,</span> <span class="mi">3658</span><span class="p">,</span> <span class="mi">4407</span><span class="p">,</span> <span class="mi">4935</span><span class="p">,</span> <span class="mi">4299</span><span class="p">,</span> <span class="mi">3166</span><span class="p">,</span> <span class="mi">3335</span><span class="p">,</span> <span class="mi">2728</span><span class="p">,</span>
    <span class="mi">2488</span><span class="p">,</span> <span class="mi">2573</span><span class="p">,</span> <span class="mi">2002</span><span class="p">,</span> <span class="mi">1717</span><span class="p">,</span> <span class="mi">1645</span><span class="p">,</span> <span class="mi">1977</span><span class="p">,</span> <span class="mi">2049</span><span class="p">,</span> <span class="mi">2125</span><span class="p">,</span> <span class="mi">2376</span><span class="p">,</span> <span class="mi">2551</span><span class="p">,</span> <span class="mi">2578</span><span class="p">,</span> <span class="mi">2629</span><span class="p">,</span>
    <span class="mi">2750</span><span class="p">,</span> <span class="mi">3150</span><span class="p">,</span> <span class="mi">3699</span><span class="p">,</span> <span class="mi">4062</span><span class="p">,</span> <span class="mi">3959</span><span class="p">,</span> <span class="mi">3264</span><span class="p">,</span> <span class="mi">2671</span><span class="p">,</span> <span class="mi">2205</span><span class="p">,</span> <span class="mi">2128</span><span class="p">,</span> <span class="mi">2133</span><span class="p">,</span> <span class="mi">2095</span><span class="p">,</span> <span class="mi">1964</span><span class="p">,</span>
    <span class="mi">2006</span><span class="p">,</span> <span class="mi">2074</span><span class="p">,</span> <span class="mi">2201</span><span class="p">,</span> <span class="mi">2506</span><span class="p">,</span> <span class="mi">2449</span><span class="p">,</span> <span class="mi">2465</span><span class="p">,</span> <span class="mi">2064</span><span class="p">,</span> <span class="mi">1446</span><span class="p">,</span> <span class="mi">1382</span><span class="p">,</span> <span class="mi">983</span><span class="p">,</span> <span class="mi">898</span><span class="p">,</span> <span class="mi">489</span><span class="p">,</span> <span class="mi">319</span><span class="p">,</span>
    <span class="mi">383</span><span class="p">,</span> <span class="mi">332</span><span class="p">,</span> <span class="mi">276</span><span class="p">,</span> <span class="mi">224</span><span class="p">,</span> <span class="mi">144</span><span class="p">,</span> <span class="mi">101</span><span class="p">,</span> <span class="mi">232</span><span class="p">,</span> <span class="mi">429</span><span class="p">,</span> <span class="mi">597</span><span class="p">,</span> <span class="mi">750</span><span class="p">,</span> <span class="mi">908</span><span class="p">,</span> <span class="mi">960</span><span class="p">,</span> <span class="mi">1076</span><span class="p">,</span> <span class="mi">951</span><span class="p">,</span>
    <span class="mi">1062</span><span class="p">,</span> <span class="mi">1183</span><span class="p">,</span> <span class="mi">1404</span><span class="p">,</span> <span class="mi">1391</span><span class="p">,</span> <span class="mi">1419</span><span class="p">,</span> <span class="mi">1497</span><span class="p">,</span> <span class="mi">1267</span><span class="p">,</span> <span class="mi">963</span><span class="p">,</span> <span class="mi">682</span><span class="p">,</span> <span class="mi">777</span><span class="p">,</span> <span class="mi">906</span><span class="p">,</span> <span class="mi">1149</span><span class="p">,</span> <span class="mi">1439</span><span class="p">,</span>
    <span class="mi">1600</span><span class="p">,</span> <span class="mi">1876</span><span class="p">,</span> <span class="mi">1885</span><span class="p">,</span> <span class="mi">1962</span><span class="p">,</span> <span class="mi">2280</span><span class="p">,</span> <span class="mi">2711</span><span class="p">,</span> <span class="mi">2591</span><span class="p">,</span> <span class="mi">2411</span><span class="p">])</span>
    <span class="n">res</span> <span class="o">=</span> <span class="n">ARMA</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">disp</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span></div>


<div class="viewcode-block" id="Test_ARIMA101"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_ARIMA101.html#statsmodels.tsa.tests.test_arima.Test_ARIMA101">[docs]</a><span class="k">class</span> <span class="nc">Test_ARIMA101</span><span class="p">(</span><span class="n">CheckArmaResultsMixin</span><span class="p">):</span>
    <span class="c1"># just make sure this works</span>
    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="Test_ARIMA101.setupClass"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_ARIMA101.setupClass.html#statsmodels.tsa.tests.test_arima.Test_ARIMA101.setupClass">[docs]</a>    <span class="k">def</span> <span class="nf">setupClass</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
        <span class="n">endog</span> <span class="o">=</span> <span class="n">y_arma</span><span class="p">[:,</span><span class="mi">6</span><span class="p">]</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res1</span> <span class="o">=</span> <span class="n">ARIMA</span><span class="p">(</span><span class="n">endog</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">trend</span><span class="o">=</span><span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="n">disp</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
        <span class="p">(</span><span class="n">cls</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">forecast_res</span><span class="p">,</span> <span class="n">cls</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">forecast_err</span><span class="p">,</span>
                <span class="n">confint</span><span class="p">)</span> <span class="o">=</span> <span class="n">cls</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">forecast</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res2</span> <span class="o">=</span> <span class="n">results_arma</span><span class="o">.</span><span class="n">Y_arma11c</span><span class="p">()</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res2</span><span class="o">.</span><span class="n">k_diff</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res2</span><span class="o">.</span><span class="n">k_ar</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res2</span><span class="o">.</span><span class="n">k_ma</span> <span class="o">=</span> <span class="mi">1</span></div></div>


<div class="viewcode-block" id="Test_ARIMA111"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_ARIMA111.html#statsmodels.tsa.tests.test_arima.Test_ARIMA111">[docs]</a><span class="k">class</span> <span class="nc">Test_ARIMA111</span><span class="p">(</span><span class="n">CheckArimaResultsMixin</span><span class="p">,</span> <span class="n">CheckForecastMixin</span><span class="p">,</span>
                    <span class="n">CheckDynamicForecastMixin</span><span class="p">):</span>
    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="Test_ARIMA111.setupClass"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_ARIMA111.setupClass.html#statsmodels.tsa.tests.test_arima.Test_ARIMA111.setupClass">[docs]</a>    <span class="k">def</span> <span class="nf">setupClass</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
        <span class="n">cpi</span> <span class="o">=</span> <span class="n">load_macrodata</span><span class="p">()</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;cpi&#39;</span><span class="p">]</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res1</span> <span class="o">=</span> <span class="n">ARIMA</span><span class="p">(</span><span class="n">cpi</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">disp</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res2</span> <span class="o">=</span> <span class="n">results_arima</span><span class="o">.</span><span class="n">ARIMA111</span><span class="p">()</span>
        <span class="c1"># make sure endog names changes to D.cpi</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_llf</span> <span class="o">=</span> <span class="mi">3</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_aic</span> <span class="o">=</span> <span class="mi">3</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_bic</span> <span class="o">=</span> <span class="mi">3</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_cov_params</span> <span class="o">=</span> <span class="mi">2</span> <span class="c1"># this used to be better?</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_t</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="p">(</span><span class="n">cls</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">forecast_res</span><span class="p">,</span>
         <span class="n">cls</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">forecast_err</span><span class="p">,</span>
         <span class="n">conf_int</span><span class="p">)</span>              <span class="o">=</span> <span class="n">cls</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">forecast</span><span class="p">(</span><span class="mi">25</span><span class="p">)</span>
        <span class="c1">#cls.res1.forecast_res_dyn = cls.res1.predict(start=164, end=226, typ=&#39;levels&#39;, dynamic=True)</span>
        <span class="c1">#TODO: fix the indexing for the end here, I don&#39;t think this is right</span>
        <span class="c1"># if we&#39;re going to treat it like indexing</span>
        <span class="c1"># the forecast from 2005Q1 through 2009Q4 is indices</span>
        <span class="c1"># 184 through 227 not 226</span>
        <span class="c1"># note that the first one counts in the count so 164 + 64 is 65</span>
        <span class="c1"># predictions</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">forecast_res_dyn</span> <span class="o">=</span> <span class="n">cls</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="mi">164</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="mi">164</span><span class="o">+</span><span class="mi">63</span><span class="p">,</span>
                                            <span class="n">typ</span><span class="o">=</span><span class="s1">&#39;levels&#39;</span><span class="p">,</span> <span class="n">dynamic</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></div>

<div class="viewcode-block" id="Test_ARIMA111.test_freq"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_ARIMA111.test_freq.html#statsmodels.tsa.tests.test_arima.Test_ARIMA111.test_freq">[docs]</a>    <span class="k">def</span> <span class="nf">test_freq</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">assert_almost_equal</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">arfreq</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.0000</span><span class="p">],</span> <span class="mi">4</span><span class="p">)</span>
        <span class="n">assert_almost_equal</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">mafreq</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.0000</span><span class="p">],</span> <span class="mi">4</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="Test_ARIMA111CSS"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_ARIMA111CSS.html#statsmodels.tsa.tests.test_arima.Test_ARIMA111CSS">[docs]</a><span class="k">class</span> <span class="nc">Test_ARIMA111CSS</span><span class="p">(</span><span class="n">CheckArimaResultsMixin</span><span class="p">,</span> <span class="n">CheckForecastMixin</span><span class="p">,</span>
                       <span class="n">CheckDynamicForecastMixin</span><span class="p">):</span>
    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="Test_ARIMA111CSS.setupClass"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_ARIMA111CSS.setupClass.html#statsmodels.tsa.tests.test_arima.Test_ARIMA111CSS.setupClass">[docs]</a>    <span class="k">def</span> <span class="nf">setupClass</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
        <span class="n">cpi</span> <span class="o">=</span> <span class="n">load_macrodata</span><span class="p">()</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;cpi&#39;</span><span class="p">]</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res1</span> <span class="o">=</span> <span class="n">ARIMA</span><span class="p">(</span><span class="n">cpi</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">disp</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;css&#39;</span><span class="p">)</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res2</span> <span class="o">=</span> <span class="n">results_arima</span><span class="o">.</span><span class="n">ARIMA111</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;css&#39;</span><span class="p">)</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res2</span><span class="o">.</span><span class="n">fittedvalues</span> <span class="o">=</span> <span class="o">-</span> <span class="n">cpi</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">cls</span><span class="o">.</span><span class="n">res2</span><span class="o">.</span><span class="n">linear</span>
        <span class="c1"># make sure endog names changes to D.cpi</span>
        <span class="p">(</span><span class="n">cls</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">forecast_res</span><span class="p">,</span>
         <span class="n">cls</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">forecast_err</span><span class="p">,</span>
         <span class="n">conf_int</span><span class="p">)</span>              <span class="o">=</span> <span class="n">cls</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">forecast</span><span class="p">(</span><span class="mi">25</span><span class="p">)</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_forecast</span> <span class="o">=</span> <span class="mi">2</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_forecast_dyn</span> <span class="o">=</span> <span class="mi">2</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_forecasterr</span> <span class="o">=</span> <span class="mi">3</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">forecast_res_dyn</span> <span class="o">=</span> <span class="n">cls</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="mi">164</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="mi">164</span><span class="o">+</span><span class="mi">63</span><span class="p">,</span>
                                                 <span class="n">typ</span><span class="o">=</span><span class="s1">&#39;levels&#39;</span><span class="p">,</span> <span class="n">dynamic</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="c1"># precisions</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_arroots</span> <span class="o">=</span> <span class="mi">3</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_cov_params</span> <span class="o">=</span> <span class="mi">3</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_hqic</span> <span class="o">=</span> <span class="mi">3</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_maroots</span> <span class="o">=</span> <span class="mi">3</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_t</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_fittedvalues</span> <span class="o">=</span> <span class="mi">2</span> <span class="c1"># because of rounding when copying</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_resid</span> <span class="o">=</span> <span class="mi">2</span>
        <span class="c1">#cls.decimal_llf = 3</span>
        <span class="c1">#cls.decimal_aic = 3</span>
        <span class="c1">#cls.decimal_bic = 3</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_predict_levels</span> <span class="o">=</span> <span class="n">DECIMAL_2</span></div></div>


<div class="viewcode-block" id="Test_ARIMA112CSS"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_ARIMA112CSS.html#statsmodels.tsa.tests.test_arima.Test_ARIMA112CSS">[docs]</a><span class="k">class</span> <span class="nc">Test_ARIMA112CSS</span><span class="p">(</span><span class="n">CheckArimaResultsMixin</span><span class="p">):</span>
    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="Test_ARIMA112CSS.setupClass"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_ARIMA112CSS.setupClass.html#statsmodels.tsa.tests.test_arima.Test_ARIMA112CSS.setupClass">[docs]</a>    <span class="k">def</span> <span class="nf">setupClass</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
        <span class="n">cpi</span> <span class="o">=</span> <span class="n">load_macrodata</span><span class="p">()</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;cpi&#39;</span><span class="p">]</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res1</span> <span class="o">=</span> <span class="n">ARIMA</span><span class="p">(</span><span class="n">cpi</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">disp</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;css&#39;</span><span class="p">,</span>
                                <span class="n">start_params</span> <span class="o">=</span> <span class="p">[</span><span class="o">.</span><span class="mi">905322</span><span class="p">,</span> <span class="o">-.</span><span class="mi">692425</span><span class="p">,</span> <span class="mf">1.07366</span><span class="p">,</span>
                                                <span class="mf">0.172024</span><span class="p">])</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res2</span> <span class="o">=</span> <span class="n">results_arima</span><span class="o">.</span><span class="n">ARIMA112</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;css&#39;</span><span class="p">)</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">res2</span><span class="o">.</span><span class="n">fittedvalues</span> <span class="o">=</span> <span class="o">-</span> <span class="n">cpi</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">cls</span><span class="o">.</span><span class="n">res2</span><span class="o">.</span><span class="n">linear</span>
        <span class="c1"># make sure endog names changes to D.cpi</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_llf</span> <span class="o">=</span> <span class="mi">3</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_aic</span> <span class="o">=</span> <span class="mi">3</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_bic</span> <span class="o">=</span> <span class="mi">3</span>
        <span class="c1">#(cls.res1.forecast_res,</span>
        <span class="c1"># cls.res1.forecast_err,</span>
        <span class="c1"># conf_int)              = cls.res1.forecast(25)</span>
        <span class="c1">#cls.res1.forecast_res_dyn = cls.res1.predict(start=164, end=226, typ=&#39;levels&#39;, dynamic=True)</span>
        <span class="c1">#TODO: fix the indexing for the end here, I don&#39;t think this is right</span>
        <span class="c1"># if we&#39;re going to treat it like indexing</span>
        <span class="c1"># the forecast from 2005Q1 through 2009Q4 is indices</span>
        <span class="c1"># 184 through 227 not 226</span>
        <span class="c1"># note that the first one counts in the count so 164 + 64 is 65</span>
        <span class="c1"># predictions</span>
        <span class="c1">#cls.res1.forecast_res_dyn = self.predict(start=164, end=164+63,</span>
        <span class="c1">#                                         typ=&#39;levels&#39;, dynamic=True)</span>
        <span class="c1"># since we got from gretl don&#39;t have linear prediction in differences</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_arroots</span> <span class="o">=</span> <span class="mi">3</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_maroots</span> <span class="o">=</span> <span class="mi">2</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_t</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_resid</span> <span class="o">=</span> <span class="mi">2</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_fittedvalues</span> <span class="o">=</span> <span class="mi">3</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">decimal_predict_levels</span> <span class="o">=</span> <span class="n">DECIMAL_3</span></div>

<div class="viewcode-block" id="Test_ARIMA112CSS.test_freq"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.Test_ARIMA112CSS.test_freq.html#statsmodels.tsa.tests.test_arima.Test_ARIMA112CSS.test_freq">[docs]</a>    <span class="k">def</span> <span class="nf">test_freq</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">assert_almost_equal</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">arfreq</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.5000</span><span class="p">],</span> <span class="mi">4</span><span class="p">)</span>
        <span class="n">assert_almost_equal</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">res1</span><span class="o">.</span><span class="n">mafreq</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.5000</span><span class="p">,</span> <span class="mf">0.5000</span><span class="p">],</span> <span class="mi">4</span><span class="p">)</span></div></div>

<span class="c1">#class Test_ARIMADates(CheckArmaResults, CheckForecast, CheckDynamicForecast):</span>
<span class="c1">#    @classmethod</span>
<span class="c1">#    def setupClass(cls):</span>
<span class="c1">#        from statsmodels.tsa.datetools import dates_from_range</span>
<span class="c1">#</span>
<span class="c1">#        cpi = load_macrodata().data[&#39;cpi&#39;]</span>
<span class="c1">#        dates = dates_from_range(&#39;1959q1&#39;, length=203)</span>
<span class="c1">#        cls.res1 = ARIMA(cpi, dates=dates, freq=&#39;Q&#39;).fit(order=(1,1,1), disp=-1)</span>
<span class="c1">#        cls.res2 = results_arima.ARIMA111()</span>
<span class="c1">#        # make sure endog names changes to D.cpi</span>
<span class="c1">#        cls.decimal_llf = 3</span>
<span class="c1">#        cls.decimal_aic = 3</span>
<span class="c1">#        cls.decimal_bic = 3</span>
<span class="c1">#        (cls.res1.forecast_res,</span>
<span class="c1">#         cls.res1.forecast_err,</span>
<span class="c1">#         conf_int)              = cls.res1.forecast(25)</span>


<div class="viewcode-block" id="test_arima_predict_mle_dates"><a class="viewcode-back" href="../../../../generated/statsmodels.tsa.tests.test_arima.test_arima_predict_mle_dates.html#statsmodels.tsa.tests.test_arima.test_arima_predict_mle_dates">[docs]</a><span class="k">def</span> <span class="nf">test_arima_predict_mle_dates</span><span class="p">():</span>
    <span class="n">cpi</span> <span class="o">=</span> <span class="n">load_macrodata</span><span class="p">()</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;cpi&#39;</span><span class="p">]</span>
    <span class="n">res1</span> <span class="o">=</span> <span class="n">ARIMA</span><span class="p">(</span><span class="n">cpi</span><span class="p">,</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">dates</span><span class="o">=</span><span class="n">cpi_dates</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;Q&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">disp</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>

    <span class="n">arima_forecasts</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">genfromtxt</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span>
        <span class="n">current_path</span> <span class="o">+</span> <span class="s1">&#39;/results/results_arima_forecasts_all_mle.csv&#39;</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">),</span>
                    <span class="n">delimiter</span><span class="o">=</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="n">skip_header</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span>

    <span class="n">fc</span> <span class="o">=</span> <span class="n">arima_forecasts</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">fcdyn</span> <span class="o">=</span> <span class="n">arima_forecasts</span><span class="p">[:,</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">fcdyn2</span> <span class="o">=</span> <span class="n">arima_forecasts</span><span class="p">[:,</span><span class="mi">2</span><span class="p">]</span>

    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">51</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="s1">&#39;1959Q3&#39;</span><span class="p">,</span> <span class="s1">&#39;1971Q4&#39;</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="s1">&#39;levels&#39;</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fc</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="n">assert_equal</span><span class="p">(</span><span class="n">res1</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">predict_dates</span><span class="p">,</span> <span class="n">cpi_dates</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">])</span>

    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">202</span><span class="p">,</span> <span class="mi">227</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="s1">&#39;2009Q3&#39;</span><span class="p">,</span> <span class="s1">&#39;2015Q4&#39;</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="s1">&#39;levels&#39;</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fc</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="n">assert_equal</span><span class="p">(</span><span class="n">res1</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">predict_dates</span><span class="p">,</span> <span class="n">cpi_predict_dates</span><span class="p">)</span>

    <span class="c1"># make sure dynamic works</span>

    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="s1">&#39;1960q2&#39;</span><span class="p">,</span> <span class="s1">&#39;1971q4&#39;</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">dynamic</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="s1">&#39;levels&#39;</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fcdyn</span><span class="p">[</span><span class="mi">5</span><span class="p">:</span><span class="mi">51</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>

    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="s1">&#39;1965q1&#39;</span><span class="p">,</span> <span class="s1">&#39;2015q4&#39;</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">dynamic</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="s1">&#39;levels&#39;</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fcdyn2</span><span class="p">[</span><span class="mi">24</span><span class="p">:</span><span class="mi">227</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span></div>


<div class="viewcode-block" id="test_arma_predict_mle_dates"><a class="viewcode-back" href="../../../../generated/statsmodels.tsa.tests.test_arima.test_arma_predict_mle_dates.html#statsmodels.tsa.tests.test_arima.test_arma_predict_mle_dates">[docs]</a><span class="k">def</span> <span class="nf">test_arma_predict_mle_dates</span><span class="p">():</span>
    <span class="kn">from</span> <span class="nn">statsmodels.datasets.sunspots</span> <span class="k">import</span> <span class="n">load</span>
    <span class="n">sunspots</span> <span class="o">=</span> <span class="n">load</span><span class="p">()</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;SUNACTIVITY&#39;</span><span class="p">]</span>
    <span class="n">mod</span> <span class="o">=</span> <span class="n">ARMA</span><span class="p">(</span><span class="n">sunspots</span><span class="p">,</span> <span class="p">(</span><span class="mi">9</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="n">dates</span><span class="o">=</span><span class="n">sun_dates</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;A&#39;</span><span class="p">)</span>
    <span class="n">mod</span><span class="o">.</span><span class="n">method</span> <span class="o">=</span> <span class="s1">&#39;mle&#39;</span>

    <span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">mod</span><span class="o">.</span><span class="n">_get_predict_start</span><span class="p">,</span> <span class="o">*</span><span class="p">(</span><span class="s1">&#39;1701&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">))</span>

    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">51</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">mod</span><span class="o">.</span><span class="n">_get_predict_start</span><span class="p">(</span><span class="s1">&#39;1702&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">mod</span><span class="o">.</span><span class="n">_get_predict_end</span><span class="p">(</span><span class="s1">&#39;1751&#39;</span><span class="p">)</span>
    <span class="n">assert_equal</span><span class="p">(</span><span class="n">mod</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">predict_dates</span><span class="p">,</span> <span class="n">sun_dates</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">])</span>

    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">308</span><span class="p">,</span> <span class="mi">333</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">mod</span><span class="o">.</span><span class="n">_get_predict_start</span><span class="p">(</span><span class="s1">&#39;2008&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">mod</span><span class="o">.</span><span class="n">_get_predict_end</span><span class="p">(</span><span class="s1">&#39;2033&#39;</span><span class="p">)</span>
    <span class="n">assert_equal</span><span class="p">(</span><span class="n">mod</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">predict_dates</span><span class="p">,</span> <span class="n">sun_predict_dates</span><span class="p">)</span></div>


<div class="viewcode-block" id="test_arima_predict_css_dates"><a class="viewcode-back" href="../../../../generated/statsmodels.tsa.tests.test_arima.test_arima_predict_css_dates.html#statsmodels.tsa.tests.test_arima.test_arima_predict_css_dates">[docs]</a><span class="k">def</span> <span class="nf">test_arima_predict_css_dates</span><span class="p">():</span>
    <span class="n">cpi</span> <span class="o">=</span> <span class="n">load_macrodata</span><span class="p">()</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;cpi&#39;</span><span class="p">]</span>
    <span class="n">res1</span> <span class="o">=</span> <span class="n">ARIMA</span><span class="p">(</span><span class="n">cpi</span><span class="p">,</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">dates</span><span class="o">=</span><span class="n">cpi_dates</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;Q&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">disp</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span>
            <span class="n">method</span><span class="o">=</span><span class="s1">&#39;css&#39;</span><span class="p">,</span> <span class="n">trend</span><span class="o">=</span><span class="s1">&#39;nc&#39;</span><span class="p">)</span>

    <span class="n">params</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span> <span class="mf">1.231272508473910</span><span class="p">,</span>
                       <span class="o">-</span><span class="mf">0.282516097759915</span><span class="p">,</span>
                        <span class="mf">0.170052755782440</span><span class="p">,</span>
                       <span class="o">-</span><span class="mf">0.118203728504945</span><span class="p">,</span>
                       <span class="o">-</span><span class="mf">0.938783134717947</span><span class="p">])</span>

    <span class="n">arima_forecasts</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">genfromtxt</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span>
        <span class="n">current_path</span> <span class="o">+</span> <span class="s1">&#39;/results/results_arima_forecasts_all_css.csv&#39;</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">),</span>
                    <span class="n">delimiter</span><span class="o">=</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="n">skip_header</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span>

    <span class="n">fc</span> <span class="o">=</span> <span class="n">arima_forecasts</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">fcdyn</span> <span class="o">=</span> <span class="n">arima_forecasts</span><span class="p">[:,</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">fcdyn2</span> <span class="o">=</span> <span class="n">arima_forecasts</span><span class="p">[:,</span><span class="mi">2</span><span class="p">]</span>

    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">51</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="s1">&#39;1960Q2&#39;</span><span class="p">,</span> <span class="s1">&#39;1971Q4&#39;</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="s1">&#39;levels&#39;</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fc</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="n">assert_equal</span><span class="p">(</span><span class="n">res1</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">predict_dates</span><span class="p">,</span> <span class="n">cpi_dates</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">])</span>

    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">202</span><span class="p">,</span> <span class="mi">227</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="s1">&#39;2009Q3&#39;</span><span class="p">,</span> <span class="s1">&#39;2015Q4&#39;</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="s1">&#39;levels&#39;</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fc</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="n">assert_equal</span><span class="p">(</span><span class="n">res1</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">predict_dates</span><span class="p">,</span> <span class="n">cpi_predict_dates</span><span class="p">)</span>

    <span class="c1"># make sure dynamic works</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">51</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="s1">&#39;1960Q2&#39;</span><span class="p">,</span> <span class="s1">&#39;1971Q4&#39;</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="s1">&#39;levels&#39;</span><span class="p">,</span>
                                                        <span class="n">dynamic</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fcdyn</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>

    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="s1">&#39;1965q1&#39;</span><span class="p">,</span> <span class="s1">&#39;2015q4&#39;</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">dynamic</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="s1">&#39;levels&#39;</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fcdyn2</span><span class="p">[</span><span class="mi">24</span><span class="p">:</span><span class="mi">227</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span></div>


<div class="viewcode-block" id="test_arma_predict_css_dates"><a class="viewcode-back" href="../../../../generated/statsmodels.tsa.tests.test_arima.test_arma_predict_css_dates.html#statsmodels.tsa.tests.test_arima.test_arma_predict_css_dates">[docs]</a><span class="k">def</span> <span class="nf">test_arma_predict_css_dates</span><span class="p">():</span>
    <span class="kn">from</span> <span class="nn">statsmodels.datasets.sunspots</span> <span class="k">import</span> <span class="n">load</span>
    <span class="n">sunspots</span> <span class="o">=</span> <span class="n">load</span><span class="p">()</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;SUNACTIVITY&#39;</span><span class="p">]</span>
    <span class="n">mod</span> <span class="o">=</span> <span class="n">ARMA</span><span class="p">(</span><span class="n">sunspots</span><span class="p">,</span> <span class="p">(</span><span class="mi">9</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="n">dates</span><span class="o">=</span><span class="n">sun_dates</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;A&#39;</span><span class="p">)</span>
    <span class="n">mod</span><span class="o">.</span><span class="n">method</span> <span class="o">=</span> <span class="s1">&#39;css&#39;</span>
    <span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">mod</span><span class="o">.</span><span class="n">_get_predict_start</span><span class="p">,</span> <span class="o">*</span><span class="p">(</span><span class="s1">&#39;1701&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">))</span></div>


<div class="viewcode-block" id="test_arima_predict_mle"><a class="viewcode-back" href="../../../../generated/statsmodels.tsa.tests.test_arima.test_arima_predict_mle.html#statsmodels.tsa.tests.test_arima.test_arima_predict_mle">[docs]</a><span class="k">def</span> <span class="nf">test_arima_predict_mle</span><span class="p">():</span>
    <span class="n">cpi</span> <span class="o">=</span> <span class="n">load_macrodata</span><span class="p">()</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;cpi&#39;</span><span class="p">]</span>
    <span class="n">res1</span> <span class="o">=</span> <span class="n">ARIMA</span><span class="p">(</span><span class="n">cpi</span><span class="p">,</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">disp</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
    <span class="c1"># fit the model so that we get correct endog length but use</span>

    <span class="n">arima_forecasts</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">genfromtxt</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span>
        <span class="n">current_path</span> <span class="o">+</span> <span class="s1">&#39;/results/results_arima_forecasts_all_mle.csv&#39;</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">),</span>
                    <span class="n">delimiter</span><span class="o">=</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="n">skip_header</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span>
    <span class="n">fc</span> <span class="o">=</span> <span class="n">arima_forecasts</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">fcdyn</span> <span class="o">=</span> <span class="n">arima_forecasts</span><span class="p">[:,</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">fcdyn2</span> <span class="o">=</span> <span class="n">arima_forecasts</span><span class="p">[:,</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">fcdyn3</span> <span class="o">=</span> <span class="n">arima_forecasts</span><span class="p">[:,</span><span class="mi">3</span><span class="p">]</span>
    <span class="n">fcdyn4</span> <span class="o">=</span> <span class="n">arima_forecasts</span><span class="p">[:,</span><span class="mi">4</span><span class="p">]</span>

    <span class="c1"># 0 indicates the first sample-observation below</span>
    <span class="c1"># ie., the index after the pre-sample, these are also differenced once</span>
    <span class="c1"># so the indices are moved back once from the cpi in levels</span>
    <span class="c1"># start &lt; p, end &lt;p 1959q2 - 1959q4</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span><span class="mi">3</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="s1">&#39;levels&#39;</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fc</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start &lt; p, end 0 1959q3 - 1960q1</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="s1">&#39;levels&#39;</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fc</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start &lt; p, end &gt;0 1959q3 - 1971q4</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">51</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="s1">&#39;levels&#39;</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fc</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start &lt; p, end nobs 1959q3 - 2009q3</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">202</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="s1">&#39;levels&#39;</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fc</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start &lt; p, end &gt;nobs 1959q3 - 2015q4</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">227</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="s1">&#39;levels&#39;</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fc</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start 0, end &gt;0 1960q1 - 1971q4</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">51</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="s1">&#39;levels&#39;</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fc</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start 0, end nobs 1960q1 - 2009q3</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">202</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="s1">&#39;levels&#39;</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fc</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start 0, end &gt;nobs 1960q1 - 2015q4</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">227</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="s1">&#39;levels&#39;</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fc</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start &gt;p, end &gt;0 1965q1 - 1971q4</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">51</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="s1">&#39;levels&#39;</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fc</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start &gt;p, end nobs 1965q1 - 2009q3</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">202</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="s1">&#39;levels&#39;</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fc</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start &gt;p, end &gt;nobs 1965q1 - 2015q4</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">227</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="s1">&#39;levels&#39;</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fc</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start nobs, end nobs 2009q3 - 2009q3</span>
    <span class="c1">#NOTE: raises</span>
    <span class="c1">#start, end = 202, 202</span>
    <span class="c1">#fv = res1.predict(start, end, typ=&#39;levels&#39;)</span>
    <span class="c1">#assert_almost_equal(fv, [])</span>
    <span class="c1"># start nobs, end &gt;nobs 2009q3 - 2015q4</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">202</span><span class="p">,</span> <span class="mi">227</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="s1">&#39;levels&#39;</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fc</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_3</span><span class="p">)</span>
    <span class="c1"># start &gt;nobs, end &gt;nobs 2009q4 - 2015q4</span>
    <span class="c1">#NOTE: this raises but shouldn&#39;t, dynamic forecasts could start</span>
    <span class="c1">#one period out</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">203</span><span class="p">,</span> <span class="mi">227</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="s1">&#39;levels&#39;</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fc</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># defaults</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="s1">&#39;levels&#39;</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fc</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">203</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>

    <span class="c1">#### Dynamic #####</span>

    <span class="c1"># start &lt; p, end &lt;p 1959q2 - 1959q4</span>
    <span class="c1">#NOTE: should raise</span>
    <span class="c1">#start, end = 1,3</span>
    <span class="c1">#fv = res1.predict(start, end, dynamic=True, typ=&#39;levels&#39;)</span>
    <span class="c1">#assert_almost_equal(fv, arima_forecasts[:,15])</span>
    <span class="c1"># start &lt; p, end 0 1959q3 - 1960q1</span>

    <span class="c1">#NOTE: below should raise an error</span>
    <span class="c1">#start, end = 2, 4</span>
    <span class="c1">#fv = res1.predict(start, end, dynamic=True, typ=&#39;levels&#39;)</span>
    <span class="c1">#assert_almost_equal(fv, fcdyn[5:end+1], DECIMAL_4)</span>
    <span class="c1"># start &lt; p, end &gt;0 1959q3 - 1971q4</span>
    <span class="c1">#start, end = 2, 51</span>
    <span class="c1">#fv = res1.predict(start, end, dynamic=True, typ=&#39;levels&#39;)</span>
    <span class="c1">#assert_almost_equal(fv, fcdyn[5:end+1], DECIMAL_4)</span>
    <span class="c1">## start &lt; p, end nobs 1959q3 - 2009q3</span>
    <span class="c1">#start, end = 2, 202</span>
    <span class="c1">#fv = res1.predict(start, end, dynamic=True, typ=&#39;levels&#39;)</span>
    <span class="c1">#assert_almost_equal(fv, fcdyn[5:end+1], DECIMAL_4)</span>
    <span class="c1">## start &lt; p, end &gt;nobs 1959q3 - 2015q4</span>
    <span class="c1">#start, end = 2, 227</span>
    <span class="c1">#fv = res1.predict(start, end, dynamic=True, typ=&#39;levels&#39;)</span>
    <span class="c1">#assert_almost_equal(fv, fcdyn[5:end+1], DECIMAL_4)</span>
    <span class="c1"># start 0, end &gt;0 1960q1 - 1971q4</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">51</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">dynamic</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="s1">&#39;levels&#39;</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fcdyn</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start 0, end nobs 1960q1 - 2009q3</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">202</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">dynamic</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="s1">&#39;levels&#39;</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fcdyn</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start 0, end &gt;nobs 1960q1 - 2015q4</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">227</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">dynamic</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="s1">&#39;levels&#39;</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fcdyn</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start &gt;p, end &gt;0 1965q1 - 1971q4</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">51</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">dynamic</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="s1">&#39;levels&#39;</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fcdyn2</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start &gt;p, end nobs 1965q1 - 2009q3</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">202</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">dynamic</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="s1">&#39;levels&#39;</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fcdyn2</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start &gt;p, end &gt;nobs 1965q1 - 2015q4</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">227</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">dynamic</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="s1">&#39;levels&#39;</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fcdyn2</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start nobs, end nobs 2009q3 - 2009q3</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">202</span><span class="p">,</span> <span class="mi">202</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">dynamic</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="s1">&#39;levels&#39;</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fcdyn3</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start nobs, end &gt;nobs 2009q3 - 2015q4</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">202</span><span class="p">,</span> <span class="mi">227</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">dynamic</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="s1">&#39;levels&#39;</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fcdyn3</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start &gt;nobs, end &gt;nobs 2009q4 - 2015q4</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">203</span><span class="p">,</span> <span class="mi">227</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">dynamic</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="s1">&#39;levels&#39;</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fcdyn4</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># defaults</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">dynamic</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="s1">&#39;levels&#39;</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fcdyn</span><span class="p">[</span><span class="mi">5</span><span class="p">:</span><span class="mi">203</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span></div>


<span class="k">def</span> <span class="nf">_check_start</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">given</span><span class="p">,</span> <span class="n">expected</span><span class="p">,</span> <span class="n">dynamic</span><span class="p">):</span>
    <span class="n">start</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">_get_predict_start</span><span class="p">(</span><span class="n">given</span><span class="p">,</span> <span class="n">dynamic</span><span class="p">)</span>
    <span class="n">assert_equal</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">expected</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">_check_end</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">given</span><span class="p">,</span> <span class="n">end_expect</span><span class="p">,</span> <span class="n">out_of_sample_expect</span><span class="p">):</span>
    <span class="n">end</span><span class="p">,</span> <span class="n">out_of_sample</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">_get_predict_end</span><span class="p">(</span><span class="n">given</span><span class="p">)</span>
    <span class="n">assert_equal</span><span class="p">((</span><span class="n">end</span><span class="p">,</span> <span class="n">out_of_sample</span><span class="p">),</span> <span class="p">(</span><span class="n">end_expect</span><span class="p">,</span> <span class="n">out_of_sample_expect</span><span class="p">))</span>


<div class="viewcode-block" id="test_arma_predict_indices"><a class="viewcode-back" href="../../../../generated/statsmodels.tsa.tests.test_arima.test_arma_predict_indices.html#statsmodels.tsa.tests.test_arima.test_arma_predict_indices">[docs]</a><span class="k">def</span> <span class="nf">test_arma_predict_indices</span><span class="p">():</span>
    <span class="kn">from</span> <span class="nn">statsmodels.datasets.sunspots</span> <span class="k">import</span> <span class="n">load</span>
    <span class="n">sunspots</span> <span class="o">=</span> <span class="n">load</span><span class="p">()</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;SUNACTIVITY&#39;</span><span class="p">]</span>
    <span class="n">model</span> <span class="o">=</span> <span class="n">ARMA</span><span class="p">(</span><span class="n">sunspots</span><span class="p">,</span> <span class="p">(</span><span class="mi">9</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="n">dates</span><span class="o">=</span><span class="n">sun_dates</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;A&#39;</span><span class="p">)</span>
    <span class="n">model</span><span class="o">.</span><span class="n">method</span> <span class="o">=</span> <span class="s1">&#39;mle&#39;</span>

    <span class="c1"># raises - pre-sample + dynamic</span>
    <span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">_get_predict_start</span><span class="p">,</span> <span class="o">*</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="kc">True</span><span class="p">))</span>
    <span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">_get_predict_start</span><span class="p">,</span> <span class="o">*</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="kc">True</span><span class="p">))</span>
    <span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">_get_predict_start</span><span class="p">,</span> <span class="o">*</span><span class="p">(</span><span class="s1">&#39;1700&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">))</span>
    <span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">_get_predict_start</span><span class="p">,</span> <span class="o">*</span><span class="p">(</span><span class="s1">&#39;1708&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">))</span>

    <span class="c1"># raises - start out of sample</span>
    <span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">_get_predict_start</span><span class="p">,</span> <span class="o">*</span><span class="p">(</span><span class="mi">311</span><span class="p">,</span> <span class="kc">True</span><span class="p">))</span>
    <span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">_get_predict_start</span><span class="p">,</span> <span class="o">*</span><span class="p">(</span><span class="mi">311</span><span class="p">,</span> <span class="kc">False</span><span class="p">))</span>
    <span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">_get_predict_start</span><span class="p">,</span> <span class="o">*</span><span class="p">(</span><span class="s1">&#39;2010&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">))</span>
    <span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">_get_predict_start</span><span class="p">,</span> <span class="o">*</span><span class="p">(</span><span class="s1">&#39;2010&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">))</span>

    <span class="c1"># works - in-sample</span>
    <span class="c1"># None</span>
                  <span class="c1"># given, expected, dynamic</span>
    <span class="n">start_test_cases</span> <span class="o">=</span> <span class="p">[</span>
                  <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
                  <span class="c1"># all start get moved back by k_diff</span>
                  <span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
                  <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
                  <span class="c1"># what about end of sample start - last value is first</span>
                  <span class="c1"># forecast</span>
                  <span class="p">(</span><span class="mi">309</span><span class="p">,</span> <span class="mi">309</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
                  <span class="p">(</span><span class="mi">308</span><span class="p">,</span> <span class="mi">308</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
                  <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
                  <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
                  <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>

                  <span class="c1"># all start get moved back by k_diff</span>
                  <span class="p">(</span><span class="s1">&#39;1709&#39;</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
                  <span class="p">(</span><span class="s1">&#39;1710&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
                  <span class="c1"># what about end of sample start - last value is first</span>
                  <span class="c1"># forecast</span>
                  <span class="p">(</span><span class="s1">&#39;2008&#39;</span><span class="p">,</span> <span class="mi">308</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
                  <span class="p">(</span><span class="s1">&#39;2009&#39;</span><span class="p">,</span> <span class="mi">309</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
                  <span class="p">(</span><span class="s1">&#39;1700&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
                  <span class="p">(</span><span class="s1">&#39;1708&#39;</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
                  <span class="p">(</span><span class="s1">&#39;1709&#39;</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
                  <span class="p">]</span>

    <span class="k">for</span> <span class="n">case</span> <span class="ow">in</span> <span class="n">start_test_cases</span><span class="p">:</span>
        <span class="n">_check_start</span><span class="p">(</span><span class="o">*</span><span class="p">((</span><span class="n">model</span><span class="p">,)</span> <span class="o">+</span> <span class="n">case</span><span class="p">))</span>

    <span class="c1"># the length of sunspot is 309, so last index is 208</span>
    <span class="n">end_test_cases</span> <span class="o">=</span> <span class="p">[(</span><span class="kc">None</span><span class="p">,</span> <span class="mi">308</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                      <span class="p">(</span><span class="mi">307</span><span class="p">,</span> <span class="mi">307</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                      <span class="p">(</span><span class="mi">308</span><span class="p">,</span> <span class="mi">308</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                      <span class="p">(</span><span class="mi">309</span><span class="p">,</span> <span class="mi">308</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                      <span class="p">(</span><span class="mi">312</span><span class="p">,</span> <span class="mi">308</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
                      <span class="p">(</span><span class="mi">51</span><span class="p">,</span> <span class="mi">51</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                      <span class="p">(</span><span class="mi">333</span><span class="p">,</span> <span class="mi">308</span><span class="p">,</span> <span class="mi">25</span><span class="p">),</span>

                      <span class="p">(</span><span class="s1">&#39;2007&#39;</span><span class="p">,</span> <span class="mi">307</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;2008&#39;</span><span class="p">,</span> <span class="mi">308</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;2009&#39;</span><span class="p">,</span> <span class="mi">308</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;2012&#39;</span><span class="p">,</span> <span class="mi">308</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;1815&#39;</span><span class="p">,</span> <span class="mi">115</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;2033&#39;</span><span class="p">,</span> <span class="mi">308</span><span class="p">,</span> <span class="mi">25</span><span class="p">),</span>
                      <span class="p">]</span>

    <span class="k">for</span> <span class="n">case</span> <span class="ow">in</span> <span class="n">end_test_cases</span><span class="p">:</span>
        <span class="n">_check_end</span><span class="p">(</span><span class="o">*</span><span class="p">((</span><span class="n">model</span><span class="p">,)</span><span class="o">+</span><span class="n">case</span><span class="p">))</span></div>


<div class="viewcode-block" id="test_arima_predict_indices"><a class="viewcode-back" href="../../../../generated/statsmodels.tsa.tests.test_arima.test_arima_predict_indices.html#statsmodels.tsa.tests.test_arima.test_arima_predict_indices">[docs]</a><span class="k">def</span> <span class="nf">test_arima_predict_indices</span><span class="p">():</span>
    <span class="n">cpi</span> <span class="o">=</span> <span class="n">load_macrodata</span><span class="p">()</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;cpi&#39;</span><span class="p">]</span>
    <span class="n">model</span> <span class="o">=</span> <span class="n">ARIMA</span><span class="p">(</span><span class="n">cpi</span><span class="p">,</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">dates</span><span class="o">=</span><span class="n">cpi_dates</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;Q&#39;</span><span class="p">)</span>
    <span class="n">model</span><span class="o">.</span><span class="n">method</span> <span class="o">=</span> <span class="s1">&#39;mle&#39;</span>

    <span class="c1"># starting indices</span>

    <span class="c1"># raises - pre-sample + dynamic</span>
    <span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">_get_predict_start</span><span class="p">,</span> <span class="o">*</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="kc">True</span><span class="p">))</span>
    <span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">_get_predict_start</span><span class="p">,</span> <span class="o">*</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="kc">True</span><span class="p">))</span>
    <span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">_get_predict_start</span><span class="p">,</span> <span class="o">*</span><span class="p">(</span><span class="s1">&#39;1959Q1&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">))</span>
    <span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">_get_predict_start</span><span class="p">,</span> <span class="o">*</span><span class="p">(</span><span class="s1">&#39;1960Q1&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">))</span>

    <span class="c1"># raises - index differenced away</span>
    <span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">_get_predict_start</span><span class="p">,</span> <span class="o">*</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="kc">False</span><span class="p">))</span>
    <span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">_get_predict_start</span><span class="p">,</span> <span class="o">*</span><span class="p">(</span><span class="s1">&#39;1959Q1&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">))</span>

    <span class="c1"># raises - start out of sample</span>
    <span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">_get_predict_start</span><span class="p">,</span> <span class="o">*</span><span class="p">(</span><span class="mi">204</span><span class="p">,</span> <span class="kc">True</span><span class="p">))</span>
    <span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">_get_predict_start</span><span class="p">,</span> <span class="o">*</span><span class="p">(</span><span class="mi">204</span><span class="p">,</span> <span class="kc">False</span><span class="p">))</span>
    <span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">_get_predict_start</span><span class="p">,</span> <span class="o">*</span><span class="p">(</span><span class="s1">&#39;2010Q1&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">))</span>
    <span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">_get_predict_start</span><span class="p">,</span> <span class="o">*</span><span class="p">(</span><span class="s1">&#39;2010Q1&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">))</span>

    <span class="c1"># works - in-sample</span>
    <span class="c1"># None</span>
                  <span class="c1"># given, expected, dynamic</span>
    <span class="n">start_test_cases</span> <span class="o">=</span> <span class="p">[</span>
                  <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
                  <span class="c1"># all start get moved back by k_diff</span>
                  <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
                  <span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
                  <span class="c1"># what about end of sample start - last value is first</span>
                  <span class="c1"># forecast</span>
                  <span class="p">(</span><span class="mi">203</span><span class="p">,</span> <span class="mi">202</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
                  <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
                  <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
                  <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
                  <span class="c1"># all start get moved back by k_diff</span>
                  <span class="p">(</span><span class="s1">&#39;1960Q2&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
                  <span class="p">(</span><span class="s1">&#39;1960Q3&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
                  <span class="c1"># what about end of sample start - last value is first</span>
                  <span class="c1"># forecast</span>
                  <span class="p">(</span><span class="s1">&#39;2009Q4&#39;</span><span class="p">,</span> <span class="mi">202</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
                  <span class="p">(</span><span class="s1">&#39;1959Q2&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
                  <span class="p">(</span><span class="s1">&#39;1960Q1&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
                  <span class="p">(</span><span class="s1">&#39;1960Q2&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
                  <span class="p">]</span>

    <span class="k">for</span> <span class="n">case</span> <span class="ow">in</span> <span class="n">start_test_cases</span><span class="p">:</span>
        <span class="n">_check_start</span><span class="p">(</span><span class="o">*</span><span class="p">((</span><span class="n">model</span><span class="p">,)</span> <span class="o">+</span> <span class="n">case</span><span class="p">))</span>

    <span class="c1"># check raises</span>
    <span class="c1">#TODO: make sure dates are passing through unmolested</span>
    <span class="c1">#assert_raises(ValueError, model._get_predict_end, (&quot;2001-1-1&quot;,))</span>


    <span class="c1"># the length of diff(cpi) is 202, so last index is 201</span>
    <span class="n">end_test_cases</span> <span class="o">=</span> <span class="p">[(</span><span class="kc">None</span><span class="p">,</span> <span class="mi">201</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                      <span class="p">(</span><span class="mi">201</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                      <span class="p">(</span><span class="mi">202</span><span class="p">,</span> <span class="mi">201</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                      <span class="p">(</span><span class="mi">203</span><span class="p">,</span> <span class="mi">201</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                      <span class="p">(</span><span class="mi">204</span><span class="p">,</span> <span class="mi">201</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
                      <span class="p">(</span><span class="mi">51</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                      <span class="p">(</span><span class="mi">164</span><span class="o">+</span><span class="mi">63</span><span class="p">,</span> <span class="mi">201</span><span class="p">,</span> <span class="mi">25</span><span class="p">),</span>

                      <span class="p">(</span><span class="s1">&#39;2009Q2&#39;</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;2009Q3&#39;</span><span class="p">,</span> <span class="mi">201</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;2009Q4&#39;</span><span class="p">,</span> <span class="mi">201</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;2010Q1&#39;</span><span class="p">,</span> <span class="mi">201</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;1971Q4&#39;</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;2015Q4&#39;</span><span class="p">,</span> <span class="mi">201</span><span class="p">,</span> <span class="mi">25</span><span class="p">),</span>
                      <span class="p">]</span>

    <span class="k">for</span> <span class="n">case</span> <span class="ow">in</span> <span class="n">end_test_cases</span><span class="p">:</span>
        <span class="n">_check_end</span><span class="p">(</span><span class="o">*</span><span class="p">((</span><span class="n">model</span><span class="p">,)</span><span class="o">+</span><span class="n">case</span><span class="p">))</span>

    <span class="c1"># check higher k_diff</span>

    <span class="n">model</span><span class="o">.</span><span class="n">k_diff</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="c1"># raises - pre-sample + dynamic</span>
    <span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">_get_predict_start</span><span class="p">,</span> <span class="o">*</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="kc">True</span><span class="p">))</span>
    <span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">_get_predict_start</span><span class="p">,</span> <span class="o">*</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="kc">True</span><span class="p">))</span>
    <span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">_get_predict_start</span><span class="p">,</span> <span class="o">*</span><span class="p">(</span><span class="s1">&#39;1959Q1&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">))</span>
    <span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">_get_predict_start</span><span class="p">,</span> <span class="o">*</span><span class="p">(</span><span class="s1">&#39;1960Q1&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">))</span>

    <span class="c1"># raises - index differenced away</span>
    <span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">_get_predict_start</span><span class="p">,</span> <span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="kc">False</span><span class="p">))</span>
    <span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">_get_predict_start</span><span class="p">,</span> <span class="o">*</span><span class="p">(</span><span class="s1">&#39;1959Q2&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">))</span>

    <span class="n">start_test_cases</span> <span class="o">=</span> <span class="p">[(</span><span class="kc">None</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
                  <span class="c1"># all start get moved back by k_diff</span>
                  <span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
                  <span class="c1"># what about end of sample start - last value is first</span>
                  <span class="c1"># forecast</span>
                  <span class="p">(</span><span class="mi">203</span><span class="p">,</span> <span class="mi">201</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
                  <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
                  <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
                  <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
                  <span class="p">(</span><span class="s1">&#39;1960Q3&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
                  <span class="c1"># what about end of sample start - last value is first</span>
                  <span class="c1"># forecast</span>
                  <span class="p">(</span><span class="s1">&#39;2009Q4&#39;</span><span class="p">,</span> <span class="mi">201</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
                  <span class="p">(</span><span class="s1">&#39;2009Q4&#39;</span><span class="p">,</span> <span class="mi">201</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
                  <span class="p">(</span><span class="s1">&#39;1959Q3&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
                  <span class="p">(</span><span class="s1">&#39;1960Q1&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
                  <span class="p">(</span><span class="s1">&#39;1960Q2&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span>
                  <span class="p">]</span>

    <span class="k">for</span> <span class="n">case</span> <span class="ow">in</span> <span class="n">start_test_cases</span><span class="p">:</span>
        <span class="n">_check_start</span><span class="p">(</span><span class="o">*</span><span class="p">((</span><span class="n">model</span><span class="p">,)</span><span class="o">+</span><span class="n">case</span><span class="p">))</span>

    <span class="n">end_test_cases</span> <span class="o">=</span> <span class="p">[(</span><span class="kc">None</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                      <span class="p">(</span><span class="mi">201</span><span class="p">,</span> <span class="mi">199</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                      <span class="p">(</span><span class="mi">202</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                      <span class="p">(</span><span class="mi">203</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                      <span class="p">(</span><span class="mi">204</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
                      <span class="p">(</span><span class="mi">51</span><span class="p">,</span> <span class="mi">49</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                      <span class="p">(</span><span class="mi">164</span><span class="o">+</span><span class="mi">63</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">25</span><span class="p">),</span>

                      <span class="p">(</span><span class="s1">&#39;2009Q2&#39;</span><span class="p">,</span> <span class="mi">199</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;2009Q3&#39;</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;2009Q4&#39;</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;2010Q1&#39;</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;1971Q4&#39;</span><span class="p">,</span> <span class="mi">49</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                      <span class="p">(</span><span class="s1">&#39;2015Q4&#39;</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">25</span><span class="p">),</span>
                      <span class="p">]</span>

    <span class="k">for</span> <span class="n">case</span> <span class="ow">in</span> <span class="n">end_test_cases</span><span class="p">:</span>
        <span class="n">_check_end</span><span class="p">(</span><span class="o">*</span><span class="p">((</span><span class="n">model</span><span class="p">,)</span><span class="o">+</span><span class="n">case</span><span class="p">))</span></div>


<div class="viewcode-block" id="test_arima_predict_indices_css"><a class="viewcode-back" href="../../../../generated/statsmodels.tsa.tests.test_arima.test_arima_predict_indices_css.html#statsmodels.tsa.tests.test_arima.test_arima_predict_indices_css">[docs]</a><span class="k">def</span> <span class="nf">test_arima_predict_indices_css</span><span class="p">():</span>
    <span class="n">cpi</span> <span class="o">=</span> <span class="n">load_macrodata</span><span class="p">()</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;cpi&#39;</span><span class="p">]</span>
    <span class="c1">#NOTE: Doing no-constant for now to kick the conditional exogenous</span>
    <span class="c1">#issue 274 down the road</span>
    <span class="c1"># go ahead and git the model to set up necessary variables</span>
    <span class="n">model</span> <span class="o">=</span> <span class="n">ARIMA</span><span class="p">(</span><span class="n">cpi</span><span class="p">,</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
    <span class="n">model</span><span class="o">.</span><span class="n">method</span> <span class="o">=</span> <span class="s1">&#39;css&#39;</span>

    <span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">_get_predict_start</span><span class="p">,</span> <span class="o">*</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="kc">False</span><span class="p">))</span>
    <span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">_get_predict_start</span><span class="p">,</span> <span class="o">*</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="kc">True</span><span class="p">))</span>
    <span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">_get_predict_start</span><span class="p">,</span> <span class="o">*</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="kc">False</span><span class="p">))</span>
    <span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">_get_predict_start</span><span class="p">,</span> <span class="o">*</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="kc">True</span><span class="p">))</span></div>


<div class="viewcode-block" id="test_arima_predict_css"><a class="viewcode-back" href="../../../../generated/statsmodels.tsa.tests.test_arima.test_arima_predict_css.html#statsmodels.tsa.tests.test_arima.test_arima_predict_css">[docs]</a><span class="k">def</span> <span class="nf">test_arima_predict_css</span><span class="p">():</span>
    <span class="n">cpi</span> <span class="o">=</span> <span class="n">load_macrodata</span><span class="p">()</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;cpi&#39;</span><span class="p">]</span>
    <span class="c1">#NOTE: Doing no-constant for now to kick the conditional exogenous</span>
    <span class="c1">#issue 274 down the road</span>
    <span class="c1"># go ahead and git the model to set up necessary variables</span>
    <span class="n">res1</span> <span class="o">=</span> <span class="n">ARIMA</span><span class="p">(</span><span class="n">cpi</span><span class="p">,</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">disp</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;css&quot;</span><span class="p">,</span>
                            <span class="n">trend</span><span class="o">=</span><span class="s2">&quot;nc&quot;</span><span class="p">)</span>
    <span class="c1"># but use gretl parameters to predict to avoid precision problems</span>
    <span class="n">params</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span> <span class="mf">1.231272508473910</span><span class="p">,</span>
                       <span class="o">-</span><span class="mf">0.282516097759915</span><span class="p">,</span>
                       <span class="mf">0.170052755782440</span><span class="p">,</span>
                      <span class="o">-</span><span class="mf">0.118203728504945</span><span class="p">,</span>
                      <span class="o">-</span><span class="mf">0.938783134717947</span><span class="p">])</span>

    <span class="n">arima_forecasts</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">genfromtxt</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span>
        <span class="n">current_path</span> <span class="o">+</span> <span class="s1">&#39;/results/results_arima_forecasts_all_css.csv&#39;</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">),</span>
                    <span class="n">delimiter</span><span class="o">=</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="n">skip_header</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span>
    <span class="n">fc</span> <span class="o">=</span> <span class="n">arima_forecasts</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">fcdyn</span> <span class="o">=</span> <span class="n">arima_forecasts</span><span class="p">[:,</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">fcdyn2</span> <span class="o">=</span> <span class="n">arima_forecasts</span><span class="p">[:,</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">fcdyn3</span> <span class="o">=</span> <span class="n">arima_forecasts</span><span class="p">[:,</span><span class="mi">3</span><span class="p">]</span>
    <span class="n">fcdyn4</span> <span class="o">=</span> <span class="n">arima_forecasts</span><span class="p">[:,</span><span class="mi">4</span><span class="p">]</span>

    <span class="c1">#NOTE: should raise</span>
    <span class="c1">#start, end = 1,3</span>
    <span class="c1">#fv = res1.model.predict(params, start, end)</span>
    <span class="c1">## start &lt; p, end 0 1959q3 - 1960q1</span>
    <span class="c1">#start, end = 2, 4</span>
    <span class="c1">#fv = res1.model.predict(params, start, end)</span>
    <span class="c1">## start &lt; p, end &gt;0 1959q3 - 1971q4</span>
    <span class="c1">#start, end = 2, 51</span>
    <span class="c1">#fv = res1.model.predict(params, start, end)</span>
    <span class="c1">## start &lt; p, end nobs 1959q3 - 2009q3</span>
    <span class="c1">#start, end = 2, 202</span>
    <span class="c1">#fv = res1.model.predict(params, start, end)</span>
    <span class="c1">## start &lt; p, end &gt;nobs 1959q3 - 2015q4</span>
    <span class="c1">#start, end = 2, 227</span>
    <span class="c1">#fv = res1.model.predict(params, start, end)</span>
    <span class="c1"># start 0, end &gt;0 1960q1 - 1971q4</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">51</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="s1">&#39;levels&#39;</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fc</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start 0, end nobs 1960q1 - 2009q3</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">202</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="s1">&#39;levels&#39;</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fc</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start 0, end &gt;nobs 1960q1 - 2015q4</span>
    <span class="c1">#TODO: why detoriating precision?</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="s1">&#39;levels&#39;</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fc</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start &gt;p, end &gt;0 1965q1 - 1971q4</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">51</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="s1">&#39;levels&#39;</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fc</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start &gt;p, end nobs 1965q1 - 2009q3</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">202</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="s1">&#39;levels&#39;</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fc</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start &gt;p, end &gt;nobs 1965q1 - 2015q4</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">227</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="s1">&#39;levels&#39;</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fc</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start nobs, end nobs 2009q3 - 2009q3</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">202</span><span class="p">,</span> <span class="mi">202</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="s1">&#39;levels&#39;</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fc</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start nobs, end &gt;nobs 2009q3 - 2015q4</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">202</span><span class="p">,</span> <span class="mi">227</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="s1">&#39;levels&#39;</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fc</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start &gt;nobs, end &gt;nobs 2009q4 - 2015q4</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">203</span><span class="p">,</span> <span class="mi">227</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="s1">&#39;levels&#39;</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fc</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># defaults</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="s1">&#39;levels&#39;</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fc</span><span class="p">[</span><span class="mi">5</span><span class="p">:</span><span class="mi">203</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>

    <span class="c1">#### Dynamic #####</span>

    <span class="c1">#NOTE: should raise</span>
    <span class="c1"># start &lt; p, end &lt;p 1959q2 - 1959q4</span>
    <span class="c1">#start, end = 1,3</span>
    <span class="c1">#fv = res1.predict(start, end, dynamic=True)</span>
    <span class="c1"># start &lt; p, end 0 1959q3 - 1960q1</span>
    <span class="c1">#start, end = 2, 4</span>
    <span class="c1">#fv = res1.predict(start, end, dynamic=True)</span>
    <span class="c1">## start &lt; p, end &gt;0 1959q3 - 1971q4</span>
    <span class="c1">#start, end = 2, 51</span>
    <span class="c1">#fv = res1.predict(start, end, dynamic=True)</span>
    <span class="c1">## start &lt; p, end nobs 1959q3 - 2009q3</span>
    <span class="c1">#start, end = 2, 202</span>
    <span class="c1">#fv = res1.predict(start, end, dynamic=True)</span>
    <span class="c1">## start &lt; p, end &gt;nobs 1959q3 - 2015q4</span>
    <span class="c1">#start, end = 2, 227</span>
    <span class="c1">#fv = res1.predict(start, end, dynamic=True)</span>
    <span class="c1"># start 0, end &gt;0 1960q1 - 1971q4</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">51</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">dynamic</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="s1">&#39;levels&#39;</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fcdyn</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start 0, end nobs 1960q1 - 2009q3</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">202</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">dynamic</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="s1">&#39;levels&#39;</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fcdyn</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start 0, end &gt;nobs 1960q1 - 2015q4</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">227</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">dynamic</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="s1">&#39;levels&#39;</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fcdyn</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start &gt;p, end &gt;0 1965q1 - 1971q4</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">51</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">dynamic</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="s1">&#39;levels&#39;</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fcdyn2</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start &gt;p, end nobs 1965q1 - 2009q3</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">202</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">dynamic</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="s1">&#39;levels&#39;</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fcdyn2</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start &gt;p, end &gt;nobs 1965q1 - 2015q4</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">227</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">dynamic</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="s1">&#39;levels&#39;</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fcdyn2</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start nobs, end nobs 2009q3 - 2009q3</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">202</span><span class="p">,</span> <span class="mi">202</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">dynamic</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="s1">&#39;levels&#39;</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fcdyn3</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start nobs, end &gt;nobs 2009q3 - 2015q4</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">202</span><span class="p">,</span> <span class="mi">227</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">dynamic</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="s1">&#39;levels&#39;</span><span class="p">)</span>
    <span class="c1"># start &gt;nobs, end &gt;nobs 2009q4 - 2015q4</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">203</span><span class="p">,</span> <span class="mi">227</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">dynamic</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="s1">&#39;levels&#39;</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fcdyn4</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># defaults</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">dynamic</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="s1">&#39;levels&#39;</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fcdyn</span><span class="p">[</span><span class="mi">5</span><span class="p">:</span><span class="mi">203</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span></div>


<div class="viewcode-block" id="test_arima_predict_css_diffs"><a class="viewcode-back" href="../../../../generated/statsmodels.tsa.tests.test_arima.test_arima_predict_css_diffs.html#statsmodels.tsa.tests.test_arima.test_arima_predict_css_diffs">[docs]</a><span class="k">def</span> <span class="nf">test_arima_predict_css_diffs</span><span class="p">():</span>

    <span class="n">cpi</span> <span class="o">=</span> <span class="n">load_macrodata</span><span class="p">()</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;cpi&#39;</span><span class="p">]</span>
    <span class="c1">#NOTE: Doing no-constant for now to kick the conditional exogenous</span>
    <span class="c1">#issue 274 down the road</span>
    <span class="c1"># go ahead and git the model to set up necessary variables</span>
    <span class="n">res1</span> <span class="o">=</span> <span class="n">ARIMA</span><span class="p">(</span><span class="n">cpi</span><span class="p">,</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">disp</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;css&quot;</span><span class="p">,</span>
                            <span class="n">trend</span><span class="o">=</span><span class="s2">&quot;c&quot;</span><span class="p">)</span>
    <span class="c1"># but use gretl parameters to predict to avoid precision problems</span>
    <span class="n">params</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.78349893861244</span><span class="p">,</span>
                      <span class="o">-</span><span class="mf">0.533444105973324</span><span class="p">,</span>
                       <span class="mf">0.321103691668809</span><span class="p">,</span>
                       <span class="mf">0.264012463189186</span><span class="p">,</span>
                       <span class="mf">0.107888256920655</span><span class="p">,</span>
                       <span class="mf">0.920132542916995</span><span class="p">])</span>
    <span class="c1"># we report mean, should we report constant?</span>
    <span class="n">params</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">params</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">params</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">5</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>


    <span class="n">arima_forecasts</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">genfromtxt</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span>
        <span class="n">current_path</span> <span class="o">+</span> <span class="s1">&#39;/results/results_arima_forecasts_all_css_diff.csv&#39;</span><span class="p">,</span>
                        <span class="s2">&quot;rb&quot;</span><span class="p">),</span>
                    <span class="n">delimiter</span><span class="o">=</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="n">skip_header</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span>
    <span class="n">fc</span> <span class="o">=</span> <span class="n">arima_forecasts</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">fcdyn</span> <span class="o">=</span> <span class="n">arima_forecasts</span><span class="p">[:,</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">fcdyn2</span> <span class="o">=</span> <span class="n">arima_forecasts</span><span class="p">[:,</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">fcdyn3</span> <span class="o">=</span> <span class="n">arima_forecasts</span><span class="p">[:,</span><span class="mi">3</span><span class="p">]</span>
    <span class="n">fcdyn4</span> <span class="o">=</span> <span class="n">arima_forecasts</span><span class="p">[:,</span><span class="mi">4</span><span class="p">]</span>

    <span class="c1">#NOTE: should raise</span>
    <span class="c1">#start, end = 1,3</span>
    <span class="c1">#fv = res1.model.predict(params, start, end)</span>
    <span class="c1">## start &lt; p, end 0 1959q3 - 1960q1</span>
    <span class="c1">#start, end = 2, 4</span>
    <span class="c1">#fv = res1.model.predict(params, start, end)</span>
    <span class="c1">## start &lt; p, end &gt;0 1959q3 - 1971q4</span>
    <span class="c1">#start, end = 2, 51</span>
    <span class="c1">#fv = res1.model.predict(params, start, end)</span>
    <span class="c1">## start &lt; p, end nobs 1959q3 - 2009q3</span>
    <span class="c1">#start, end = 2, 202</span>
    <span class="c1">#fv = res1.model.predict(params, start, end)</span>
    <span class="c1">## start &lt; p, end &gt;nobs 1959q3 - 2015q4</span>
    <span class="c1">#start, end = 2, 227</span>
    <span class="c1">#fv = res1.model.predict(params, start, end)</span>
    <span class="c1"># start 0, end &gt;0 1960q1 - 1971q4</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">51</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fc</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start 0, end nobs 1960q1 - 2009q3</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">202</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fc</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start 0, end &gt;nobs 1960q1 - 2015q4</span>
    <span class="c1">#TODO: why detoriating precision?</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fc</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start &gt;p, end &gt;0 1965q1 - 1971q4</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">51</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fc</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start &gt;p, end nobs 1965q1 - 2009q3</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">202</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fc</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start &gt;p, end &gt;nobs 1965q1 - 2015q4</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">227</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fc</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start nobs, end nobs 2009q3 - 2009q3</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">202</span><span class="p">,</span> <span class="mi">202</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fc</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start nobs, end &gt;nobs 2009q3 - 2015q4</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">202</span><span class="p">,</span> <span class="mi">227</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fc</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start &gt;nobs, end &gt;nobs 2009q4 - 2015q4</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">203</span><span class="p">,</span> <span class="mi">227</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fc</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># defaults</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fc</span><span class="p">[</span><span class="mi">5</span><span class="p">:</span><span class="mi">203</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>

    <span class="c1">#### Dynamic #####</span>

    <span class="c1">#NOTE: should raise</span>
    <span class="c1"># start &lt; p, end &lt;p 1959q2 - 1959q4</span>
    <span class="c1">#start, end = 1,3</span>
    <span class="c1">#fv = res1.predict(start, end, dynamic=True)</span>
    <span class="c1"># start &lt; p, end 0 1959q3 - 1960q1</span>
    <span class="c1">#start, end = 2, 4</span>
    <span class="c1">#fv = res1.predict(start, end, dynamic=True)</span>
    <span class="c1">## start &lt; p, end &gt;0 1959q3 - 1971q4</span>
    <span class="c1">#start, end = 2, 51</span>
    <span class="c1">#fv = res1.predict(start, end, dynamic=True)</span>
    <span class="c1">## start &lt; p, end nobs 1959q3 - 2009q3</span>
    <span class="c1">#start, end = 2, 202</span>
    <span class="c1">#fv = res1.predict(start, end, dynamic=True)</span>
    <span class="c1">## start &lt; p, end &gt;nobs 1959q3 - 2015q4</span>
    <span class="c1">#start, end = 2, 227</span>
    <span class="c1">#fv = res1.predict(start, end, dynamic=True)</span>
    <span class="c1"># start 0, end &gt;0 1960q1 - 1971q4</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">51</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">dynamic</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fcdyn</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start 0, end nobs 1960q1 - 2009q3</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">202</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">dynamic</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fcdyn</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start 0, end &gt;nobs 1960q1 - 2015q4</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">227</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">dynamic</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fcdyn</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start &gt;p, end &gt;0 1965q1 - 1971q4</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">51</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">dynamic</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fcdyn2</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start &gt;p, end nobs 1965q1 - 2009q3</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">202</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">dynamic</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fcdyn2</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start &gt;p, end &gt;nobs 1965q1 - 2015q4</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">227</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">dynamic</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fcdyn2</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start nobs, end nobs 2009q3 - 2009q3</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">202</span><span class="p">,</span> <span class="mi">202</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">dynamic</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fcdyn3</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start nobs, end &gt;nobs 2009q3 - 2015q4</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">202</span><span class="p">,</span> <span class="mi">227</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">dynamic</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="c1"># start &gt;nobs, end &gt;nobs 2009q4 - 2015q4</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">203</span><span class="p">,</span> <span class="mi">227</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">dynamic</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fcdyn4</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># defaults</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">dynamic</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fcdyn</span><span class="p">[</span><span class="mi">5</span><span class="p">:</span><span class="mi">203</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span></div>


<div class="viewcode-block" id="test_arima_predict_mle_diffs"><a class="viewcode-back" href="../../../../generated/statsmodels.tsa.tests.test_arima.test_arima_predict_mle_diffs.html#statsmodels.tsa.tests.test_arima.test_arima_predict_mle_diffs">[docs]</a><span class="k">def</span> <span class="nf">test_arima_predict_mle_diffs</span><span class="p">():</span>

    <span class="n">cpi</span> <span class="o">=</span> <span class="n">load_macrodata</span><span class="p">()</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;cpi&#39;</span><span class="p">]</span>
    <span class="c1">#NOTE: Doing no-constant for now to kick the conditional exogenous</span>
    <span class="c1">#issue 274 down the road</span>
    <span class="c1"># go ahead and git the model to set up necessary variables</span>
    <span class="n">res1</span> <span class="o">=</span> <span class="n">ARIMA</span><span class="p">(</span><span class="n">cpi</span><span class="p">,</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">disp</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">trend</span><span class="o">=</span><span class="s2">&quot;c&quot;</span><span class="p">)</span>
    <span class="c1"># but use gretl parameters to predict to avoid precision problems</span>
    <span class="n">params</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.926875951549299</span><span class="p">,</span>
        <span class="o">-</span><span class="mf">0.555862621524846</span><span class="p">,</span>
        <span class="mf">0.320865492764400</span><span class="p">,</span>
        <span class="mf">0.252253019082800</span><span class="p">,</span>
        <span class="mf">0.113624958031799</span><span class="p">,</span>
        <span class="mf">0.939144026934634</span><span class="p">])</span>

    <span class="n">arima_forecasts</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">genfromtxt</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span>
        <span class="n">current_path</span> <span class="o">+</span> <span class="s1">&#39;/results/results_arima_forecasts_all_mle_diff.csv&#39;</span><span class="p">,</span>
                        <span class="s2">&quot;rb&quot;</span><span class="p">),</span>
                    <span class="n">delimiter</span><span class="o">=</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="n">skip_header</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span>
    <span class="n">fc</span> <span class="o">=</span> <span class="n">arima_forecasts</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">fcdyn</span> <span class="o">=</span> <span class="n">arima_forecasts</span><span class="p">[:,</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">fcdyn2</span> <span class="o">=</span> <span class="n">arima_forecasts</span><span class="p">[:,</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">fcdyn3</span> <span class="o">=</span> <span class="n">arima_forecasts</span><span class="p">[:,</span><span class="mi">3</span><span class="p">]</span>
    <span class="n">fcdyn4</span> <span class="o">=</span> <span class="n">arima_forecasts</span><span class="p">[:,</span><span class="mi">4</span><span class="p">]</span>

    <span class="c1">#NOTE: should raise</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span><span class="mi">3</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span>
    <span class="c1">## start &lt; p, end 0 1959q3 - 1960q1</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span>
    <span class="c1">## start &lt; p, end &gt;0 1959q3 - 1971q4</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">51</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span>
    <span class="c1">## start &lt; p, end nobs 1959q3 - 2009q3</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">202</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span>
    <span class="c1">## start &lt; p, end &gt;nobs 1959q3 - 2015q4</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">227</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span>
    <span class="c1"># start 0, end &gt;0 1960q1 - 1971q4</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">51</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fc</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start 0, end nobs 1960q1 - 2009q3</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">202</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fc</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start 0, end &gt;nobs 1960q1 - 2015q4</span>
    <span class="c1">#TODO: why detoriating precision?</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fc</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start &gt;p, end &gt;0 1965q1 - 1971q4</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">51</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fc</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start &gt;p, end nobs 1965q1 - 2009q3</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">202</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fc</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start &gt;p, end &gt;nobs 1965q1 - 2015q4</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">227</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fc</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start nobs, end nobs 2009q3 - 2009q3</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">202</span><span class="p">,</span> <span class="mi">202</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fc</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start nobs, end &gt;nobs 2009q3 - 2015q4</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">202</span><span class="p">,</span> <span class="mi">227</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fc</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start &gt;nobs, end &gt;nobs 2009q4 - 2015q4</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">203</span><span class="p">,</span> <span class="mi">227</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fc</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># defaults</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fc</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">203</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>

    <span class="c1">#### Dynamic #####</span>

    <span class="c1">#NOTE: should raise</span>
    <span class="c1"># start &lt; p, end &lt;p 1959q2 - 1959q4</span>
    <span class="c1">#start, end = 1,3</span>
    <span class="c1">#fv = res1.predict(start, end, dynamic=True)</span>
    <span class="c1"># start &lt; p, end 0 1959q3 - 1960q1</span>
    <span class="c1">#start, end = 2, 4</span>
    <span class="c1">#fv = res1.predict(start, end, dynamic=True)</span>
    <span class="c1">## start &lt; p, end &gt;0 1959q3 - 1971q4</span>
    <span class="c1">#start, end = 2, 51</span>
    <span class="c1">#fv = res1.predict(start, end, dynamic=True)</span>
    <span class="c1">## start &lt; p, end nobs 1959q3 - 2009q3</span>
    <span class="c1">#start, end = 2, 202</span>
    <span class="c1">#fv = res1.predict(start, end, dynamic=True)</span>
    <span class="c1">## start &lt; p, end &gt;nobs 1959q3 - 2015q4</span>
    <span class="c1">#start, end = 2, 227</span>
    <span class="c1">#fv = res1.predict(start, end, dynamic=True)</span>
    <span class="c1"># start 0, end &gt;0 1960q1 - 1971q4</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">51</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">dynamic</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fcdyn</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start 0, end nobs 1960q1 - 2009q3</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">202</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">dynamic</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fcdyn</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start 0, end &gt;nobs 1960q1 - 2015q4</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">227</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">dynamic</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fcdyn</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start &gt;p, end &gt;0 1965q1 - 1971q4</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">51</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">dynamic</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fcdyn2</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start &gt;p, end nobs 1965q1 - 2009q3</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">202</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">dynamic</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fcdyn2</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start &gt;p, end &gt;nobs 1965q1 - 2015q4</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">227</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">dynamic</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fcdyn2</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start nobs, end nobs 2009q3 - 2009q3</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">202</span><span class="p">,</span> <span class="mi">202</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">dynamic</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fcdyn3</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># start nobs, end &gt;nobs 2009q3 - 2015q4</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">202</span><span class="p">,</span> <span class="mi">227</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">dynamic</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="c1"># start &gt;nobs, end &gt;nobs 2009q4 - 2015q4</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">203</span><span class="p">,</span> <span class="mi">227</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">dynamic</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fcdyn4</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span>
    <span class="c1"># defaults</span>
    <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>
    <span class="n">fv</span> <span class="o">=</span> <span class="n">res1</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">dynamic</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fv</span><span class="p">,</span> <span class="n">fcdyn</span><span class="p">[</span><span class="mi">5</span><span class="p">:</span><span class="mi">203</span><span class="p">],</span> <span class="n">DECIMAL_4</span><span class="p">)</span></div>


<div class="viewcode-block" id="test_arima_wrapper"><a class="viewcode-back" href="../../../../generated/statsmodels.tsa.tests.test_arima.test_arima_wrapper.html#statsmodels.tsa.tests.test_arima.test_arima_wrapper">[docs]</a><span class="k">def</span> <span class="nf">test_arima_wrapper</span><span class="p">():</span>

    <span class="n">cpi</span> <span class="o">=</span> <span class="n">load_macrodata_pandas</span><span class="p">()</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;cpi&#39;</span><span class="p">]</span>
    <span class="n">cpi</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">pandas</span><span class="o">.</span><span class="n">Index</span><span class="p">(</span><span class="n">cpi_dates</span><span class="p">)</span>
    <span class="n">res</span> <span class="o">=</span> <span class="n">ARIMA</span><span class="p">(</span><span class="n">cpi</span><span class="p">,</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;Q&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">disp</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">assert_equal</span><span class="p">(</span><span class="n">res</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">pandas</span><span class="o">.</span><span class="n">Index</span><span class="p">([</span><span class="s1">&#39;const&#39;</span><span class="p">,</span> <span class="s1">&#39;ar.L1.D.cpi&#39;</span><span class="p">,</span> <span class="s1">&#39;ar.L2.D.cpi&#39;</span><span class="p">,</span>
                                    <span class="s1">&#39;ar.L3.D.cpi&#39;</span><span class="p">,</span> <span class="s1">&#39;ar.L4.D.cpi&#39;</span><span class="p">,</span>
                                    <span class="s1">&#39;ma.L1.D.cpi&#39;</span><span class="p">]))</span>
    <span class="n">assert_equal</span><span class="p">(</span><span class="n">res</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">endog_names</span><span class="p">,</span> <span class="s1">&#39;D.cpi&#39;</span><span class="p">)</span></div>


<div class="viewcode-block" id="test_1dexog"><a class="viewcode-back" href="../../../../generated/statsmodels.tsa.tests.test_arima.test_1dexog.html#statsmodels.tsa.tests.test_arima.test_1dexog">[docs]</a><span class="k">def</span> <span class="nf">test_1dexog</span><span class="p">():</span>
    <span class="c1"># smoke test, this will raise an error if broken</span>
    <span class="n">dta</span> <span class="o">=</span> <span class="n">load_macrodata_pandas</span><span class="p">()</span><span class="o">.</span><span class="n">data</span>
    <span class="n">endog</span> <span class="o">=</span> <span class="n">dta</span><span class="p">[</span><span class="s1">&#39;realcons&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
    <span class="n">exog</span> <span class="o">=</span> <span class="n">dta</span><span class="p">[</span><span class="s1">&#39;m1&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">squeeze</span><span class="p">()</span>
    <span class="n">mod</span> <span class="o">=</span> <span class="n">ARMA</span><span class="p">(</span><span class="n">endog</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">exog</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">disp</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span></div>


<div class="viewcode-block" id="test_arima_predict_bug"><a class="viewcode-back" href="../../../../generated/statsmodels.tsa.tests.test_arima.test_arima_predict_bug.html#statsmodels.tsa.tests.test_arima.test_arima_predict_bug">[docs]</a><span class="k">def</span> <span class="nf">test_arima_predict_bug</span><span class="p">():</span>
    <span class="c1">#predict_start_date wasn&#39;t getting set on start = None</span>
    <span class="kn">from</span> <span class="nn">statsmodels.datasets</span> <span class="k">import</span> <span class="n">sunspots</span>
    <span class="n">dta</span> <span class="o">=</span> <span class="n">sunspots</span><span class="o">.</span><span class="n">load_pandas</span><span class="p">()</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">SUNACTIVITY</span>
    <span class="n">dta</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">pandas</span><span class="o">.</span><span class="n">Index</span><span class="p">(</span><span class="n">dates_from_range</span><span class="p">(</span><span class="s1">&#39;1700&#39;</span><span class="p">,</span> <span class="s1">&#39;2008&#39;</span><span class="p">))</span>
    <span class="n">arma_mod20</span> <span class="o">=</span> <span class="n">ARMA</span><span class="p">(</span><span class="n">dta</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">disp</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">arma_mod20</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span></div>


<div class="viewcode-block" id="test_arima_predict_q2"><a class="viewcode-back" href="../../../../generated/statsmodels.tsa.tests.test_arima.test_arima_predict_q2.html#statsmodels.tsa.tests.test_arima.test_arima_predict_q2">[docs]</a><span class="k">def</span> <span class="nf">test_arima_predict_q2</span><span class="p">():</span>
    <span class="c1"># bug with q &gt; 1 for arima predict</span>
    <span class="n">inv</span> <span class="o">=</span> <span class="n">load_macrodata</span><span class="p">()</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;realinv&#39;</span><span class="p">]</span>
    <span class="n">arima_mod</span> <span class="o">=</span> <span class="n">ARIMA</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">inv</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">start_params</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">disp</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">fc</span><span class="p">,</span> <span class="n">stderr</span><span class="p">,</span> <span class="n">conf_int</span> <span class="o">=</span> <span class="n">arima_mod</span><span class="o">.</span><span class="n">forecast</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
    <span class="c1"># values copy-pasted from gretl</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fc</span><span class="p">,</span>
                        <span class="p">[</span><span class="mf">7.306320</span><span class="p">,</span> <span class="mf">7.313825</span><span class="p">,</span> <span class="mf">7.321749</span><span class="p">,</span> <span class="mf">7.329827</span><span class="p">,</span> <span class="mf">7.337962</span><span class="p">],</span>
                        <span class="mi">5</span><span class="p">)</span></div>


<div class="viewcode-block" id="test_arima_predict_pandas_nofreq"><a class="viewcode-back" href="../../../../generated/statsmodels.tsa.tests.test_arima.test_arima_predict_pandas_nofreq.html#statsmodels.tsa.tests.test_arima.test_arima_predict_pandas_nofreq">[docs]</a><span class="k">def</span> <span class="nf">test_arima_predict_pandas_nofreq</span><span class="p">():</span>
    <span class="c1"># this is issue 712</span>
    <span class="kn">from</span> <span class="nn">pandas</span> <span class="k">import</span> <span class="n">DataFrame</span>
    <span class="n">dates</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;2010-01-04&quot;</span><span class="p">,</span> <span class="s2">&quot;2010-01-05&quot;</span><span class="p">,</span> <span class="s2">&quot;2010-01-06&quot;</span><span class="p">,</span> <span class="s2">&quot;2010-01-07&quot;</span><span class="p">,</span>
             <span class="s2">&quot;2010-01-08&quot;</span><span class="p">,</span> <span class="s2">&quot;2010-01-11&quot;</span><span class="p">,</span> <span class="s2">&quot;2010-01-12&quot;</span><span class="p">,</span> <span class="s2">&quot;2010-01-11&quot;</span><span class="p">,</span>
             <span class="s2">&quot;2010-01-12&quot;</span><span class="p">,</span> <span class="s2">&quot;2010-01-13&quot;</span><span class="p">,</span> <span class="s2">&quot;2010-01-17&quot;</span><span class="p">]</span>
    <span class="n">close</span> <span class="o">=</span> <span class="p">[</span><span class="mf">626.75</span><span class="p">,</span> <span class="mf">623.99</span><span class="p">,</span> <span class="mf">608.26</span><span class="p">,</span> <span class="mf">594.1</span><span class="p">,</span> <span class="mf">602.02</span><span class="p">,</span> <span class="mf">601.11</span><span class="p">,</span> <span class="mf">590.48</span><span class="p">,</span> <span class="mf">587.09</span><span class="p">,</span>
             <span class="mf">589.85</span><span class="p">,</span> <span class="mf">580.0</span><span class="p">,</span><span class="mf">587.62</span><span class="p">]</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">close</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">DatetimeIndex</span><span class="p">(</span><span class="n">dates</span><span class="p">),</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;close&quot;</span><span class="p">])</span>

    <span class="c1">#TODO: fix this names bug for non-string names names</span>
    <span class="n">arma</span> <span class="o">=</span> <span class="n">ARMA</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">disp</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>

    <span class="c1"># first check that in-sample prediction works</span>
    <span class="n">predict</span> <span class="o">=</span> <span class="n">arma</span><span class="o">.</span><span class="n">predict</span><span class="p">()</span>
    <span class="n">assert_</span><span class="p">(</span><span class="n">predict</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="p">))</span>

    <span class="c1"># check that this raises an exception when date not on index</span>
    <span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">arma</span><span class="o">.</span><span class="n">predict</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="s2">&quot;2010-1-9&quot;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">arma</span><span class="o">.</span><span class="n">predict</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="s2">&quot;2010-1-9&quot;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot;2010-1-17&quot;</span><span class="p">)</span>

    <span class="c1"># raise because end not on index</span>
    <span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">arma</span><span class="o">.</span><span class="n">predict</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="s2">&quot;2010-1-4&quot;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot;2010-1-10&quot;</span><span class="p">)</span>
    <span class="c1"># raise because end not on index</span>
    <span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">arma</span><span class="o">.</span><span class="n">predict</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot;2010-1-10&quot;</span><span class="p">)</span>

    <span class="n">predict</span> <span class="o">=</span> <span class="n">arma</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="s2">&quot;2010-1-7&quot;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span> <span class="c1"># should be of length 10</span>
    <span class="n">assert_</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">predict</span><span class="p">)</span> <span class="o">==</span> <span class="mi">8</span><span class="p">)</span>
    <span class="n">assert_</span><span class="p">(</span><span class="n">predict</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">3</span><span class="p">:</span><span class="mi">10</span><span class="o">+</span><span class="mi">1</span><span class="p">]))</span>

    <span class="n">predict</span> <span class="o">=</span> <span class="n">arma</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="s2">&quot;2010-1-7&quot;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
    <span class="n">assert_</span><span class="p">(</span><span class="n">predict</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="n">pandas</span><span class="o">.</span><span class="n">Index</span><span class="p">(</span><span class="n">lrange</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">15</span><span class="p">))))</span>

    <span class="n">predict</span> <span class="o">=</span> <span class="n">arma</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
    <span class="n">assert_</span><span class="p">(</span><span class="n">predict</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="n">pandas</span><span class="o">.</span><span class="n">Index</span><span class="p">(</span><span class="n">lrange</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">15</span><span class="p">))))</span>

    <span class="c1"># end can be a date if it&#39;s in the sample and on the index</span>
    <span class="c1"># predict dates is just a slice of the dates index then</span>
    <span class="n">predict</span> <span class="o">=</span> <span class="n">arma</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="s2">&quot;2010-1-6&quot;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot;2010-1-13&quot;</span><span class="p">)</span>
    <span class="n">assert_</span><span class="p">(</span><span class="n">predict</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">10</span><span class="p">]))</span>
    <span class="n">predict</span> <span class="o">=</span> <span class="n">arma</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot;2010-1-13&quot;</span><span class="p">)</span>
    <span class="n">assert_</span><span class="p">(</span><span class="n">predict</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">10</span><span class="p">]))</span></div>


<div class="viewcode-block" id="test_arima_predict_exog"><a class="viewcode-back" href="../../../../generated/statsmodels.tsa.tests.test_arima.test_arima_predict_exog.html#statsmodels.tsa.tests.test_arima.test_arima_predict_exog">[docs]</a><span class="k">def</span> <span class="nf">test_arima_predict_exog</span><span class="p">():</span>
    <span class="c1"># check 625 and 626</span>
    <span class="c1">#from statsmodels.tsa.arima_process import arma_generate_sample</span>
    <span class="c1">#arparams = np.array([1, -.45, .25])</span>
    <span class="c1">#maparams = np.array([1, .15])</span>
    <span class="c1">#nobs = 100</span>
    <span class="c1">#np.random.seed(123)</span>
    <span class="c1">#y = arma_generate_sample(arparams, maparams, nobs, burnin=100)</span>

    <span class="c1">## make an exogenous trend</span>
    <span class="c1">#X = np.array(lrange(nobs)) / 20.0</span>
    <span class="c1">## add a constant</span>
    <span class="c1">#y += 2.5</span>

    <span class="kn">from</span> <span class="nn">pandas</span> <span class="k">import</span> <span class="n">read_csv</span>
    <span class="n">arima_forecasts</span> <span class="o">=</span> <span class="n">read_csv</span><span class="p">(</span><span class="n">current_path</span> <span class="o">+</span> <span class="s2">&quot;/results/&quot;</span>
                            <span class="s2">&quot;results_arima_exog_forecasts_mle.csv&quot;</span><span class="p">)</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">arima_forecasts</span><span class="p">[</span><span class="s2">&quot;y&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
    <span class="n">X</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="o">+</span> <span class="mi">25</span><span class="p">)</span><span class="o">/</span><span class="mf">20.</span>
    <span class="n">predict_expected</span> <span class="o">=</span> <span class="n">arima_forecasts</span><span class="p">[</span><span class="s2">&quot;predict&quot;</span><span class="p">]</span>
    <span class="n">arma_res</span> <span class="o">=</span> <span class="n">ARMA</span><span class="p">(</span><span class="n">y</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">exog</span><span class="o">=</span><span class="n">X</span><span class="p">[:</span><span class="mi">100</span><span class="p">])</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">trend</span><span class="o">=</span><span class="s2">&quot;c&quot;</span><span class="p">,</span>
                                                             <span class="n">disp</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
    <span class="c1"># params from gretl</span>
    <span class="n">params</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">2.786912485145725</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.122650190196475</span><span class="p">,</span>
                       <span class="mf">0.533223846028938</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.319344321763337</span><span class="p">,</span>
                       <span class="mf">0.132883233000064</span><span class="p">])</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">arma_res</span><span class="o">.</span><span class="n">params</span><span class="p">,</span> <span class="n">params</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
    <span class="c1"># no exog for in-sample</span>
    <span class="n">predict</span> <span class="o">=</span> <span class="n">arma_res</span><span class="o">.</span><span class="n">predict</span><span class="p">()</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">predict</span><span class="p">,</span> <span class="n">predict_expected</span><span class="o">.</span><span class="n">values</span><span class="p">[:</span><span class="mi">100</span><span class="p">],</span> <span class="mi">5</span><span class="p">)</span>

    <span class="c1"># check 626</span>
    <span class="n">assert_</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">arma_res</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">exog_names</span><span class="p">)</span> <span class="o">==</span> <span class="mi">5</span><span class="p">)</span>


    <span class="c1"># exog for out-of-sample and in-sample dynamic</span>
    <span class="n">predict</span> <span class="o">=</span> <span class="n">arma_res</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="mi">124</span><span class="p">,</span> <span class="n">exog</span><span class="o">=</span><span class="n">X</span><span class="p">[</span><span class="mi">100</span><span class="p">:])</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">predict</span><span class="p">,</span> <span class="n">predict_expected</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span></div>

    <span class="c1"># conditional sum of squares</span>
    <span class="c1">#arima_forecasts = read_csv(current_path + &quot;/results/&quot;</span>
    <span class="c1">#                        &quot;results_arima_exog_forecasts_css.csv&quot;)</span>
    <span class="c1">#predict_expected = arima_forecasts[&quot;predict&quot;].dropna()</span>
    <span class="c1">#arma_res = ARMA(y.values, order=(2,1), exog=X[:100]).fit(trend=&quot;c&quot;,</span>
    <span class="c1">#                                                         method=&quot;css&quot;,</span>
    <span class="c1">#                                                         disp=-1)</span>

    <span class="c1">#params = np.array([2.152350033809826, -0.103602399018814,</span>
    <span class="c1">#                   0.566716580421188, -0.326208009247944,</span>
    <span class="c1">#                   0.102142932143421])</span>
    <span class="c1">#predict = arma_res.model.predict(params)</span>
    <span class="c1">## in-sample</span>
    <span class="c1">#assert_almost_equal(predict, predict_expected.values[:98], 6)</span>


    <span class="c1">#predict = arma_res.model.predict(params, end=124, exog=X[100:])</span>
    <span class="c1">## exog for out-of-sample and in-sample dynamic</span>
    <span class="c1">#assert_almost_equal(predict, predict_expected.values, 3)</span>


<div class="viewcode-block" id="test_arima_no_diff"><a class="viewcode-back" href="../../../../generated/statsmodels.tsa.tests.test_arima.test_arima_no_diff.html#statsmodels.tsa.tests.test_arima.test_arima_no_diff">[docs]</a><span class="k">def</span> <span class="nf">test_arima_no_diff</span><span class="p">():</span>
    <span class="c1"># issue 736</span>
    <span class="c1"># smoke test, predict will break if we have ARIMAResults but</span>
    <span class="c1"># ARMA model, need ARIMA(p, 0, q) to return an ARMA in init.</span>
    <span class="n">ar</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="o">-.</span><span class="mi">75</span><span class="p">,</span> <span class="o">.</span><span class="mi">15</span><span class="p">,</span> <span class="o">.</span><span class="mi">35</span><span class="p">]</span>
    <span class="n">ma</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="o">.</span><span class="mi">25</span><span class="p">,</span> <span class="o">.</span><span class="mi">9</span><span class="p">]</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">arma_generate_sample</span><span class="p">(</span><span class="n">ar</span><span class="p">,</span> <span class="n">ma</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
    <span class="n">mod</span> <span class="o">=</span> <span class="n">ARIMA</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
    <span class="n">assert_</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">mod</span><span class="p">)</span> <span class="ow">is</span> <span class="n">ARMA</span><span class="p">)</span>
    <span class="n">res</span> <span class="o">=</span> <span class="n">mod</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">disp</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
    <span class="c1"># smoke test just to be sure</span>
    <span class="n">res</span><span class="o">.</span><span class="n">predict</span><span class="p">()</span></div>


<div class="viewcode-block" id="test_arima_predict_noma"><a class="viewcode-back" href="../../../../generated/statsmodels.tsa.tests.test_arima.test_arima_predict_noma.html#statsmodels.tsa.tests.test_arima.test_arima_predict_noma">[docs]</a><span class="k">def</span> <span class="nf">test_arima_predict_noma</span><span class="p">():</span>
    <span class="c1"># issue 657</span>
    <span class="c1"># smoke test</span>
    <span class="n">ar</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="o">.</span><span class="mi">75</span><span class="p">]</span>
    <span class="n">ma</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">arma_generate_sample</span><span class="p">(</span><span class="n">ar</span><span class="p">,</span> <span class="n">ma</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
    <span class="n">arma</span> <span class="o">=</span> <span class="n">ARMA</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
    <span class="n">arma_res</span> <span class="o">=</span> <span class="n">arma</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">disp</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">arma_res</span><span class="o">.</span><span class="n">forecast</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></div>


<div class="viewcode-block" id="test_arimax"><a class="viewcode-back" href="../../../../generated/statsmodels.tsa.tests.test_arima.test_arimax.html#statsmodels.tsa.tests.test_arima.test_arimax">[docs]</a><span class="k">def</span> <span class="nf">test_arimax</span><span class="p">():</span>
    <span class="n">dta</span> <span class="o">=</span> <span class="n">load_macrodata_pandas</span><span class="p">()</span><span class="o">.</span><span class="n">data</span>
    <span class="n">dates</span> <span class="o">=</span> <span class="n">dates_from_range</span><span class="p">(</span><span class="s2">&quot;1959Q1&quot;</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">dta</span><span class="p">))</span>
    <span class="n">dta</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">cpi_dates</span>
    <span class="n">dta</span> <span class="o">=</span> <span class="n">dta</span><span class="p">[[</span><span class="s2">&quot;realdpi&quot;</span><span class="p">,</span> <span class="s2">&quot;m1&quot;</span><span class="p">,</span> <span class="s2">&quot;realgdp&quot;</span><span class="p">]]</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">dta</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;realdpi&quot;</span><span class="p">)</span>

    <span class="c1"># 1 exog</span>
    <span class="c1">#X = dta.ix[1:][&quot;m1&quot;]</span>
    <span class="c1">#res = ARIMA(y, (2, 1, 1), X).fit(disp=-1)</span>
    <span class="c1">#params = [23.902305009084373, 0.024650911502790, -0.162140641341602,</span>
    <span class="c1">#          0.165262136028113, -0.066667022903974]</span>
    <span class="c1">#assert_almost_equal(res.params.values, params, 6)</span>


    <span class="c1"># 2 exog</span>
    <span class="n">X</span> <span class="o">=</span> <span class="n">dta</span>
    <span class="n">res</span> <span class="o">=</span> <span class="n">ARIMA</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">X</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">disp</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">solver</span><span class="o">=</span><span class="s2">&quot;nm&quot;</span><span class="p">,</span> <span class="n">maxiter</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
                <span class="n">ftol</span><span class="o">=</span><span class="mi">1</span><span class="n">e</span><span class="o">-</span><span class="mi">12</span><span class="p">,</span> <span class="n">xtol</span><span class="o">=</span><span class="mi">1</span><span class="n">e</span><span class="o">-</span><span class="mi">12</span><span class="p">)</span>

    <span class="c1"># from gretl</span>
    <span class="c1">#params = [13.113976653926638, -0.003792125069387,  0.004123504809217,</span>
    <span class="c1">#          -0.199213760940898,  0.151563643588008, -0.033088661096699]</span>
    <span class="c1"># from stata using double</span>
    <span class="n">stata_llf</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1076.108614859121</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">[</span><span class="mf">13.1259220104</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.00376814509403812</span><span class="p">,</span> <span class="mf">0.00411970083135622</span><span class="p">,</span>
              <span class="o">-</span><span class="mf">0.19921477896158524</span><span class="p">,</span> <span class="mf">0.15154396192855729</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.03308400760360837</span><span class="p">]</span>
    <span class="c1"># we can get close</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">res</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">params</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>

    <span class="c1"># This shows that it&#39;s an optimizer problem and not a problem in the code</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">res</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">loglike</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">params</span><span class="p">)),</span> <span class="n">stata_llf</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>

    <span class="n">X</span> <span class="o">=</span> <span class="n">dta</span><span class="o">.</span><span class="n">diff</span><span class="p">()</span>
    <span class="n">res</span> <span class="o">=</span> <span class="n">ARIMA</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">X</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">disp</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="c1"># gretl won&#39;t estimate this - looks like maybe a bug on their part,</span>
    <span class="c1"># but we can just fine, we&#39;re close to Stata&#39;s answer</span>
    <span class="c1"># from Stata</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">[</span><span class="mf">19.5656863783347</span><span class="p">,</span> <span class="mf">0.32653841355833396198</span><span class="p">,</span>
              <span class="mf">0.36286527042965188716</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.01133792126884</span><span class="p">,</span>
              <span class="o">-</span><span class="mf">0.15722368379307766206</span><span class="p">,</span> <span class="mf">0.69359822544092153418</span><span class="p">]</span>

    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">res</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">params</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span></div>


<div class="viewcode-block" id="test_bad_start_params"><a class="viewcode-back" href="../../../../generated/statsmodels.tsa.tests.test_arima.test_bad_start_params.html#statsmodels.tsa.tests.test_arima.test_bad_start_params">[docs]</a><span class="k">def</span> <span class="nf">test_bad_start_params</span><span class="p">():</span>
    <span class="n">endog</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">820.69093</span><span class="p">,</span> <span class="mf">781.0103028</span><span class="p">,</span> <span class="mf">785.8786988</span><span class="p">,</span> <span class="mf">767.64282267</span><span class="p">,</span>
         <span class="mf">778.9837648</span> <span class="p">,</span>   <span class="mf">824.6595702</span> <span class="p">,</span>   <span class="mf">813.01877867</span><span class="p">,</span>   <span class="mf">751.65598567</span><span class="p">,</span>
         <span class="mf">753.431091</span>  <span class="p">,</span>   <span class="mf">746.920813</span>  <span class="p">,</span>   <span class="mf">795.6201904</span> <span class="p">,</span>   <span class="mf">772.65732833</span><span class="p">,</span>
         <span class="mf">793.4486454</span> <span class="p">,</span>   <span class="mf">868.8457766</span> <span class="p">,</span>   <span class="mf">823.07226547</span><span class="p">,</span>   <span class="mf">783.09067747</span><span class="p">,</span>
         <span class="mf">791.50723847</span><span class="p">,</span>   <span class="mf">770.93086347</span><span class="p">,</span>   <span class="mf">835.34157333</span><span class="p">,</span>   <span class="mf">810.64147947</span><span class="p">,</span>
         <span class="mf">738.36071367</span><span class="p">,</span>   <span class="mf">776.49038513</span><span class="p">,</span>   <span class="mf">822.93272333</span><span class="p">,</span>   <span class="mf">815.26461227</span><span class="p">,</span>
         <span class="mf">773.70552987</span><span class="p">,</span>   <span class="mf">777.3726522</span> <span class="p">,</span>   <span class="mf">811.83444853</span><span class="p">,</span>   <span class="mf">840.95489133</span><span class="p">,</span>
         <span class="mf">777.51031933</span><span class="p">,</span>   <span class="mf">745.90077307</span><span class="p">,</span>   <span class="mf">806.95113093</span><span class="p">,</span>   <span class="mf">805.77521973</span><span class="p">,</span>
         <span class="mf">756.70927733</span><span class="p">,</span>   <span class="mf">749.89091773</span><span class="p">,</span>  <span class="mf">1694.2266924</span> <span class="p">,</span>  <span class="mf">2398.4802244</span> <span class="p">,</span>
        <span class="mf">1434.6728516</span> <span class="p">,</span>   <span class="mf">909.73940427</span><span class="p">,</span>   <span class="mf">929.01291907</span><span class="p">,</span>   <span class="mf">769.07561453</span><span class="p">,</span>
         <span class="mf">801.1112548</span> <span class="p">,</span>   <span class="mf">796.16163313</span><span class="p">,</span>   <span class="mf">817.2496376</span> <span class="p">,</span>   <span class="mf">857.73046447</span><span class="p">,</span>
         <span class="mf">838.849345</span>  <span class="p">,</span>   <span class="mf">761.92338873</span><span class="p">,</span>   <span class="mf">731.7842242</span> <span class="p">,</span>   <span class="mf">770.4641844</span> <span class="p">])</span>
    <span class="n">mod</span> <span class="o">=</span> <span class="n">ARMA</span><span class="p">(</span><span class="n">endog</span><span class="p">,</span> <span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
    <span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">mod</span><span class="o">.</span><span class="n">fit</span><span class="p">)</span>

    <span class="n">inv</span> <span class="o">=</span> <span class="n">load_macrodata</span><span class="p">()</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;realinv&#39;</span><span class="p">]</span>
    <span class="n">arima_mod</span> <span class="o">=</span> <span class="n">ARIMA</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">inv</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
    <span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">mod</span><span class="o">.</span><span class="n">fit</span><span class="p">)</span></div>


<div class="viewcode-block" id="test_arima_small_data_bug"><a class="viewcode-back" href="../../../../generated/statsmodels.tsa.tests.test_arima.test_arima_small_data_bug.html#statsmodels.tsa.tests.test_arima.test_arima_small_data_bug">[docs]</a><span class="k">def</span> <span class="nf">test_arima_small_data_bug</span><span class="p">():</span>
    <span class="c1"># Issue 1038, too few observations with given order</span>
    <span class="kn">from</span> <span class="nn">datetime</span> <span class="k">import</span> <span class="n">datetime</span>
    <span class="kn">import</span> <span class="nn">statsmodels.api</span> <span class="k">as</span> <span class="nn">sm</span>

    <span class="n">vals</span> <span class="o">=</span> <span class="p">[</span><span class="mf">96.2</span><span class="p">,</span> <span class="mf">98.3</span><span class="p">,</span> <span class="mf">99.1</span><span class="p">,</span> <span class="mf">95.5</span><span class="p">,</span> <span class="mf">94.0</span><span class="p">,</span> <span class="mf">87.1</span><span class="p">,</span> <span class="mf">87.9</span><span class="p">,</span> <span class="mf">86.7402777504474</span><span class="p">]</span>

    <span class="n">dr</span> <span class="o">=</span> <span class="n">dates_from_range</span><span class="p">(</span><span class="s2">&quot;1990q1&quot;</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vals</span><span class="p">))</span>
    <span class="n">ts</span> <span class="o">=</span> <span class="n">pandas</span><span class="o">.</span><span class="n">TimeSeries</span><span class="p">(</span><span class="n">vals</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">dr</span><span class="p">)</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pandas</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">ts</span><span class="p">)</span>
    <span class="n">mod</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">tsa</span><span class="o">.</span><span class="n">ARIMA</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
    <span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">mod</span><span class="o">.</span><span class="n">fit</span><span class="p">)</span></div>


<div class="viewcode-block" id="test_arima_dataframe_integer_name"><a class="viewcode-back" href="../../../../generated/statsmodels.tsa.tests.test_arima.test_arima_dataframe_integer_name.html#statsmodels.tsa.tests.test_arima.test_arima_dataframe_integer_name">[docs]</a><span class="k">def</span> <span class="nf">test_arima_dataframe_integer_name</span><span class="p">():</span>
    <span class="c1"># Smoke Test for Issue 1038</span>
    <span class="kn">from</span> <span class="nn">datetime</span> <span class="k">import</span> <span class="n">datetime</span>
    <span class="kn">import</span> <span class="nn">statsmodels.api</span> <span class="k">as</span> <span class="nn">sm</span>

    <span class="n">vals</span> <span class="o">=</span> <span class="p">[</span><span class="mf">96.2</span><span class="p">,</span> <span class="mf">98.3</span><span class="p">,</span> <span class="mf">99.1</span><span class="p">,</span> <span class="mf">95.5</span><span class="p">,</span> <span class="mf">94.0</span><span class="p">,</span> <span class="mf">87.1</span><span class="p">,</span> <span class="mf">87.9</span><span class="p">,</span> <span class="mf">86.7402777504474</span><span class="p">,</span>
            <span class="mf">94.0</span><span class="p">,</span> <span class="mf">96.5</span><span class="p">,</span> <span class="mf">93.3</span><span class="p">,</span> <span class="mf">97.5</span><span class="p">,</span> <span class="mf">96.3</span><span class="p">,</span> <span class="mf">92.</span><span class="p">]</span>

    <span class="n">dr</span> <span class="o">=</span> <span class="n">dates_from_range</span><span class="p">(</span><span class="s2">&quot;1990q1&quot;</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">vals</span><span class="p">))</span>
    <span class="n">ts</span> <span class="o">=</span> <span class="n">pandas</span><span class="o">.</span><span class="n">TimeSeries</span><span class="p">(</span><span class="n">vals</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">dr</span><span class="p">)</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pandas</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">ts</span><span class="p">)</span>
    <span class="n">mod</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">tsa</span><span class="o">.</span><span class="n">ARIMA</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span></div>


<div class="viewcode-block" id="test_arima_exog_predict_1d"><a class="viewcode-back" href="../../../../generated/statsmodels.tsa.tests.test_arima.test_arima_exog_predict_1d.html#statsmodels.tsa.tests.test_arima.test_arima_exog_predict_1d">[docs]</a><span class="k">def</span> <span class="nf">test_arima_exog_predict_1d</span><span class="p">():</span>
    <span class="c1"># test 1067</span>
    <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">12345</span><span class="p">)</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
    <span class="n">mod</span> <span class="o">=</span> <span class="n">ARMA</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">disp</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">newx</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">results</span> <span class="o">=</span> <span class="n">mod</span><span class="o">.</span><span class="n">forecast</span><span class="p">(</span><span class="n">steps</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span> <span class="n">exog</span><span class="o">=</span><span class="n">newx</span><span class="p">)</span></div>


<div class="viewcode-block" id="test_arima_1123"><a class="viewcode-back" href="../../../../generated/statsmodels.tsa.tests.test_arima.test_arima_1123.html#statsmodels.tsa.tests.test_arima.test_arima_1123">[docs]</a><span class="k">def</span> <span class="nf">test_arima_1123</span><span class="p">():</span>
    <span class="c1"># test ARMAX predict when trend is none</span>
    <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">12345</span><span class="p">)</span>
    <span class="n">arparams</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">.</span><span class="mi">75</span><span class="p">,</span> <span class="o">-.</span><span class="mi">25</span><span class="p">])</span>
    <span class="n">maparams</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">.</span><span class="mi">65</span><span class="p">,</span> <span class="o">.</span><span class="mi">35</span><span class="p">])</span>

    <span class="n">arparam</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="n">arparams</span><span class="p">]</span>
    <span class="n">maparam</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">r_</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">maparams</span><span class="p">]</span>

    <span class="n">nobs</span> <span class="o">=</span> <span class="mi">20</span>

    <span class="n">dates</span> <span class="o">=</span> <span class="n">dates_from_range</span><span class="p">(</span><span class="s1">&#39;1980&#39;</span><span class="p">,</span><span class="n">length</span><span class="o">=</span><span class="n">nobs</span><span class="p">)</span>

    <span class="n">y</span> <span class="o">=</span> <span class="n">arma_generate_sample</span><span class="p">(</span><span class="n">arparams</span><span class="p">,</span> <span class="n">maparams</span><span class="p">,</span> <span class="n">nobs</span><span class="p">)</span>

    <span class="n">X</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="n">nobs</span><span class="p">)</span>
    <span class="n">y</span> <span class="o">+=</span> <span class="mi">5</span><span class="o">*</span><span class="n">X</span>
    <span class="n">mod</span> <span class="o">=</span> <span class="n">ARMA</span><span class="p">(</span><span class="n">y</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">order</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="n">exog</span><span class="o">=</span><span class="n">X</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">res</span> <span class="o">=</span> <span class="n">mod</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">trend</span><span class="o">=</span><span class="s1">&#39;nc&#39;</span><span class="p">,</span> <span class="n">disp</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">fc</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">forecast</span><span class="p">(</span><span class="n">exog</span><span class="o">=</span><span class="n">X</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">:])</span>
    <span class="c1"># results from gretl</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fc</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mf">2.200393</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fc</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mf">1.030743</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fc</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="mf">0.180175</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fc</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="mf">4.220611</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>

    <span class="n">mod</span> <span class="o">=</span> <span class="n">ARMA</span><span class="p">(</span><span class="n">y</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">order</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">exog</span><span class="o">=</span><span class="n">X</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">res</span> <span class="o">=</span> <span class="n">mod</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">trend</span><span class="o">=</span><span class="s1">&#39;nc&#39;</span><span class="p">,</span> <span class="n">disp</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">fc</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">forecast</span><span class="p">(</span><span class="n">exog</span><span class="o">=</span><span class="n">X</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">:])</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fc</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mf">2.765688</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fc</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mf">0.835048</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fc</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="mf">1.129023</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fc</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="mf">4.402353</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>

    <span class="c1"># make sure this works to. code looked fishy.</span>
    <span class="n">mod</span> <span class="o">=</span> <span class="n">ARMA</span><span class="p">(</span><span class="n">y</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">order</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="n">exog</span><span class="o">=</span><span class="n">X</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">res</span> <span class="o">=</span> <span class="n">mod</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">trend</span><span class="o">=</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="n">disp</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">fc</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">forecast</span><span class="p">(</span><span class="n">exog</span><span class="o">=</span><span class="n">X</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">:])</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fc</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mf">2.481219</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fc</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mf">0.968759</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fc</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.582485</span><span class="p">,</span> <span class="mf">4.379952</span><span class="p">],</span> <span class="mi">6</span><span class="p">)</span></div>


<div class="viewcode-block" id="test_small_data"><a class="viewcode-back" href="../../../../generated/statsmodels.tsa.tests.test_arima.test_small_data.html#statsmodels.tsa.tests.test_arima.test_small_data">[docs]</a><span class="k">def</span> <span class="nf">test_small_data</span><span class="p">():</span>
    <span class="c1"># 1146</span>
    <span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mf">1214.360173</span><span class="p">,</span> <span class="o">-</span><span class="mf">1848.209905</span><span class="p">,</span> <span class="o">-</span><span class="mf">2100.918158</span><span class="p">,</span> <span class="o">-</span><span class="mf">3647.483678</span><span class="p">,</span> <span class="o">-</span><span class="mf">4711.186773</span><span class="p">]</span>

    <span class="c1"># refuse to estimate these</span>
    <span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">ARIMA</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
    <span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">ARIMA</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
    <span class="n">mod</span> <span class="o">=</span> <span class="n">ARIMA</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
    <span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">mod</span><span class="o">.</span><span class="n">fit</span><span class="p">,</span> <span class="n">trend</span><span class="o">=</span><span class="s2">&quot;c&quot;</span><span class="p">)</span>

    <span class="c1"># try to estimate these...leave it up to the user to check for garbage</span>
    <span class="c1"># and be clear, these are garbage parameters.</span>
    <span class="c1"># X-12 arima will estimate, gretl refuses to estimate likely a problem</span>
    <span class="c1"># in start params regression.</span>
    <span class="n">res</span> <span class="o">=</span> <span class="n">mod</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">trend</span><span class="o">=</span><span class="s2">&quot;nc&quot;</span><span class="p">,</span> <span class="n">disp</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">start_params</span><span class="o">=</span><span class="p">[</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span><span class="o">.</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">mod</span> <span class="o">=</span> <span class="n">ARIMA</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
    <span class="kn">import</span> <span class="nn">warnings</span>
    <span class="k">with</span> <span class="n">warnings</span><span class="o">.</span><span class="n">catch_warnings</span><span class="p">():</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">simplefilter</span><span class="p">(</span><span class="s2">&quot;ignore&quot;</span><span class="p">)</span>
        <span class="n">res</span> <span class="o">=</span> <span class="n">mod</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">disp</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">start_params</span><span class="o">=</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">y</span><span class="p">),</span> <span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="o">.</span><span class="mi">1</span><span class="p">])</span></div>


<div class="viewcode-block" id="TestARMA00"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.TestARMA00.html#statsmodels.tsa.tests.test_arima.TestARMA00">[docs]</a><span class="k">class</span> <span class="nc">TestARMA00</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>

    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="TestARMA00.setup_class"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.TestARMA00.setup_class.html#statsmodels.tsa.tests.test_arima.TestARMA00.setup_class">[docs]</a>    <span class="k">def</span> <span class="nf">setup_class</span><span class="p">(</span><span class="n">cls</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">statsmodels.datasets.sunspots</span> <span class="k">import</span> <span class="n">load</span>

        <span class="n">sunspots</span> <span class="o">=</span> <span class="n">load</span><span class="p">()</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;SUNACTIVITY&#39;</span><span class="p">]</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span> <span class="o">=</span> <span class="n">sunspots</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">arma_00_model</span> <span class="o">=</span> <span class="n">ARMA</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
        <span class="n">cls</span><span class="o">.</span><span class="n">arma_00_res</span> <span class="o">=</span> <span class="n">cls</span><span class="o">.</span><span class="n">arma_00_model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">disp</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestARMA00.test_parameters"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.TestARMA00.test_parameters.html#statsmodels.tsa.tests.test_arima.TestARMA00.test_parameters">[docs]</a>    <span class="k">def</span> <span class="nf">test_parameters</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">params</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">arma_00_res</span><span class="o">.</span><span class="n">params</span>
        <span class="n">assert_almost_equal</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="n">params</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestARMA00.test_predictions"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.TestARMA00.test_predictions.html#statsmodels.tsa.tests.test_arima.TestARMA00.test_predictions">[docs]</a>    <span class="k">def</span> <span class="nf">test_predictions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">predictions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">arma_00_res</span><span class="o">.</span><span class="n">predict</span><span class="p">()</span>
        <span class="n">assert_almost_equal</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">ones_like</span><span class="p">(</span><span class="n">predictions</span><span class="p">),</span> <span class="n">predictions</span><span class="p">)</span></div>

    <span class="nd">@nottest</span>
<div class="viewcode-block" id="TestARMA00.test_information_criteria"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.TestARMA00.test_information_criteria.html#statsmodels.tsa.tests.test_arima.TestARMA00.test_information_criteria">[docs]</a>    <span class="k">def</span> <span class="nf">test_information_criteria</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># This test is invalid since the ICs differ due to df_model differences</span>
        <span class="c1"># between OLS and ARIMA</span>
        <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">arma_00_res</span>
        <span class="n">y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span>
        <span class="n">ols_res</span> <span class="o">=</span> <span class="n">OLS</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ones_like</span><span class="p">(</span><span class="n">y</span><span class="p">))</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">disp</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">ols_ic</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">ols_res</span><span class="o">.</span><span class="n">aic</span><span class="p">,</span> <span class="n">ols_res</span><span class="o">.</span><span class="n">bic</span><span class="p">])</span>
        <span class="n">arma_ic</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">res</span><span class="o">.</span><span class="n">aic</span><span class="p">,</span> <span class="n">res</span><span class="o">.</span><span class="n">bic</span><span class="p">])</span>
        <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">ols_ic</span><span class="p">,</span> <span class="n">arma_ic</span><span class="p">,</span> <span class="n">DECIMAL_4</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestARMA00.test_arma_00_nc"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.TestARMA00.test_arma_00_nc.html#statsmodels.tsa.tests.test_arima.TestARMA00.test_arma_00_nc">[docs]</a>    <span class="k">def</span> <span class="nf">test_arma_00_nc</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arma_00</span> <span class="o">=</span> <span class="n">ARMA</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
        <span class="n">assert_raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">arma_00</span><span class="o">.</span><span class="n">fit</span><span class="p">,</span> <span class="n">trend</span><span class="o">=</span><span class="s1">&#39;nc&#39;</span><span class="p">,</span> <span class="n">disp</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestARMA00.test_css"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.TestARMA00.test_css.html#statsmodels.tsa.tests.test_arima.TestARMA00.test_css">[docs]</a>    <span class="k">def</span> <span class="nf">test_css</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">arma</span> <span class="o">=</span> <span class="n">ARMA</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
        <span class="n">fit</span> <span class="o">=</span> <span class="n">arma</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;css&#39;</span><span class="p">,</span> <span class="n">disp</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">predictions</span> <span class="o">=</span> <span class="n">fit</span><span class="o">.</span><span class="n">predict</span><span class="p">()</span>
        <span class="n">assert_almost_equal</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">ones_like</span><span class="p">(</span><span class="n">predictions</span><span class="p">),</span> <span class="n">predictions</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestARMA00.test_arima"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.TestARMA00.test_arima.html#statsmodels.tsa.tests.test_arima.TestARMA00.test_arima">[docs]</a>    <span class="k">def</span> <span class="nf">test_arima</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">yi</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cumsum</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>
        <span class="n">arima</span> <span class="o">=</span> <span class="n">ARIMA</span><span class="p">(</span><span class="n">yi</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
        <span class="n">fit</span> <span class="o">=</span> <span class="n">arima</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">disp</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">yi</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="n">fit</span><span class="o">.</span><span class="n">params</span><span class="p">,</span> <span class="n">DECIMAL_4</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestARMA00.test_arma_ols"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.TestARMA00.test_arma_ols.html#statsmodels.tsa.tests.test_arima.TestARMA00.test_arma_ols">[docs]</a>    <span class="k">def</span> <span class="nf">test_arma_ols</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span>
        <span class="n">y_lead</span> <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
        <span class="n">y_lag</span> <span class="o">=</span> <span class="n">y</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">T</span> <span class="o">=</span> <span class="n">y_lag</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">X</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">hstack</span><span class="p">((</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="n">T</span><span class="p">,</span><span class="mi">1</span><span class="p">)),</span> <span class="n">y_lag</span><span class="p">[:,</span><span class="kc">None</span><span class="p">]))</span>
        <span class="n">ols_res</span> <span class="o">=</span> <span class="n">OLS</span><span class="p">(</span><span class="n">y_lead</span><span class="p">,</span> <span class="n">X</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
        <span class="n">arma_res</span> <span class="o">=</span> <span class="n">ARMA</span><span class="p">(</span><span class="n">y_lead</span><span class="p">,</span><span class="n">order</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="n">exog</span><span class="o">=</span><span class="n">y_lag</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">trend</span><span class="o">=</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="n">disp</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">ols_res</span><span class="o">.</span><span class="n">params</span><span class="p">,</span> <span class="n">arma_res</span><span class="o">.</span><span class="n">params</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestARMA00.test_arma_exog_no_constant"><a class="viewcode-back" href="../../../../generated/generated/statsmodels.tsa.tests.test_arima.TestARMA00.test_arma_exog_no_constant.html#statsmodels.tsa.tests.test_arima.TestARMA00.test_arma_exog_no_constant">[docs]</a>    <span class="k">def</span> <span class="nf">test_arma_exog_no_constant</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span>
        <span class="n">y_lead</span> <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
        <span class="n">y_lag</span> <span class="o">=</span> <span class="n">y</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">X</span> <span class="o">=</span> <span class="n">y_lag</span><span class="p">[:,</span><span class="kc">None</span><span class="p">]</span>
        <span class="n">ols_res</span> <span class="o">=</span> <span class="n">OLS</span><span class="p">(</span><span class="n">y_lead</span><span class="p">,</span> <span class="n">X</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
        <span class="n">arma_res</span> <span class="o">=</span> <span class="n">ARMA</span><span class="p">(</span><span class="n">y_lead</span><span class="p">,</span><span class="n">order</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="n">exog</span><span class="o">=</span><span class="n">y_lag</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">trend</span><span class="o">=</span><span class="s1">&#39;nc&#39;</span><span class="p">,</span> <span class="n">disp</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">ols_res</span><span class="o">.</span><span class="n">params</span><span class="p">,</span> <span class="n">arma_res</span><span class="o">.</span><span class="n">params</span><span class="p">)</span>
        <span class="k">pass</span></div></div>


<div class="viewcode-block" id="test_arima_dates_startatend"><a class="viewcode-back" href="../../../../generated/statsmodels.tsa.tests.test_arima.test_arima_dates_startatend.html#statsmodels.tsa.tests.test_arima.test_arima_dates_startatend">[docs]</a><span class="k">def</span> <span class="nf">test_arima_dates_startatend</span><span class="p">():</span>
    <span class="c1"># bug</span>
    <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">18</span><span class="p">)</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">pandas</span><span class="o">.</span><span class="n">TimeSeries</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="mi">36</span><span class="p">),</span>
                          <span class="n">index</span><span class="o">=</span><span class="n">pandas</span><span class="o">.</span><span class="n">DatetimeIndex</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="s1">&#39;1/1/1990&#39;</span><span class="p">,</span>
                                                     <span class="n">periods</span><span class="o">=</span><span class="mi">36</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;M&#39;</span><span class="p">))</span>
    <span class="n">res</span> <span class="o">=</span> <span class="n">ARIMA</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">disp</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">pred</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">end</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
    <span class="n">assert_</span><span class="p">(</span><span class="n">pred</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">x</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">shift</span><span class="p">(</span><span class="mi">1</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">fc</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">forecast</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">pred</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">fc</span><span class="p">)</span></div>


<div class="viewcode-block" id="test_arma_missing"><a class="viewcode-back" href="../../../../generated/statsmodels.tsa.tests.test_arima.test_arma_missing.html#statsmodels.tsa.tests.test_arima.test_arma_missing">[docs]</a><span class="k">def</span> <span class="nf">test_arma_missing</span><span class="p">():</span>
    <span class="kn">from</span> <span class="nn">statsmodels.base.data</span> <span class="k">import</span> <span class="n">MissingDataError</span>
    <span class="c1"># bug 1343</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="mi">40</span><span class="p">)</span>
    <span class="n">y</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
    <span class="n">assert_raises</span><span class="p">(</span><span class="n">MissingDataError</span><span class="p">,</span> <span class="n">ARMA</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">missing</span><span class="o">=</span><span class="s1">&#39;raise&#39;</span><span class="p">)</span></div>


<span class="nd">@dec</span><span class="o">.</span><span class="n">skipif</span><span class="p">(</span><span class="ow">not</span> <span class="n">have_matplotlib</span><span class="p">)</span>
<div class="viewcode-block" id="test_plot_predict"><a class="viewcode-back" href="../../../../generated/statsmodels.tsa.tests.test_arima.test_plot_predict.html#statsmodels.tsa.tests.test_arima.test_plot_predict">[docs]</a><span class="k">def</span> <span class="nf">test_plot_predict</span><span class="p">():</span>
    <span class="kn">from</span> <span class="nn">statsmodels.datasets.sunspots</span> <span class="k">import</span> <span class="n">load_pandas</span>

    <span class="n">dta</span> <span class="o">=</span> <span class="n">load_pandas</span><span class="p">()</span><span class="o">.</span><span class="n">data</span><span class="p">[[</span><span class="s1">&#39;SUNACTIVITY&#39;</span><span class="p">]]</span>
    <span class="n">dta</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">DatetimeIndex</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="s1">&#39;1700&#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;2009&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s1">&#39;A&#39;</span><span class="p">)</span>
    <span class="n">res</span> <span class="o">=</span> <span class="n">ARMA</span><span class="p">(</span><span class="n">dta</span><span class="p">,</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">disp</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">fig</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">plot_predict</span><span class="p">(</span><span class="s1">&#39;1990&#39;</span><span class="p">,</span> <span class="s1">&#39;2012&#39;</span><span class="p">,</span> <span class="n">dynamic</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">plot_insample</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="n">fig</span><span class="p">)</span>

    <span class="n">res</span> <span class="o">=</span> <span class="n">ARIMA</span><span class="p">(</span><span class="n">dta</span><span class="p">,</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">disp</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">fig</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">plot_predict</span><span class="p">(</span><span class="s1">&#39;1990&#39;</span><span class="p">,</span> <span class="s1">&#39;2012&#39;</span><span class="p">,</span> <span class="n">dynamic</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">plot_insample</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="n">fig</span><span class="p">)</span></div>



<div class="viewcode-block" id="test_arima_diff2"><a class="viewcode-back" href="../../../../generated/statsmodels.tsa.tests.test_arima.test_arima_diff2.html#statsmodels.tsa.tests.test_arima.test_arima_diff2">[docs]</a><span class="k">def</span> <span class="nf">test_arima_diff2</span><span class="p">():</span>
    <span class="n">dta</span> <span class="o">=</span> <span class="n">load_macrodata_pandas</span><span class="p">()</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;cpi&#39;</span><span class="p">]</span>
    <span class="n">dates</span> <span class="o">=</span> <span class="n">dates_from_range</span><span class="p">(</span><span class="s2">&quot;1959Q1&quot;</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">dta</span><span class="p">))</span>
    <span class="n">dta</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">cpi_dates</span>
    <span class="n">mod</span> <span class="o">=</span> <span class="n">ARIMA</span><span class="p">(</span><span class="n">dta</span><span class="p">,</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">disp</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">fc</span><span class="p">,</span> <span class="n">fcerr</span><span class="p">,</span> <span class="n">conf_int</span> <span class="o">=</span> <span class="n">mod</span><span class="o">.</span><span class="n">forecast</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
    <span class="c1"># forecasts from gretl</span>
    <span class="n">conf_int_res</span> <span class="o">=</span> <span class="p">[</span> <span class="p">(</span><span class="mf">216.139</span><span class="p">,</span>  <span class="mf">219.231</span><span class="p">),</span>
                     <span class="p">(</span><span class="mf">216.472</span><span class="p">,</span>  <span class="mf">221.520</span><span class="p">),</span>
                     <span class="p">(</span><span class="mf">217.064</span><span class="p">,</span>  <span class="mf">223.649</span><span class="p">),</span>
                     <span class="p">(</span><span class="mf">217.586</span><span class="p">,</span>  <span class="mf">225.727</span><span class="p">),</span>
                     <span class="p">(</span><span class="mf">218.119</span><span class="p">,</span>  <span class="mf">227.770</span><span class="p">),</span>
                     <span class="p">(</span><span class="mf">218.703</span><span class="p">,</span>  <span class="mf">229.784</span><span class="p">),</span>
                     <span class="p">(</span><span class="mf">219.306</span><span class="p">,</span>  <span class="mf">231.777</span><span class="p">),</span>
                     <span class="p">(</span><span class="mf">219.924</span><span class="p">,</span>  <span class="mf">233.759</span><span class="p">),</span>
                     <span class="p">(</span><span class="mf">220.559</span><span class="p">,</span>  <span class="mf">235.735</span><span class="p">),</span>
                     <span class="p">(</span><span class="mf">221.206</span><span class="p">,</span>  <span class="mf">237.709</span><span class="p">)]</span>


    <span class="n">fc_res</span> <span class="o">=</span> <span class="p">[</span><span class="mf">217.685</span><span class="p">,</span> <span class="mf">218.996</span><span class="p">,</span> <span class="mf">220.356</span><span class="p">,</span> <span class="mf">221.656</span><span class="p">,</span> <span class="mf">222.945</span><span class="p">,</span> <span class="mf">224.243</span><span class="p">,</span> <span class="mf">225.541</span><span class="p">,</span>
          <span class="mf">226.841</span><span class="p">,</span> <span class="mf">228.147</span><span class="p">,</span> <span class="mf">229.457</span><span class="p">]</span>
    <span class="n">fcerr_res</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.7888</span><span class="p">,</span> <span class="mf">1.2878</span><span class="p">,</span> <span class="mf">1.6798</span><span class="p">,</span> <span class="mf">2.0768</span><span class="p">,</span>  <span class="mf">2.4620</span><span class="p">,</span> <span class="mf">2.8269</span><span class="p">,</span> <span class="mf">3.1816</span><span class="p">,</span>
                 <span class="mf">3.52950</span><span class="p">,</span> <span class="mf">3.8715</span><span class="p">,</span> <span class="mf">4.2099</span><span class="p">]</span>

    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fc</span><span class="p">,</span> <span class="n">fc_res</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">fcerr</span><span class="p">,</span> <span class="n">fcerr_res</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">conf_int</span><span class="p">,</span> <span class="n">conf_int_res</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>

    <span class="n">predicted</span> <span class="o">=</span> <span class="n">mod</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="s1">&#39;2008Q1&#39;</span><span class="p">,</span> <span class="s1">&#39;2012Q1&#39;</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="s1">&#39;levels&#39;</span><span class="p">)</span>

    <span class="n">predicted_res</span> <span class="o">=</span> <span class="p">[</span><span class="mf">214.464</span><span class="p">,</span> <span class="mf">215.478</span><span class="p">,</span> <span class="mf">221.277</span><span class="p">,</span> <span class="mf">217.453</span><span class="p">,</span> <span class="mf">212.419</span><span class="p">,</span> <span class="mf">213.530</span><span class="p">,</span>
                     <span class="mf">215.087</span><span class="p">,</span> <span class="mf">217.685</span> <span class="p">,</span> <span class="mf">218.996</span> <span class="p">,</span> <span class="mf">220.356</span> <span class="p">,</span> <span class="mf">221.656</span> <span class="p">,</span>
                     <span class="mf">222.945</span> <span class="p">,</span> <span class="mf">224.243</span> <span class="p">,</span> <span class="mf">225.541</span> <span class="p">,</span> <span class="mf">226.841</span> <span class="p">,</span> <span class="mf">228.147</span> <span class="p">,</span>
                     <span class="mf">229.457</span><span class="p">]</span>
    <span class="n">assert_almost_equal</span><span class="p">(</span><span class="n">predicted</span><span class="p">,</span> <span class="n">predicted_res</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span></div>


<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">nose</span>
    <span class="n">nose</span><span class="o">.</span><span class="n">runmodule</span><span class="p">(</span><span class="n">argv</span><span class="o">=</span><span class="p">[</span><span class="n">__file__</span><span class="p">,</span> <span class="s1">&#39;-vvs&#39;</span><span class="p">,</span> <span class="s1">&#39;-x&#39;</span><span class="p">,</span> <span class="s1">&#39;--pdb&#39;</span><span class="p">],</span> <span class="n">exit</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>

           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../../',
            VERSION:'1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>