

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>5.9.1.3. statsmodels.sandbox.multilinear.multigroup &mdash; Statsmodels API v1</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Statsmodels API v1" href="../index.html"/>
        <link rel="up" title="5.9. statsmodels.sandbox.multilinear" href="statsmodels.sandbox.multilinear.html"/>
        <link rel="next" title="5.9.2.1. statsmodels.sandbox.multilinear.OLS" href="generated/statsmodels.sandbox.multilinear.OLS.html"/>
        <link rel="prev" title="5.9.1.2. statsmodels.sandbox.multilinear.multiOLS" href="statsmodels.sandbox.multilinear.multiOLS.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Statsmodels API
          

          
          </a>

          
            
            
              <div class="version">
                1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="statsmodels.api.html">1. statsmodels.api</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc_basic/index.html">2. Basic Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../main.html">3. Main modules of interest</a></li>
<li class="toctree-l1"><a class="reference internal" href="../submain.html">4. Other modules of interest</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../sandbox.html">5. statsmodel.sandbox</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="statsmodels.sandbox.contrast_old.html">5.1. statsmodels.sandbox.contrast_old</a></li>
<li class="toctree-l2"><a class="reference internal" href="statsmodels.sandbox.cox.html">5.2. statsmodels.sandbox.cox</a></li>
<li class="toctree-l2"><a class="reference internal" href="statsmodels.sandbox.descstats.html">5.3. statsmodels.sandbox.descstats</a></li>
<li class="toctree-l2"><a class="reference internal" href="statsmodels.sandbox.formula.html">5.4. statsmodels.sandbox.formula</a></li>
<li class="toctree-l2"><a class="reference internal" href="statsmodels.sandbox.gam.html">5.5. statsmodels.sandbox.gam</a></li>
<li class="toctree-l2"><a class="reference internal" href="statsmodels.sandbox.infotheo.html">5.6. statsmodels.sandbox.infotheo</a></li>
<li class="toctree-l2"><a class="reference internal" href="statsmodels.sandbox.km_class.html">5.7. statsmodels.sandbox.km_class</a></li>
<li class="toctree-l2"><a class="reference internal" href="statsmodels.sandbox.mle.html">5.8. statsmodels.sandbox.mle</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="statsmodels.sandbox.multilinear.html">5.9. statsmodels.sandbox.multilinear</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="statsmodels.sandbox.multilinear.html#functions">5.9.1. Functions</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="statsmodels.sandbox.multilinear.iteritems.html">5.9.1.1. statsmodels.sandbox.multilinear.iteritems</a></li>
<li class="toctree-l4"><a class="reference internal" href="statsmodels.sandbox.multilinear.multiOLS.html">5.9.1.2. statsmodels.sandbox.multilinear.multiOLS</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">5.9.1.3. statsmodels.sandbox.multilinear.multigroup</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="statsmodels.sandbox.multilinear.html#classes">5.9.2. Classes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="statsmodels.sandbox.pca.html">5.10. statsmodels.sandbox.pca</a></li>
<li class="toctree-l2"><a class="reference internal" href="statsmodels.sandbox.rls.html">5.11. statsmodels.sandbox.rls</a></li>
<li class="toctree-l2"><a class="reference internal" href="statsmodels.sandbox.survival.html">5.12. statsmodels.sandbox.survival</a></li>
<li class="toctree-l2"><a class="reference internal" href="statsmodels.sandbox.survival2.html">5.13. statsmodels.sandbox.survival2</a></li>
<li class="toctree-l2"><a class="reference internal" href="statsmodels.sandbox.sysreg.html">5.14. statsmodels.sandbox.sysreg</a></li>
<li class="toctree-l2"><a class="reference internal" href="statsmodels.sandbox.utils_old.html">5.15. statsmodels.sandbox.utils_old</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../sandbox2.html">6. statsmodel.sandbox2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/index.html">7. From official doc</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Statsmodels API</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          













<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../sandbox.html">5. statsmodel.sandbox</a> &raquo;</li>
        
          <li><a href="statsmodels.sandbox.multilinear.html">5.9. statsmodels.sandbox.multilinear</a> &raquo;</li>
        
      <li>5.9.1.3. statsmodels.sandbox.multilinear.multigroup</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/generated/statsmodels.sandbox.multilinear.multigroup.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="statsmodels-sandbox-multilinear-multigroup">
<h1>5.9.1.3. statsmodels.sandbox.multilinear.multigroup<a class="headerlink" href="#statsmodels-sandbox-multilinear-multigroup" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="statsmodels.sandbox.multilinear.multigroup">
<code class="descclassname">statsmodels.sandbox.multilinear.</code><code class="descname">multigroup</code><span class="sig-paren">(</span><em>pvals</em>, <em>groups</em>, <em>exact=True</em>, <em>keep_all=True</em>, <em>alpha=0.05</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/statsmodels/sandbox/multilinear.html#multigroup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#statsmodels.sandbox.multilinear.multigroup" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if the given groups are different from the total partition.</p>
<p>Given a boolean array test if each group has a proportion of positives
different than the complexive proportion.
The test can be done as an exact Fisher test or approximated as a
Chi squared test for more speed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>pvals: pandas series of boolean</strong></p>
<blockquote>
<div><p>the significativity of the variables under analysis</p>
</div></blockquote>
<p><strong>groups: dict of list</strong></p>
<blockquote>
<div><p>the name of each category of variables under exam.
each one is a list of the variables included</p>
</div></blockquote>
<p><strong>exact: boolean, optional</strong></p>
<blockquote>
<div><p>If True (default) use the fisher exact test, otherwise
use the chi squared test for contingencies tables.
For high number of elements in the array the fisher test can
be significantly slower than the chi squared.</p>
</div></blockquote>
<p><strong>keep_all: boolean, optional</strong></p>
<blockquote>
<div><p>if False it will drop those groups where the fraction
of positive is below the expected result. If True (default)</p>
<blockquote>
<div><p>it will keep all the significant results.</p>
</div></blockquote>
</div></blockquote>
<p><strong>alpha: float, optional</strong></p>
<blockquote>
<div><p>the significativity level for the pvalue correction
on the whole set of groups (not inside the groups themselves).</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">result_df: pandas dataframe</p>
<blockquote class="last">
<div><p>for each group returns:</p>
<blockquote>
<div><p>pvals - the fisher p value of the test
adj_pvals - the adjusted pvals
increase - the log of the odd ratio between the</p>
<blockquote>
<div><p>internal significant ratio versus the external one</p>
</div></blockquote>
<p>_in_sign - significative elements inside the group
_in_non - non significative elements inside the group
_out_sign - significative elements outside the group
_out_non - non significative elements outside the group</p>
</div></blockquote>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>This test allow to see if a category of variables is generally better
suited to be described for the model. For example to see if a predictor
gives more information on demographic or economical parameters,
by creating two groups containing the endogenous variables of each
category.</p>
<p>This function is conceived for medical dataset with a lot of variables
that can be easily grouped into functional groups. This is because
The significativity of a group require a rather large number of
composing elements.</p>
<p class="rubric">Examples</p>
<p>A toy example on a real dataset, the Guerry dataset from R
&gt;&gt;&gt; url = &#8220;<a class="reference external" href="http://vincentarelbundock.github.com/">http://vincentarelbundock.github.com/</a>&#8221;
&gt;&gt;&gt; url = url + &#8220;Rdatasets/csv/HistData/Guerry.csv&#8221;
&gt;&gt;&gt; df = pd.read_csv(url, index_col=&#8217;dept&#8217;)</p>
<p>evaluate the relationship between the variuos paramenters whith the Wealth
&gt;&gt;&gt; pvals = multiOLS(&#8216;Wealth&#8217;, df)[&#8216;adj_pvals&#8217;, &#8216;_f_test&#8217;]</p>
<p>define the groups
&gt;&gt;&gt; groups = {}
&gt;&gt;&gt; groups[&#8216;crime&#8217;] = [&#8216;Crime_prop&#8217;, &#8216;Infanticide&#8217;,
...     &#8216;Crime_parents&#8217;, &#8216;Desertion&#8217;, &#8216;Crime_pers&#8217;]
&gt;&gt;&gt; groups[&#8216;religion&#8217;] = [&#8216;Donation_clergy&#8217;, &#8216;Clergy&#8217;, &#8216;Donations&#8217;]
&gt;&gt;&gt; groups[&#8216;wealth&#8217;] = [&#8216;Commerce&#8217;, &#8216;Lottery&#8217;, &#8216;Instruction&#8217;, &#8216;Literacy&#8217;]</p>
<p>do the analysis of the significativity
&gt;&gt;&gt; multigroup(pvals &lt; 0.05, groups)</p>
</dd></dl>

</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="generated/statsmodels.sandbox.multilinear.OLS.html" class="btn btn-neutral float-right" title="5.9.2.1. statsmodels.sandbox.multilinear.OLS" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="statsmodels.sandbox.multilinear.multiOLS.html" class="btn btn-neutral" title="5.9.1.2. statsmodels.sandbox.multilinear.multiOLS" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>