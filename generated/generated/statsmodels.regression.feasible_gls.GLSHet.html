

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>3.9.1.2.2. statsmodels.regression.feasible_gls.GLSHet &mdash; Statsmodels API v1</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Statsmodels API v1" href="../../index.html"/>
        <link rel="up" title="3.9.1. statsmodels.regression.feasible_gls" href="../statsmodels.regression.feasible_gls.html"/>
        <link rel="next" title="3.9.1.2.2.1.1. statsmodels.regression.feasible_gls.GLSHet.__init__" href="statsmodels.regression.feasible_gls.GLSHet.__init__.html"/>
        <link rel="prev" title="3.9.1.2.1.2.4. statsmodels.regression.feasible_gls.GLS.exog_names" href="statsmodels.regression.feasible_gls.GLS.exog_names.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> Statsmodels API
          

          
          </a>

          
            
            
              <div class="version">
                1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../statsmodels.api.html">1. statsmodels.api</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../doc_basic/index.html">2. Basic Documentation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../main.html">3. Main modules of interest</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../main.html#statsmodel">3.1. statsmodel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../main.html#statsmodel-discrete">3.2. statsmodel.discrete</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../main.html#statsmodel-distributions">3.3. statsmodel.distributions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../main.html#statsmodel-emplike">3.4. statsmodel.emplike</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../main.html#statsmodel-genmod">3.5. statsmodel.genmod</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../main.html#statsmodel-graphics">3.6. statsmodel.graphics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../main.html#statsmodel-miscmodels">3.7. statsmodel.miscmodels</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../main.html#statsmodels-nonparametric">3.8. statsmodels.nonparametric</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../main.html#statsmodels-regression">3.9. statsmodels.regression</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../statsmodels.regression.feasible_gls.html">3.9.1. statsmodels.regression.feasible_gls</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../statsmodels.regression.feasible_gls.html#functions">3.9.1.1. Functions</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="../statsmodels.regression.feasible_gls.html#classes">3.9.1.2. Classes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../statsmodels.regression.linear_model.html">3.9.2. statsmodels.regression.linear_model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../statsmodels.regression.mixed_linear_model.html">3.9.3. statsmodels.regression.mixed_linear_model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../statsmodels.regression.quantile_regression.html">3.9.4. statsmodels.regression.quantile_regression</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../main.html#statsmodel-robust">3.10. statsmodel.robust</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../main.html#statsmodel-stats">3.11. statsmodel.stats</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../submain.html">4. Other modules of interest</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sandbox.html">5. statsmodel.sandbox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sandbox2.html">6. statsmodel.sandbox2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../doc/index.html">7. From official doc</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Statsmodels API</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          













<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../main.html">3. Main modules of interest</a> &raquo;</li>
        
          <li><a href="../statsmodels.regression.feasible_gls.html">3.9.1. statsmodels.regression.feasible_gls</a> &raquo;</li>
        
      <li>3.9.1.2.2. statsmodels.regression.feasible_gls.GLSHet</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/generated/generated/statsmodels.regression.feasible_gls.GLSHet.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="statsmodels-regression-feasible-gls-glshet">
<h1>3.9.1.2.2. statsmodels.regression.feasible_gls.GLSHet<a class="headerlink" href="#statsmodels-regression-feasible-gls-glshet" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="statsmodels.regression.feasible_gls.GLSHet">
<em class="property">class </em><code class="descclassname">statsmodels.regression.feasible_gls.</code><code class="descname">GLSHet</code><span class="sig-paren">(</span><em>endog</em>, <em>exog</em>, <em>exog_var=None</em>, <em>weights=None</em>, <em>link=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/statsmodels/regression/feasible_gls.html#GLSHet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#statsmodels.regression.feasible_gls.GLSHet" title="Permalink to this definition">¶</a></dt>
<dd><p>A regression model with an estimated heteroscedasticity.</p>
<p>A subclass of WLS, that additionally estimates the weight matrix as a
function of additional explanatory variables.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>endog</strong> : array_like</p>
<p><strong>exog</strong> : array_like</p>
<p><strong>exog_var</strong> : array_like, 1d or 2d</p>
<blockquote>
<div><p>regressors, explanatory variables for the variance</p>
</div></blockquote>
<p><strong>weights</strong> : array_like or None</p>
<blockquote>
<div><p>If weights are given, then they are used in the first step estimation.</p>
</div></blockquote>
<p><strong>link</strong> : link function or None</p>
<blockquote>
<div><p>If None, then the variance is assumed to be a linear combination of
the exog_var. If given, then ...  not tested yet</p>
</div></blockquote>
<p><strong>*extra attributes*</strong></p>
<p><strong>history</strong> : dict</p>
<blockquote>
<div><p>contains the parameter estimates in both regression for each iteration</p>
</div></blockquote>
<p><strong>result instance has</strong></p>
<p><strong>results_residual_regression</strong> : OLS result instance</p>
<blockquote>
<div><p>result of heteroscedasticity estimation</p>
</div></blockquote>
<p class="last"><strong>except for fit_iterative all methods are inherited from WLS.</strong></p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>GLSHet is considered to be experimental.</p>
<p><cite>fit</cite> is just standard WLS fit for fixed weights
<cite>fit_iterative</cite> updates the estimate for weights, see its docstring</p>
<p>The two alternative for handling heteroscedasticity in the data are to
use heteroscedasticity robust standard errors or estimating the
heteroscedasticity
Estimating heteroscedasticity and using weighted least squares produces
smaller confidence intervals for the estimated parameters then the
heteroscedasticity robust standard errors if the heteroscedasticity is
correctly specified. If the heteroscedasticity is incorrectly specified
then the estimated covariance is inconsistent.</p>
<p>Stock and Watson for example argue in favor of using OLS with
heteroscedasticity robust standard errors instead of GLSHet sind we are
seldom sure enough about the correct specification (in economics).</p>
<p>GLSHet has asymptotically the same distribution as WLS if the true
weights are know. In both cases the asymptotic distribution of the
parameter estimates is the normal distribution.</p>
<p>The assumption of the model:</p>
<p>y = X*beta + u,
with E(u) = 0, E(X*u)=0, var(u_i) = z_i*gamma
or for vector of all observations Sigma = diag(Z*gamma)</p>
<p>where
y : endog (nobs)
X : exog  (nobs, k_vars)
Z : exog_var (nobs, k_vars2)
beta, gamma estimated parameters</p>
<p>If a link is specified, then the heteroscedasticity is</p>
<p>var(u_i) = link.inverse(z_i*gamma), or
link(var(u_i)) = z_i*gamma</p>
<p>for example for log-linkg
var(u_i) = exp(z_i*gamma)</p>
<p>Usage : see example ....</p>
<p>TODO: test link option</p>
<dl class="method">
<dt id="statsmodels.regression.feasible_gls.GLSHet.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>endog</em>, <em>exog</em>, <em>exog_var=None</em>, <em>weights=None</em>, <em>link=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/statsmodels/regression/feasible_gls.html#GLSHet.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#statsmodels.regression.feasible_gls.GLSHet.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<div class="section" id="methods">
<h2>3.9.1.2.2.1. Methods<a class="headerlink" href="#methods" title="Permalink to this headline">¶</a></h2>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="statsmodels.regression.feasible_gls.GLSHet.__init__.html#statsmodels.regression.feasible_gls.GLSHet.__init__" title="statsmodels.regression.feasible_gls.GLSHet.__init__"><code class="xref py py-obj docutils literal"><span class="pre">__init__</span></code></a>(endog,&nbsp;exog[,&nbsp;exog_var,&nbsp;weights,&nbsp;link])</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="statsmodels.regression.feasible_gls.GLSHet.fit.html#statsmodels.regression.feasible_gls.GLSHet.fit" title="statsmodels.regression.feasible_gls.GLSHet.fit"><code class="xref py py-obj docutils literal"><span class="pre">fit</span></code></a>([method,&nbsp;cov_type,&nbsp;cov_kwds,&nbsp;use_t])</td>
<td>Full fit of the model.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="statsmodels.regression.feasible_gls.GLSHet.fit_regularized.html#statsmodels.regression.feasible_gls.GLSHet.fit_regularized" title="statsmodels.regression.feasible_gls.GLSHet.fit_regularized"><code class="xref py py-obj docutils literal"><span class="pre">fit_regularized</span></code></a>([method,&nbsp;maxiter,&nbsp;alpha,&nbsp;...])</td>
<td>Return a regularized fit to a linear regression model.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="statsmodels.regression.feasible_gls.GLSHet.from_formula.html#statsmodels.regression.feasible_gls.GLSHet.from_formula" title="statsmodels.regression.feasible_gls.GLSHet.from_formula"><code class="xref py py-obj docutils literal"><span class="pre">from_formula</span></code></a>(formula,&nbsp;data[,&nbsp;subset])</td>
<td>Create a Model from a formula and dataframe.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="statsmodels.regression.feasible_gls.GLSHet.hessian.html#statsmodels.regression.feasible_gls.GLSHet.hessian" title="statsmodels.regression.feasible_gls.GLSHet.hessian"><code class="xref py py-obj docutils literal"><span class="pre">hessian</span></code></a>(params)</td>
<td>The Hessian matrix of the model</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="statsmodels.regression.feasible_gls.GLSHet.information.html#statsmodels.regression.feasible_gls.GLSHet.information" title="statsmodels.regression.feasible_gls.GLSHet.information"><code class="xref py py-obj docutils literal"><span class="pre">information</span></code></a>(params)</td>
<td>Fisher information matrix of model</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="statsmodels.regression.feasible_gls.GLSHet.initialize.html#statsmodels.regression.feasible_gls.GLSHet.initialize" title="statsmodels.regression.feasible_gls.GLSHet.initialize"><code class="xref py py-obj docutils literal"><span class="pre">initialize</span></code></a>()</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="statsmodels.regression.feasible_gls.GLSHet.iterative_fit.html#statsmodels.regression.feasible_gls.GLSHet.iterative_fit" title="statsmodels.regression.feasible_gls.GLSHet.iterative_fit"><code class="xref py py-obj docutils literal"><span class="pre">iterative_fit</span></code></a>([maxiter])</td>
<td>Perform an iterative two-step procedure to estimate a WLS model.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="statsmodels.regression.feasible_gls.GLSHet.loglike.html#statsmodels.regression.feasible_gls.GLSHet.loglike" title="statsmodels.regression.feasible_gls.GLSHet.loglike"><code class="xref py py-obj docutils literal"><span class="pre">loglike</span></code></a>(params)</td>
<td>Returns the value of the gaussian log-likelihood function at params.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="statsmodels.regression.feasible_gls.GLSHet.predict.html#statsmodels.regression.feasible_gls.GLSHet.predict" title="statsmodels.regression.feasible_gls.GLSHet.predict"><code class="xref py py-obj docutils literal"><span class="pre">predict</span></code></a>(params[,&nbsp;exog])</td>
<td>Return linear predicted values from a design matrix.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="statsmodels.regression.feasible_gls.GLSHet.score.html#statsmodels.regression.feasible_gls.GLSHet.score" title="statsmodels.regression.feasible_gls.GLSHet.score"><code class="xref py py-obj docutils literal"><span class="pre">score</span></code></a>(params)</td>
<td>Score vector of model.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="statsmodels.regression.feasible_gls.GLSHet.whiten.html#statsmodels.regression.feasible_gls.GLSHet.whiten" title="statsmodels.regression.feasible_gls.GLSHet.whiten"><code class="xref py py-obj docutils literal"><span class="pre">whiten</span></code></a>(X)</td>
<td>Whitener for WLS model, multiplies each column by sqrt(self.weights)</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="attributes">
<h2>3.9.1.2.2.2. Attributes<a class="headerlink" href="#attributes" title="Permalink to this headline">¶</a></h2>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="statsmodels.regression.feasible_gls.GLSHet.df_model.html#statsmodels.regression.feasible_gls.GLSHet.df_model" title="statsmodels.regression.feasible_gls.GLSHet.df_model"><code class="xref py py-obj docutils literal"><span class="pre">df_model</span></code></a></td>
<td>The model degree of freedom, defined as the rank of the regressor matrix minus 1 if a constant is included.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="statsmodels.regression.feasible_gls.GLSHet.df_resid.html#statsmodels.regression.feasible_gls.GLSHet.df_resid" title="statsmodels.regression.feasible_gls.GLSHet.df_resid"><code class="xref py py-obj docutils literal"><span class="pre">df_resid</span></code></a></td>
<td>The residual degree of freedom, defined as the number of observations minus the rank of the regressor matrix.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="statsmodels.regression.feasible_gls.GLSHet.endog_names.html#statsmodels.regression.feasible_gls.GLSHet.endog_names" title="statsmodels.regression.feasible_gls.GLSHet.endog_names"><code class="xref py py-obj docutils literal"><span class="pre">endog_names</span></code></a></td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="statsmodels.regression.feasible_gls.GLSHet.exog_names.html#statsmodels.regression.feasible_gls.GLSHet.exog_names" title="statsmodels.regression.feasible_gls.GLSHet.exog_names"><code class="xref py py-obj docutils literal"><span class="pre">exog_names</span></code></a></td>
<td></td>
</tr>
</tbody>
</table>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="statsmodels.regression.feasible_gls.GLSHet.__init__.html" class="btn btn-neutral float-right" title="3.9.1.2.2.1.1. statsmodels.regression.feasible_gls.GLSHet.__init__" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="statsmodels.regression.feasible_gls.GLS.exog_names.html" class="btn btn-neutral" title="3.9.1.2.1.2.4. statsmodels.regression.feasible_gls.GLS.exog_names" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>